<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Language" content="ru"><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><TITLE>hw_api-&#62;object</TITLE>
<LINK REL="stylesheet" HREF="../style.css"></HEAD>
<BODY><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%"><TR><TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TH COLSPAN="3">Учебник РНР</TH></TR><TR><TD WIDTH="10%">
<A HREF="hwapi-object-value.html">Назад</A></TD><TD WIDTH="80%"></TD><TD WIDTH="10%" ALIGN="right"><A HREF="hwapi-objectbyanchor.html">Вперёд</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD>
<IMG SRC="../imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR></TABLE></TD></TR><TR><TD><IMG SRC="../imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%">
<H1><A NAME="function.hwapi-object">hw_api-&#62;object</A></H1><A NAME="AEN30104"></A><P>(unknown)</P>
<p>hw_api-&#62;object - запрашивает информацию атрибутов.<A NAME="AEN30107"></A></p><H2>Описание</H2><p>object <B>hw_api-&#62;object</B> (array parameter)</p>
<P>Эта функция запрашивает информацию атрибутов объекта любой версии. Она не 
возвращает содержимое документа. Массив parameter содержит необходимый элемент 'objectIdentifier' 
и необязательные элементы 'attributeSelector' и 'version'.</P><P>Возвращённый объект является экземпляром класса
<B>HW_API_Object</B> при успехе или класса <B>HW_API_Error</B> - при возникновении ошибки.</P>
<P>В следующем простом примере объект запрашивается и проверяется на наличие ошибок.<TABLE WIDTH="100%" BORDER="0">
<TR><TD><A NAME="AEN30120"></A><h5>Пример 1. Запрашивание объекта</h5><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR>
<TD><PRE>&#60;?php
function handle_error($error) {
  $reason = $error-&#62;reason(0);
  echo "Type: &#60;B&#62;";
  switch($reason-&#62;type()) {
    case 0:
      echo "Error";
      break;
    case 1:
      echo "Warning!";
      break;
    case 2:
      echo "Message";
      break;
  }
  echo "&#60;/B&#62;&#60;BR&#62;\n";
  echo "Description: ".$reason-&#62;description("en")."&#60;BR&#62;\n";
}

function list_attr($obj) {
  echo "&#60;TABLE&#62;\n";
  $count = $obj-&#62;count();
  for($i=0; $i&#60;$count; $i++) {
    $attr = $obj-&#62;attribute($i);
 printf("  &#60;TR&#62;&#60;TD ALIGN=right bgcolor=#c0c0c0&#62;&#60;B&#62;%s&#60;/B&#62;&#60;/TD&#62;&#60;TD bgcolor=#F0F0F0&#62;%s&#60;/TD&#62;\n",
             $attr-&#62;key(), $attr-&#62;value());
  }
  echo "&#60;/TABLE&#62;\n";
}

$hwapi = hwapi_hgcsp($g_config[HOSTNAME]);
<font size="1">$parms = array("objectIdentifier"=&#62;"rootcollection, "attributeSelector"=&#62;array("Title", "Name", "DocumentType"));
</font>$root = $hwapi-&#62;object($parms);
if(get_class($root) == "HW_API_Error") {
  handle_error($root);
  exit;
}
list_attr($root);
?&#62;</PRE></TD></TR></TABLE></TD></TR></TABLE><P>См. также <A HREF="hwapi-content.html"><B>hwapi_content()</B></A>.</P></TD><TD><IMG SRC="../imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD>
<IMG SRC="../imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TD WIDTH="33%" VALIGN="top"><A HREF="hwapi-object-value.html">Назад</A></TD>
<th WIDTH="34%" VALIGN="top"><A HREF="../index.html">Оглавление</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="hwapi-objectbyanchor.html">Вперёд</A></TD></TR><TR><TD WIDTH="33%" VALIGN="top">hw_api_object-&#62;value</TD>
<th WIDTH="34%" VALIGN="top"><A HREF="ref.hwapi.html">Вверх</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">hw_api-&#62;objectbyanchor</TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE></BODY></HTML>