<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Language" content="ru"><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><TITLE>preg_match</TITLE>
<LINK REL="stylesheet" HREF="../style.css"></HEAD>
<BODY><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%"><TR><TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TH COLSPAN="3">Учебник РНР</TH></TR><TR><TD WIDTH="10%" >
<A HREF="preg-match-all.html">Назад</A></TD><TD WIDTH="80%"></TD><TD WIDTH="10%" ALIGN="right">
<A HREF="preg-quote.html">Вперёд</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD>
<IMG SRC="../imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR></TABLE></TD></TR><TR><TD><IMG SRC="../imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%">
<H1><A NAME="function.preg-match">preg_match</A></H1><A NAME="AEN71120"></A><P>(PHP 3&gt;= 3.0.9, PHP 4)</P>
<p>preg_match - выполняет подстановку регулярного выражения.<A NAME="AEN71123"></A></p><H2>Описание</H2>
<p>int <B>preg_match</B> (string pattern, string subject [, array matches [, int flags]])</p>
<P>Ищет в <TT><I>subject</I></TT> совпадения с регулярным выражением, заданным в <TT><I>pattern</I></TT>.</P>
<P>Если <TT><I>matches</I></TT> предоставлен, он заполняется результатами поиска. $matches[0] будет содержать 
текст, совпавший со всем патэрном, $matches[1] будет содержать текст, 
совпавший первым захваченным субпатэрном в скобках, и так далее.</P>
<P><TT><I>flags</I></TT> это:<DL><DT>PREG_OFFSET_CAPTURE</DT><DD><P>Если этот флаг установлен, для каждого найденного совпадения будет 
возвращаться сопутствующее строковое смещение. Заметьте, что это изменяет return-значение 
в массиве, где каждый элемент является массивом, состоящим из совпавшей строки и в смещении <TT>0</TT> и её строковым смещением в
<TT><I>subject</I></TT> в смещении <TT>1</TT>. Этот флаг доступен, начиная с <TT>PHP</TT> 4.3.0.</P></DD></DL>
<p>Параметр <TT><I>flags</I></TT> доступен, начиная с <TT>PHP</TT> 4.3.0.</p><P><B>preg_match()</B> возвращает количество совпадений 
<TT><I>pattern</I></TT>. Это будет либо 0 раз (нет совпадений), либо 1 раз, поскольку <B>preg_match()</B> остановит поиск после первого найденного совпадения.
<A HREF="preg-match-all.html"><B>preg_match_all()</B></A>, наоборот, продолжит поиск до достижения конца 
<TT><I>subject</I></TT>. <B>preg_match()</B> возвращает <TT><B>FALSE</B></TT> при возникновении ошибки.</P>
<TABLE WIDTH="100%" BORDER="0"><TR><TD><A NAME="AEN71167"></A><h5>Пример 1. Найти строку текста "php"</h5>
<TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD>
<PRE>// "i" после ограничителя патэрна означает поиск без учёта регистра символов
if (preg_match ("/php/i", "PHP is the web scripting language of choice.")) {
    print "A match was found.";
} else {
    print "A match was not found.";
}</PRE></TD></TR></TABLE></TD></TR></TABLE><TABLE WIDTH="100%" BORDER="0"><TR><TD><A NAME="AEN71170"></A>
<h5>Пример 2. Найти слово "web"</h5><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD>
<PRE>// \b в патэрне указывает на границу слова, поэтому совпадёт только отдельное слово
// "web", а не часть слов, как "webbing" или "cobweb"
if (preg_match ("/\bweb\b/i", "PHP is the web scripting language of choice.")) {
    print "A match was found.";
} else {
    print "A match was not found.";
}
if (preg_match ("/\bweb\b/i", "PHP is the website scripting language of choice.")) {
    print "A match was found.";
} else {
    print "A match was not found.";
}</PRE></TD></TR></TABLE></TD></TR></TABLE><TABLE WIDTH="100%" BORDER="0"><TR><TD><A NAME="AEN71173"></A>
<h5>Пример 3. Получение имени домена из URL</h5><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD>
<PRE>// получить имя хоста из URL
preg_match("/^(http:\/\/)?([^\/]+)/i",
"http://www.php.net/index.html", $matches);
$host = $matches[2];
// получить два последних сегмента имени хоста
preg_match("/[^\.\/]+\.[^\.\/]+$/",$host,$matches);
echo "domain name is: ".$matches[0]."\n";</PRE></TD></TR></TABLE><P>Это пример выведет:
<TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE>domain name is: php.net</PRE></TD></TR></TABLE></TD></TR></TABLE>
<p>См. также <A HREF="preg-match-all.html"><B>preg_match_all()</B></A>, 
<A HREF="preg-replace.html"><B>preg_replace()</B></A> и <A HREF="preg-split.html"><B>preg_split()</B></A>.</TD><TD><IMG SRC="../imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD>
<IMG SRC="../imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TD WIDTH="33%" VALIGN="top"><A HREF="preg-match-all.html">Назад</A></TD>
<th WIDTH="34%" VALIGN="top"><A HREF="../index.html">Оглавление</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="preg-quote.html">Вперёд</A></TD></TR><TR><TD WIDTH="33%" VALIGN="top">preg_match_all</TD>
<th WIDTH="34%" VALIGN="top"><A HREF="ref.pcre.html">Вверх</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">preg_quote</TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE></BODY></HTML>