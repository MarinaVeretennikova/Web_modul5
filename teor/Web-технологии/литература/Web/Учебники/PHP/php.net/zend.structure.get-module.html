<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><TITLE>Создание get_module</TITLE>
<meta http-equiv="Content-Language" content="ru"><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<LINK REL="stylesheet" HREF="style.css"></HEAD>
<body><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%"><TR><TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TH COLSPAN="3">Учебник РНР</TH></TR><TR><TD WIDTH="10%">
<A HREF="zend.structure.module-block.html">Назад</A></TD><th WIDTH="80%">Глава 32. Исходные Ресурсы. Обсуждение.</th>
<TD WIDTH="10%" ALIGN="right"><A HREF="zend.structure.implementation.html">Вперёд</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="imag/spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></TD></TR><TR><TD><IMG SRC="imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%">
<H1><a name="zend.structure.get-module">Создание <B>get_module()</B></a></H1>
<P>Это специальная функция для всех динамически загружаемых модулей. Посмотрим 
сначала на создание через макрос <TT>ZEND_GET_MODULE</TT>:
<TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE>#if COMPILE_DL_FIRSTMOD
ZEND_GET_MODULE(firstmod)
#endif</PRE></TD></TR></TABLE>
<p>Реализация функции окружена оператором условной компиляции. Это необходимо, поскольку функция
<B>get_module()</B> требуется только тогда, когда ваш модуль построен как динамическое расширение. 
Специфицируя определение <TT>COMPILE_DL_FIRSTMOD</TT> в команде компилятору (см. ранее обсуждение инструкций компилятора, 
необходимых для построения динамического расширения), вы можете 
инструктировать ваш модуль, намереваетесь вы построить его как динамическое 
расширение или как встроенный модуль. Если вам нужен встроенный модуль,
реализация <B>get_module()</B> просто будет не нужна.</p><P><B>get_module()</B> вызывается Zend во время загрузки модуля. Вы можете представлять её как 
вызываемую с помощью вызова <A HREF="f/dl.html"><B>dl()</B></A> в вашем скрипте. Её назначение в том, чтобы передать блок информации модуля 
обратно Zend, чтобы информировать машину о содержимом модуля.</P>
<P>Если вы не реализуете функцию <B>get_module()</B> в вашем динамически загружаемом модуле, Zend выдаст вам сообщение об ошибке 
при попытке доступа к ней.</P></TD><TD><IMG SRC="imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="imag/spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TD WIDTH="33%" VALIGN="top">
<A HREF="zend.structure.module-block.html">Назад</A></TD><th WIDTH="34%" VALIGN="top">
<A HREF="index.html">Оглавление</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="zend.structure.implementation.html">Вперёд</A></TD></TR><TR><TD WIDTH="33%" VALIGN="top">Объявление блока Zend-модуля</TD>
<th WIDTH="34%" VALIGN="top"><a href="zend.structure.html">Вверх</a></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">Реализация всех импортируемых функций</TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE>
</BODY></HTML>