<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Language" content="ru"><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><TITLE>foreach</TITLE>
<LINK REL="stylesheet" HREF="style.css"></HEAD>
<body><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%"><TR><TD COLSPAN="3">
<TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR><TD>
<TABLE WIDTH="100%" CELLPADDING="3"><TR><TH COLSPAN="3">Учебник РНР</TH></TR><TR>
<TD WIDTH="10%"><A HREF="for.html">Назад</A></TD>
<th WIDTH="80%">Глава 11. Структуры Управления</th>
<TD WIDTH="10%" ALIGN="right"><A HREF="break.html">Вперёд</A></TD></TR>
</TABLE></TD></TR><TR BGCOLOR="#333366"><TD>
<IMG SRC="imag/spacer.gif" BORDER="0" width="1" height="1"><BR>
</TD></TR></TABLE></TD></TR><TR><TD><IMG SRC="imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD>
<TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><H1><A NAME="control-structures.foreach"><TT>foreach</TT></A></H1>
<P>В PHP 4 (не в PHP 3) имеется конструкция <TT>foreach</TT>,
напоминающая аналоги из Perl и некоторых других языков. Она даёт простой способ 
итерировать по массиву. Есть два вида синтаксиса: второй является расширением первого и используется реже:</p><A NAME="AEN4948"></A><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD>
<PRE>foreach(array_expression as $value) statement
foreach(array_expression as $key =&#62; $value) statement</PRE></TD></TR></TABLE>
<P>Первый вид циклически проходит по массиву, заданному в <TT>array_expression</TT>. При каждом проходе
значение текущего элемента присваивается переменной <TT>$value</TT>, а внутренний указатель
массива передвигается на единицу (поэтому при 
следующем проходе вы просмотрите значение следующего элемента).</P>
<P>Второй вид выполняет то же самое, но ключ/key текущего элемента присваивается переменной
<TT>$key</TT>.</P><BLOCKQUOTE><P><B>Примечание: </B>при старте <TT>foreach</TT> внутренний указатель
массива автоматически устанавливается на первый элемент 
массива. Это означает, что вам не нужно вызывать <A HREF="f/reset.html">
<B>reset()</B></A> перед началом выполнения цикла <TT>foreach</TT>.</P></BLOCKQUOTE>
<BLOCKQUOTE><P><B>Примечание: </B>обратите также внимание, что <TT>foreach</TT> работает
с копией специфицированного массива, а не с самим массивом, 
следовательно, указатель массива не изменяется, как при работе конструкции
<B><A HREF="f/each.html">each()</A></B>, и изменения в возвращаемом элементе
массива не влияют на массив-оригинал.</P></BLOCKQUOTE><BLOCKQUOTE><P><B>Примечание: </B>
<TT>foreach</TT> не поддерживает возможность подавления сообщений об ошибках с использованием '@'.</P></BLOCKQUOTE>
<P>Заметьте, что следующие варианты функционально идентичны:</p><A NAME="AEN4970"></A><TABLE BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD>
<PRE>reset ($arr);
while (list(, $value) = each ($arr)) {
    echo "Value: $value&#60;br&#62;\n";
}

foreach ($arr as $value) {
    echo "Value: $value&#60;br&#62;\n";
}</PRE></TD></TR></TABLE><p>Следующие варианты также функционально идентичны:</p><A NAME="AEN4972"></A></p><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD>
<PRE>reset ($arr);
while (list($key, $value) = each ($arr)) {
    echo "Key: $key; Value: $value&#60;br&#62;\n";
}

foreach ($arr as $key =&#62; $value) {
    echo "Key: $key; Value: $value&#60;br&#62;\n";
}</PRE></TD></TR></TABLE><P>Ещё несколько примеров использования:</p><A NAME="AEN4975"></A><TABLE BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE>/* foreach пример 1: только value */

$a = array (1, 2, 3, 17);

foreach ($a as $v) {
   print "Current value of \$a: $v.\n";
}

/* foreach пример 2: value (с key, выводимым для иллюстрации) */

$a = array (1, 2, 3, 17);

$i = 0; /* только для иллюстрации */

foreach($a as $v) {
    print "\$a[$i] =&#62; $v.\n";
    $i++;
}

/* foreach пример 3: key\ключ и value\значение */

$a = array (
    "one" =&#62; 1,
    "two" =&#62; 2,
    "three" =&#62; 3,
    "seventeen" =&#62; 17
);

foreach($a as $k =&#62; $v) {
    print "\$a[$k] =&#62; $v.\n";
}

/* foreach пример 4: многомерные массивы */

$a[0][0] = "a";
$a[0][1] = "b";
$a[1][0] = "y";
$a[1][1] = "z";

foreach($a as $v1) {
    foreach ($v1 as $v2) {
        print "$v2\n";
    }
}

/* foreach пример 5: динамические массивы */

foreach(array(1, 2, 3, 4, 5) as $v) {
    print "$v\n";
}</PRE></TD></TR></TABLE></TD><TD><IMG SRC="imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR>
<TD COLSPAN="3"><TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD>
<IMG SRC="imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR><TR><TD><TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TD WIDTH="33%" VALIGN="top">
<A HREF="for.html">Назад</A></TD><th WIDTH="34%" VALIGN="top"><A HREF="index.html">Оглавление</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="break.html">Вперёд</A></TD></TR><TR><TD WIDTH="33%" VALIGN="top"><TT>for</TT></TD><th WIDTH="34%" VALIGN="top">
<a href="control-structures.html">Вверх</a></th><TD WIDTH="33%" ALIGN="right" VALIGN="top"><TT>break</TT></TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE></BODY></HTML>