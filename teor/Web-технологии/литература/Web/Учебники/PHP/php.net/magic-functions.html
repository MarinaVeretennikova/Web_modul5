<!doctype HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Language" content="ru"><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<TITLE>Магические функции __sleep и __wakeup</TITLE>
<LINK REL="stylesheet" HREF="style.css"></HEAD>
<body><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%"><TR><TD COLSPAN="3">
<TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TH COLSPAN="3">Учебник РНР</TH></TR><TR>
<TD WIDTH="10%"><A HREF="serialization.html">Назад</A></TD>
<th WIDTH="80%">Глава 13. Классы и Объекты</th><TD WIDTH="10%" ALIGN="right">
<A HREF="newref.html">Вперёд</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD>
<IMG SRC="imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR></TABLE></TD></TR><TR><TD>
<IMG SRC="imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%">
<H1><a name="language.oop.magic-functions">Магические функции <TT>__sleep</TT> и <TT>__wakeup</TT></a></H1>
<P><A HREF="f/serialize.html"><B>serialize()</B></A> проверяет, имеется ли в вашем
классе функция с &quot;магическим&quot; именем <TT>__sleep</TT>. Если да, эта функция запускается
до выполнения любой сериализации. Она может 
зачистить объект, и предполагается, что она возвращает массив имён всех 
переменных этого объекта, которые должны быть сериализованы.</P>
<P>Назначение функции <TT>__sleep</TT> - закрыть любые соединения с БД, которые может иметь объект, подтверждая 
отправку данных или выполняя аналогичные задачи очистки. Также эта функция 
используется, если у вас имеются очень большие объекты, которые не нужно сохранять целиком.</P>
<P>И наоборот, <A HREF="f/unserialize.html"><B>unserialize()</B></A> проверяет наличие
функции с &quot;магическим&quot; именем<TT> __wakeup</TT>. Если да, эта функция может
реконструировать любой ресурс, имеющийся у объекта.</P>
<P>Назначение функции <TT>__wakeup</TT> - восстановить любые соединения с БД, которые могли быть потеряны в процессе 
сериализации, и выполнить другие задачи реинициализации.</P>
</TD><TD><IMG SRC="imag/spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3">
<TABLE BGCOLOR="#CCCCFF" BORDER="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD>
<IMG SRC="imag/spacer.gif" BORDER="0" width="1" height="1"><BR></TD></TR><TR><TD>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="3"><TR><TD WIDTH="33%" VALIGN="top">
<A HREF="serialization.html">Назад</A></TD><th WIDTH="34%" VALIGN="top">
<A HREF="index.html">Оглавление</A></th><TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="newref.html">Вперёд</A></TD></TR><TR><TD WIDTH="33%" VALIGN="top">Сериализация объектов - объекты сессий</TD>
<th WIDTH="34%" VALIGN="top"><a href="oop.html">Вверх</a></th>
<TD WIDTH="33%" ALIGN="right" VALIGN="top">Ссылки внутри конструктора</TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE>
</BODY></HTML>