<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>PHP if. Операторы выбора. Учебник PHP</title>
<link rel="StyleSheet" type="text/css" href="book4.css" tppabs="http://site/bookphp/book4.css">
<link rel="StyleSheet" type="text/css" href="code.css" tppabs="http://site/bookphp/code.css">
</head>
<body bottommargin="0" marginheight="0" marginwidth="0" rightmargin="0" leftmargin="0" topmargin="0">
<table style="border-bottom-style: solid; border-width: 4px; border-color: #BABABA" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#D8F0FB">
    <tr valign="top">
        <td style="padding-left: 50" height="18" colspan="2">
            <a href="http://www.softtime.ru/" title="IT-студия SoftTime"><img src="images/softtime.gif" tppabs="http://site/bookphp/images/softtime.gif" border="0" width="137" height="18" vspace="10"></a>                    
        </td>
        <td valign="middle" align="right">  
            <a style="color: #607683; font-size: 11px; font-family: Arial, Helvetica, sans-serif;" href="mailto:softtime@softtime.ru">Написать письмо авторам</a>
        </td>
        <td width=10%>&nbsp;</td>
    </tr>
</table>
<table border="0" cellspacing="17" >
    <tr valign="bottom">
        <td width=7%>&nbsp;</td>
        <td width="30%" align="center"><h1 style="font-size: 36; padding-top: 20px;  margin: 0px">УЧЕБНИК&nbsp;PHP</h1></td>
        <td align="center"><img src="images/help.gif" tppabs="http://site/bookphp/images/help.gif" border="0" width="40" height="25" alt=""><br>
            <a class=a1 href="http://www.softtime.ru/bookphp/help.php"  title="Справочник функций языка PHP 4 на сайте IT-студии <SoftTime>"><b>справочник&nbsp;функций&nbsp;<Оnline></b></a>
        </td>
        <td align="center"><img src="images/aboutbook.gif" tppabs="http://site/bookphp/images/aboutbook.gif" border="0" width="25" height="25" alt=""><br>
            <a title="Об учебнике и его авторах" class=a1 href="aboutbook.php.htm" tppabs="http://site/bookphp/aboutbook.php"><b>Об&nbsp;учебнике</b></a>
        </td>
        <td align="center"><img src="images/updatebook.gif" tppabs="http://site/bookphp/images/updatebook.gif" border="0" width="40" height="25" alt=""><br>
            <a target="_blank" title="Проверить обновления учебника" class=a1 href="http://www.softtime.ru/info/bookphp.php"><b>Обновление</b></a>
        </td>       
    </tr>
</table><br>
<a name="up"></a>
<table border="0" cellspacing="0" cellpadding="0">
    <tr valign="top">
        <td width="25%">
            <table border="0" width="100%">
                <tr>
                    <td style="background-image: url(images/linebook1.gif); background-repeat: no-repeat"  height="5" width="213"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
                </tr>
                <tr align="left">
                    <td><p style="color: #1020E3; font-size: 16px; margin-left: 10"><b>Оглавление</b></p></td>
                </tr>
                <tr>
                    <td style="background-image: url(images/linebook2.gif); background-repeat: no-repeat" height="7"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
                </tr>
                <tr>
                    <td width="213">
                        <ol>
                            <li><a class=bookmenu href="gl1_1.php.htm" tppabs="http://site/bookphp/gl1_1.php">Основы PHP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php">Операторы языка PHP</a>
                                                            <div id="activechapter">                                                        
                                    <p class=subchapter><b><a class=bookmenu href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php"><nobr>If... else</nobr></a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl2_2.php.htm" tppabs="http://site/bookphp/gl2_2.php">Switch</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl2_3.php.htm" tppabs="http://site/bookphp/gl2_3.php">Операторы цикла</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl2_4.php.htm" tppabs="http://site/bookphp/gl2_4.php">While</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl2_5.php.htm" tppabs="http://site/bookphp/gl2_5.php">Do While</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl2_6.php.htm" tppabs="http://site/bookphp/gl2_6.php">For</a></b></p>
                                                        </li>
                            <li><a class=bookmenu href="gl3_1.php.htm" tppabs="http://site/bookphp/gl3_1.php">Строковые функции</a></li>
                                    
                            <li><a class=bookmenu href="gl4_1.php.htm" tppabs="http://site/bookphp/gl4_1.php">Массивы</a>
                                
                            </li>                                                           
                            <li><a class=bookmenu href="gl5_1.php.htm" tppabs="http://site/bookphp/gl5_1.php">Функции</a>
                                                        </li>
                            <li><a class=bookmenu href="gl6_1.php.htm" tppabs="http://site/bookphp/gl6_1.php">Работа с файлами</a>
                                                        </li>
                            <li ><a class=bookmenu href="gl7_1.php.htm" tppabs="http://site/bookphp/gl7_1.php">Регулярные выражения</a>
                                                        </li>
                            <li ><a class=bookmenu href="gl8_1.php.htm" tppabs="http://site/bookphp/gl8_1.php">Сессии и cookies в PHP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl9_1.php.htm" tppabs="http://site/bookphp/gl9_1.php">Работа с FTP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl10_1.php.htm" tppabs="http://site/bookphp/gl10_1.php">Проверка данных</a>
                                                        </li>
                            <li><a class=bookmenu href="gl11_1.php.htm" tppabs="http://site/bookphp/gl11_1.php">Гостевая книга</a>
                                                        </li>
                            <li class="newchaptr"><a class=bookmenu href="gl12_1.php.htm" tppabs="http://site/bookphp/gl12_1.php">PHP и MySQL</a>
                                                        </li>
                            
                        </ol>
                        <p><i>Продолжение следует</i></p>
                    </td>
                </tr>
            </table>
        </td>
        <td ><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<br><br>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<table border="0" cellpadding="0" cellspacing="0" height="70">
    <tr>
        <td rowspan="3" width="70"><img src="images/book.gif" tppabs="http://site/bookphp/images/book.gif" border="0" width="59" height="44" alt=""></td>
        <td height="50" valign="middle"><h1 class=namepage>Операторы языка PHP</h1></td>
    </tr>
    <tr>
        <td height="7px" bgcolor="#9FB6C9"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
    </tr>
    <tr><td height="13"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td></tr>
</table><table border="0" align="right" cellpadding="0" cellspacing="7">
    <tr valign="middle" align="center">
        <td><img src="images/arrowleft.gif" tppabs="http://site/bookphp/images/arrowleft.gif" border="0" width="10" height="17" alt=""></td>
        <td><a class=a1 href="gl1_6.php.htm" tppabs="http://site/bookphp/gl1_6.php">Предыдущая</a></td>
        <td width="1" bgcolor="silver"></td>
        <td><a class=a1 href="gl2_2.php.htm" tppabs="http://site/bookphp/gl2_2.php">Следующая</a></td>
        <td><img src="images/arrowright.gif" tppabs="http://site/bookphp/images/arrowright.gif" border="0" width="10" height="17" alt=""></td>
    </tr>
    <td colspan="5" bgcolor="silver"></td>
</table>
<h1 class=p1>Операторы выбора/ if...else</h1>
<p class=text>
К операторам выбора относят: условный оператор <em class=gr>(if...else)</em> и переключатель  <em class=gr>(switch)</em>.  Синтаксис условного оператора:
<br><em class=gr>if(</em><b>condition</b><em class=gr>)</em> <b>statement 1</b> <em class=gr>else</em> <b>statement 2</b>
<p class=text>
Условие <b>condition</b> может быть любым выражением. Если оно истинно, то выполняется оператор <b>statement&nbsp;1</b>. В противном случае выполняется оператор <b>statement&nbsp;2</b>. Допустима сокращенная форма записи условного оператора, в которой отсутствуют <em class=gr>else</em> и оператор <b>statement&nbsp;2</b>. 
<p class=text>
    В свою очередь, операторы <b>statement&nbsp;1</b> и <b>statement&nbsp;2</b> могут быть условными, что позволяет организовывать цепочки проверок любой глубины вложенности. И в этих цепочках каждый условный оператор может быть как полным, так и сокращенным. В связи с этим возможны ошибки неоднозначного сопоставления <em class=gr>if</em> и <em class=gr>else</em>.
<p class=text>
Синтаксис языка предполагает, что при вложенных условных операторах каждое <em class=gr>else</em> соответствует ближайшему <em class=gr>if</em>. В качестве такого ошибочного примера можно привести следующую конструкцию <i>[Подбельский В.В. Язык С++. М.:Финансы и статистика, 2001]</i>:
<blockquote>
<pre>
<em class=red>&lt;?</em>
   <b>$x</b> = 1;
   <b>$y</b> = 1;
   <em class=gr>if</em>(<b>$x</b>&nbsp;==&nbsp;1)
   <em class=gr>if</em>(<b>$y</b>&nbsp;==&nbsp;1)<em class=gr>echo</em>("x=1 and y=1");
   <em class=gr>else echo</em>("x!=1");
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>
При <b>х</b> равном <b>1</b> и <b>у</b> равном <b>1</b> совершенно справедливо печатается фраза <em class=comnt>«х&nbsp;=&nbsp;1&nbsp;and&nbsp;у&nbsp;=&nbsp;1»</em>. Однако фраза <em class=comnt>«х&nbsp;!=&nbsp;1»</em> может быть напечатана при <b>х</b> равном <b>1</b> и при <b>у</b> не равном <b>1</b>, так как <em class=gr>else</em> соответствует ближайшему <em class=gr>if</em>. Внешний условный оператор, где проверяется <b>$x&nbsp;==&nbsp;1</b>, является сокращенным и в качестве <b>statement&nbsp;1</b> включает полный условный оператор, где проверяется условие <b>$у&nbsp;==&nbsp;1</b>. Т.е. проверка этого условия выполняется только при&nbsp;<b>х</b>&nbsp;равном&nbsp;<b>1</b>. Простым правильным решением этой задачи является применение фигурных скобок, т.е. построение составного оператора, т.е. нам нужно фигурными скобками ограничить область действия внутреннего условного оператора, сделав его неполным. Тем самым внешний оператор превращается в полный условный:
</p>

<blockquote>
<pre>
<em class=red>&lt;?</em>
   <b>$x</b> = 1;
   <b>$y </b>= 1;
   <em class=gr>if</em>(<b>$x</b>==1)
   <em class=gr>{</em>
      <em class=gr>if</em>($y==1)<em class=gr>echo</em>("x=1 and y=1");
   <em class=gr>}</em>
   <em class=gr>else echo</em>("x!=1");
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>
Заметим, что проверка дополнительных условий возможна при помощи оператора <em class=gr>elseif</em>.  Оператор <em class=gr>if</em> может включать сколько угодно блоков <em class=gr>elseif</em>, но <em class=gr>else</em> в каждом <em class=gr>if</em> может быть только один. Как правило, в конструкциях <em class=gr>if…elseif…else</em> оператор <em class=gr>else</em> определяет, что нужно делать, если никакие другие условия не являются <b>true</b>. Однако, вообще говоря, использование оператора <em class=gr>elseif</em> довольно сильно ухудшает читабельность кода, и лучше в этом случае пользоваться переключателем (<em class=gr>switch</em>). 
</p>
<p class=text>
РНР предоставляет также возможность альтернативного синтаксиса условного оператора – без фигурных скобок, а с применением оператора <em class=gr>endif</em>. В следующем примере первая таблица помещается на страницу, если только <b>$HDD</b> равно «<b>Maxtor</b>», а вторая - если «<b>Seagate</b>». Наличие оператора <em class=gr>endif</em> в этом случае обязательно, так как фигурная скобка, обозначающая конец блока <em class=gr>if</em>, отсутствует:
</p>

<blockquote>
<pre>
<em class=red>&lt;?</em>
   <em class=gr>if</em>(<b>$HDD</b> == «Maxtor»):
<em class=red>?&gt;</em>
&lt;<b>table</b>&gt;
    &lt;<b>caption</b>&gt; Maxtor &lt;<b>/caption</b>&gt;
&lt;<b>/table</b>&gt;
<em class=red>&lt;?</em>
   <em class=gr>elseif</em>($HDD == «Seagate»):
<em class=red>?&gt;</em>
&lt;<b>table</b>&gt;
   &lt;<b>caption</b>&gt; Seagate &lt;<b>/caption</b>&gt;
&lt;<b>/table</b>&gt;
<em class=red>&lt;?</em>
   <em class=gr>endif</em>;
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>Результат выполнения скрипта:</p>
<table border="0" cellpadding="0" cellspacing="0">
    <tr valign="top">
        <td>
        <p class=tip><b>Форма запроса</b>
        <img src="images/gl2_1.gif" tppabs="http://site/bookphp/images/gl2_1.gif" border="0" width="266" height="205" align="left"></td>
    </tr>
    <tr>    
        <td height="205">
        <p class=tip><b>Результат выполнения скрипта</b>
        <img src="images/gl2_2.gif" tppabs="http://site/bookphp/images/gl2_2.gif" border="0" width="348" height="148" align="left"></td>
    </tr>
</table>
<p class=text>
Значение переменной <b>$HDD</b> передается формой test.html скрипту test.php. Код формы test.html:
</p>
<blockquote>
<pre>
&lt;<b>form</b> action = &quot;<em class=bluelink>http://localhost/PHP/test.php;</em>&quot; method=&quotget&quot;&gt;
   HDD: &lt;<b>input</b> type="<b>text</b>" name="<b>HDD</b>"/&gt;&lt;br&gt;
   &lt;<b>input</b> type="<b>submit</b>"/&gt;
&lt;<b>/form</b>&gt;
</pre>
</blockquote>
<p class=text>
РНР также, как и С++, Java предоставляет возможность заменять блоки <em class=gr>if…else</em> условной операцией (в отличие от унарных и бинарных операций условная операция используется с тремя операндами). В изображении условной операции присутствуют два размещенных не подряд символа ‘?’ и ‘:’ и три операнда выражения:
</p>
<p class=text>
<b>выражение_1 ? выражение_2 : выражение_3</b>
</p>
<p class=text>
    Первым вычисляется значение <b>выражения_1</b>. Если оно истинно (т.е. не равно нулю), то вычисляется значение <b>выражения_2</b>, которое и становится результатом. Если при вычислении значения <b>выражения_1</b> получится ноль (ложь), то в качестве результата берется <b>выражение_3</b>. Классическим примером условной операции является выражение
</p>
<p class=text>
<center>
<b>x &lt; 0 ? –x : x;</b>
</center>
</p>
<p class=text>
Это выражение возвращает абсолютное значение переменой x.<br>
Т.е., к примеру, код

<blockquote>
<pre>
<em class=red>&lt;?</em>
   <em class=gr>if</em>(<b>$HDD</b> == &quot;<b>Maxtor</b>&quot;)
   <em class=gr>{</em>
      <b>$CDROM</b> = &quot;Teac&quot;;
   <em class=gr>}</em>
   <em class=gr>else</em>
   <em class=gr>{</em>
      <b>$CDROM</b> = &quot;Nec&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
можно, используя условную операцию, заменить таким:
</p>

<blockquote>
<pre>
<em class=red>&lt;?</em>
   <b>$CDROM</b> = (<b>$HDD</b> == &quot;<b>Maxtor</b>&quot;) ? &quot;<b>Teac</b>&quot; : &quot;<b>Nec</b>&quot;;
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>
Однако если Вы не хотите кому-то глубоко и надолго запудрить мозги, злоупотреблять такими записями вряд ли стоит, поскольку код становится, мягко говоря, нечитабельным. И вообще, чем проще – тем лучше.
</p>
<table border="0" align="center" cellpadding="0" cellspacing="0">
    <tr>
        <td colspan="5" align="center"><img src="images/linebook1.gif" tppabs="http://site/bookphp/images/linebook1.gif" border="0" width="212" height="5" alt=""></td>
    </tr>
    <tr valign="middle" align="center">
        <td><img src="images/arrowleft.gif" tppabs="http://site/bookphp/images/arrowleft.gif" border="0" width="10" height="17" alt=""></td>
        <td><a class=a1 href="gl1_6.php.htm" tppabs="http://site/bookphp/gl1_6.php">Предыдущая</a></td>
        <td width="1" bgcolor="silver"></td>
        <td><a class=a1 href="gl2_2.php.htm" tppabs="http://site/bookphp/gl2_2.php">Следующая</a></td>
        <td><img src="images/arrowright.gif" tppabs="http://site/bookphp/images/arrowright.gif" border="0" width="10" height="17" alt=""></td>
    </tr>
    <tr>
        <td colspan="5" align="center"><img src="images/linebook2.gif" tppabs="http://site/bookphp/images/linebook2.gif" border="0" width="213" height="11" alt=""></td>
    </tr>
</table>
        <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
            </p>
        </td>   
        <td width="7%">&nbsp;</td>  
    </tr>
</table>
<table border="0" width="100%">
    <tr>
        <td width=20%>&nbsp;</td>
        <td>
            <a class=a1 href="#up">Наверх</a>
        </td>
    </tr>
</table><br>
</body>
</html> 