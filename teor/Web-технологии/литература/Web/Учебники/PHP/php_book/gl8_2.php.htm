<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>cookies</title>
<link rel="StyleSheet" type="text/css" href="book4.css" tppabs="http://site/bookphp/book4.css">
<link rel="StyleSheet" type="text/css" href="code.css" tppabs="http://site/bookphp/code.css">
</head>
<body bottommargin="0" marginheight="0" marginwidth="0" rightmargin="0" leftmargin="0" topmargin="0">
<table style="border-bottom-style: solid; border-width: 4px; border-color: #BABABA" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#D8F0FB">
    <tr valign="top">
        <td style="padding-left: 50" height="18" colspan="2">
            <a href="http://www.softtime.ru/" title="IT-студия SoftTime"><img src="images/softtime.gif" tppabs="http://site/bookphp/images/softtime.gif" border="0" width="137" height="18" vspace="10"></a>                    
        </td>
        <td valign="middle" align="right">  
            <a style="color: #607683; font-size: 11px; font-family: Arial, Helvetica, sans-serif;" href="mailto:softtime@softtime.ru">Написать письмо авторам</a>
        </td>
        <td width=10%>&nbsp;</td>
    </tr>
</table>
<table border="0" cellspacing="17" >
    <tr valign="bottom">
        <td width=7%>&nbsp;</td>
        <td width="30%" align="center"><h1 style="font-size: 36; padding-top: 20px;  margin: 0px">УЧЕБНИК&nbsp;PHP</h1></td>
        <td align="center"><img src="images/help.gif" tppabs="http://site/bookphp/images/help.gif" border="0" width="40" height="25" alt=""><br>
            <a class=a1 href="http://www.softtime.ru/bookphp/help.php"  title="Справочник функций языка PHP 4 на сайте IT-студии <SoftTime>"><b>справочник&nbsp;функций&nbsp;<Оnline></b></a>
        </td>
        <td align="center"><img src="images/aboutbook.gif" tppabs="http://site/bookphp/images/aboutbook.gif" border="0" width="25" height="25" alt=""><br>
            <a title="Об учебнике и его авторах" class=a1 href="aboutbook.php.htm" tppabs="http://site/bookphp/aboutbook.php"><b>Об&nbsp;учебнике</b></a>
        </td>
        <td align="center"><img src="images/updatebook.gif" tppabs="http://site/bookphp/images/updatebook.gif" border="0" width="40" height="25" alt=""><br>
            <a target="_blank" title="Проверить обновления учебника" class=a1 href="http://www.softtime.ru/info/bookphp.php"><b>Обновление</b></a>
        </td>       
    </tr>
</table><br>
<a name="up"></a>
<table border="0" cellspacing="0" cellpadding="0">
    <tr valign="top">
        <td width="25%">
            <table border="0" width="100%">
                <tr>
                    <td style="background-image: url(images/linebook1.gif); background-repeat: no-repeat"  height="5" width="213"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
                </tr>
                <tr align="left">
                    <td><p style="color: #1020E3; font-size: 16px; margin-left: 10"><b>Оглавление</b></p></td>
                </tr>
                <tr>
                    <td style="background-image: url(images/linebook2.gif); background-repeat: no-repeat" height="7"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
                </tr>
                <tr>
                    <td width="213">
                        <ol>
                            <li><a class=bookmenu href="gl1_1.php.htm" tppabs="http://site/bookphp/gl1_1.php">Основы PHP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php">Операторы языка PHP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl3_1.php.htm" tppabs="http://site/bookphp/gl3_1.php">Строковые функции</a></li>
                                    
                            <li><a class=bookmenu href="gl4_1.php.htm" tppabs="http://site/bookphp/gl4_1.php">Массивы</a>
                                
                            </li>                                                           
                            <li><a class=bookmenu href="gl5_1.php.htm" tppabs="http://site/bookphp/gl5_1.php">Функции</a>
                                                        </li>
                            <li><a class=bookmenu href="gl6_1.php.htm" tppabs="http://site/bookphp/gl6_1.php">Работа с файлами</a>
                                                        </li>
                            <li ><a class=bookmenu href="gl7_1.php.htm" tppabs="http://site/bookphp/gl7_1.php">Регулярные выражения</a>
                                                        </li>
                            <li ><a class=bookmenu href="gl8_1.php.htm" tppabs="http://site/bookphp/gl8_1.php">Сессии и cookies в PHP</a>
                                                            <div id="activechapter">
                                    <p class=subchapter><a class=bookmenu href="gl8_1.php.htm" tppabs="http://site/bookphp/gl8_1.php"><nobr>Сессии в PHP</nobr></a></b></p>
                                    <p class=subchapter><b><a class=bookmenu href="gl8_2.php.htm" tppabs="http://site/bookphp/gl8_2.php"><nobr>Cookies</nobr></a></b></p>                                   
                                </div>
                                                        </li>
                            <li><a class=bookmenu href="gl9_1.php.htm" tppabs="http://site/bookphp/gl9_1.php">Работа с FTP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl10_1.php.htm" tppabs="http://site/bookphp/gl10_1.php">Проверка данных</a>
                                                        </li>
                            <li><a class=bookmenu href="gl11_1.php.htm" tppabs="http://site/bookphp/gl11_1.php">Гостевая книга</a>
                                                        </li>
                            <li class="newchaptr"><a class=bookmenu href="gl12_1.php.htm" tppabs="http://site/bookphp/gl12_1.php">PHP и MySQL</a>
                                                        </li>
                            
                        </ol>
                        <p><i>Продолжение следует</i></p>
                    </td>
                </tr>
            </table>
        </td>
        <td ><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<br><br>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<table border="0" cellpadding="0" cellspacing="0" height="70">
    <tr>
        <td rowspan="3" width="70"><img src="images/book.gif" tppabs="http://site/bookphp/images/book.gif" border="0" width="59" height="44" alt=""></td>
        <td height="50" valign="middle"><h1 class=namepage>Сессии и cookie в PHP</h1></td>
    </tr>
    <tr>
        <td height="7px" bgcolor="#9FB6C9"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
    </tr>
    <tr><td height="13"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td></tr>
</table><table border="0" align="right" cellpadding="0" cellspacing="7">
    <tr valign="middle" align="center">
        <td><img src="images/arrowleft.gif" tppabs="http://site/bookphp/images/arrowleft.gif" border="0" width="10" height="17" alt=""></td>
        <td><a class=a1 href="gl8_1.php.htm" tppabs="http://site/bookphp/gl8_1.php">Предыдущая</a></td>
        <td width="1" bgcolor="silver"></td>
        <td><a class=a1 href="gl9_1.php.htm" tppabs="http://site/bookphp/gl9_1.php">Следующая</a></td>
        <td><img src="images/arrowright.gif" tppabs="http://site/bookphp/images/arrowright.gif" border="0" width="10" height="17" alt=""></td>  

    </tr>
    <td colspan="5" bgcolor="silver"></td>
</table>
<h1 class=p1>cookies</h1>
<table border="0" cellspacing="10">
    <tr valign="top">
        <td>
            <a class=bluelink href="#1" title="Установка cookies" >setcookie()</a>&nbsp;<br>
        </td>
        <td>
            <a class=bluelink href="#2" title="Установка срока годности cookies">time()</a>&nbsp;<br>                   
        </td>
        <td>        
            <a class=bluelink href="#3" title="Установка срока годности cookies">mktime()</a>&nbsp;<br>     
        </td>
    </tr>
</table>
<br>
<br>

<p class=text>Использование сookies удобно как для программистов, так и для пользователей. Пользователи выигрывают за счет того, что им не приходится каждый раз заново вводить информацию о себе, а программистам сookies помогают легко и надежно сохранять информацию о пользователях.</p>
<p class=text><b>Определение</b><i> Cookies - это текстовые строки, хранящиеся на стороне клиента, и содержащие пары "имя-значение", с которыми связан URL, по которому броузер определяет нужно ли посылать cookies на сервер.</i></p>
<a name=1></a>
<h2 class=p1>Установка cookies</h2>
<p class=text>Установка cookies производится с помощью функции <b>setcookie</b>:</p>

<h1 class=p1>setcookie</h1>
<p class=prim><b><i>Синтаксис:</i></b></p>
<blockquote><pre>
  <em class=gr>bool</em> <b>setcookie</b><em class=gr> (</em><b>string name</b> [, <b>string value</b> [, <em class=gr>int</em> <b>expire</b> [, <em class=gr>string</em> <b>path</b>
  [, <em class=gr>string</em><b> domain</b> [, <em class=gr>int</em><b> secure</b>]]]]]<em class=gr>)</em>
</pre></blockquote>
<p class=text>Эта функция имеет следующие аргументы:</p>
<ul>
  <li><b>name</b> - имя устанавливаемого cookie;</li>
  <li><b>value</b> - значение, хранящееся в cookie с именем <b>$name</b>;</li>
  <li><b>expire</b> - время в секундах с начала эпохи, по истечение которого текущий cookie становится недейтвительным;</li>
  <li><b>path</b> - путь, по которому доступен cookie;</li>
  <li><b>domain</b> - домен, из которого доступен cookie;</li>
  <li><b>secure</b> - директива, определяющая, доступен ли cookie не по запросу HTPPS. По умолчанию эта директива имеет значение 0, что означает возможность доступа к cookie по обычному запросу HTTP.</li>
</ul>
<h2 class=p1>Пример простого приложения с cookies</h2>
<p class=text>Давайте создадим простой сценарий, подсчитывающий при помощи cookies количество обращений посетителя к странице.</p>
<p class=text>В cookie с именем counter будет храниться число посещений страницы пользователем:</p>
<blockquote><pre>
<em class=red>&lt;?</em>
  <b>$counter</b>++<em class=gr>;</em>
  <b>setcookie</b><em class=gr>(</em>"counter",<b>$counter</b><em class=gr>);
  echo(</em>"Вы посетили эту страницу <b>$counter</b> раз"<em class=gr>);</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<p class=text>Результат выполнения сценария на рис.:</p>
<img src="images/4.jpg" tppabs="http://site/bookphp/images/4.jpg">
<p class=text>При работе с cookies необходимо учитывать важный момент, заключающийся в том, что cookie надо обязательно устанавливать перед отправкой в броузер каких-либо заголовков, поскольку сами cookies устанавливаются в виде заголовков. Поэтому если установить cookies после какого-либо текста, отправляемого в броузер, то возникнет ошибочная ситуация.</p>
<p class=text>Рассмотрим этот вопрос подробнее, для чего модифицируем код, приведенный в листинге, поместив перед установкой cookie текст:</p>
<blockquote><pre>
  Если здесь поместить текст, то возникнет ошибка, так как
  будет послан заголовок Content-type: text/html. 
<em class=red>&lt;?</em>
  <b>$counter</b>++<em class=gr>;</em>
  <b>setcookie</b><em class=gr>(</em>"counter",<b>$counter</b><em class=gr>);
  echo(</em>"Вы посетили эту страницу <b>$counter</b> раз"<em class=gr>);</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<p class=text>Как видно из рис., при выполнении этого сценария выводится сообщение об ошибке:</p>
<img src="images/5.jpg" tppabs="http://site/bookphp/images/5.jpg">
<p class=text>Заметим, что в этих листингах мы обращаемся к переменной <b>$counter</b>, в которой хранится значение cookie, как к глобальной, что требует наличия включенной директивы <b>register_globals</b>. Если эта директива отключена, то значение, хранящееся в cookie можно получить через глобальные массивы <b>$HTTP_COOKIE_VARS</b>["name"] и <b>$_COOKIE</b>["name"]:</p>
<blockquote><pre>
<em class=red>&lt;?</em>
  <b>$_COOKIE</b>['counter']++<em class=gr>;</em>
  <b>setcookie</b><em class=gr>(</em>"counter",<b>$counter</b><em class=gr>);
  echo</em> 'Вы посетили эту страницу '.<b>$_COOKIE</b>['counter'].' раз'<em class=gr>;</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<p class=text>Поскольку некоторые пользователи отключают cookie в настройках своих браузеров, для корректной работы, в приложение, использующее cookies, необходимо помещать код, проверяющий включены ли cookies у посетителя, и, если нет, то сообщающий ему о необходимости включить cookie:</p>
<blockquote><pre>
<em class=red>&lt;?</em>
  <b>if</b><em class=gr>(</em><b>!$cookie</b><em class=gr>)
  {</em>
    <em class=comnt>/* посылаем заголовок переадресации на страницу,
    с которой будет предпринята попытка установить cookie */</em>
    <b>header</b><em class=gr>(</em>"Location: <b>$PHP_SELF?cookie=1</b>"<em class=gr>);</em>
    <em class=comnt>/* устанавливаем cookie с именем "test" */</em>
    <b>setcookie</b><em class=gr>(</em>"test","1"<em class=gr>);
  }
  else
  {</em>
    <b>if</b><em class=gr>(</em><b>!$test</b><em class=gr>)
    {
      echo(</em>"Для корректной работы приложения необходимо включить cookies"<em class=gr>);
    }
    else
    {</em><em class=comnt>
      /* cookie включены, переходим на нужную страницу */</em>
      <b>header</b><em class=gr>(</em>"Location: http://localhost/test1.php"<em class=gr>);
    }
  }</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<a name=2></a>
<h2 class=p1>Установка срока годности cookies</h2>
<p class=text>По умолчанию cookies устанавливаются на один сеанс работы с броузером, однако можно задать для них более продолжительный срок существования. Это очень удобное и полезное свойство, поскольку в этом случае пользователю не нужно предоставлять свои данные вновь при каждом посещении сайта.</p>
<p class=text>Как уже говорилось, срок годности устанавливается в секундах относительно начала эпохи. В PHP существуют функции <b>time</b> и <b>mktime</b> для работы с датой и временем, позволяющие переводить текущее время в количество секунд с начала эпохи. Функция <b>time</b> просто переводит текущее системное время в количество секунд, прошедших с начала эпохи:</p>

<h1 class=p1>time</h1>
<p class=prim><b><i>Синтаксис:</i></b></p>
<blockquote><pre>
  <b>time</b><em class=gr>();</em>
</pre></blockquote>
<a name=3></a>
<p class=text>Усовершенствованным вариантом функции <b>time</b> является функция <b>mktime</b>:</p>

<h1 class=p1>mktime</h1>
<p class=prim><b><i>Синтаксис:</i></b></p>
<blockquote><pre>
  <em class=gr>int</em><b> mktime</b><em class=gr> (</em>[<em class=gr>int</em><b> hour</b> [, <em class=gr>int</em><b> minute</b> [, <em class=gr>int</em><b> second</b> [, <em class=gr>int</em><b> month</b> [, <em class=gr>int</em>
  <b>day</b> [, <em class=gr>int</em><b> year</b> [, <em class=gr>int</em><b> is_dst</b>]]]]]]]<em class=gr>)</em>
</pre></blockquote>
<p class=text>Аргумент <b>is_dst</b> этой функции определяет, попадает ли эта дата в период летнего времени и может принимать следующие значения:</p>
<ul>
  <li>-1 (По умолчанию. Означает, что свойство не задано);</li>
  <li> 0 (Временной интервал не приходится на период летнего времени);</li>
  <li> 1 (Временной интервал приходится на период летнего времени).</li>
</ul>
<p class=text>Примеры установки сроки годности cookies:</p>
<blockquote><pre>
<em class=red>&lt;?</em>
  <em class=comnt>/* этот cookie действителен в течение 10 мин после создания */</em>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, <b>time</b><em class=gr>()</em> + 600<em class=gr>);</em>
  <em class=comnt>/* действие этого cookie прекращается в полночь 25 января 2010 года */</em>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, <b>mktime</b><em class=gr>(</em>0,0,0,01,25,2010<em class=gr>));</em>
  <em class=comnt>/* действие этого cookie прекращается в 18.00 25 января 2010 года */</em>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, <b>mktime</b><em class=gr>(</em>18,0,0,01,25,2010<em class=gr>));</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<h2 class=p1>Удаление cookie</h2>
<p class=text>Удалить cookie просто. Для этого надо вызвать функцию <b>setcookie</b> и передать ей имя того cookie, который подлежит удалению:</p>
<blockquote><pre>
  <b>setcookie</b><em class=gr>(</em>"name"<em class=gr>);</em>
</pre></blockquote>
<p class=text>Другие установленные cookie при этом не удаляются.</p>
<h2 class=p1>Проблемы безопасности, связанные с cookies</h2>
<p class=text>Иногда в cookies приходится хранить конфиденциальные данные, и в этом случае разработчик должен позаботиться о том, чтобы информация хранящееся в cookie не была передана третьим лицам. Существует несколько методов защиты информации, хранящейся в cookie:</p>
<ul>
  <li>установка области видимости cookies;</li>
  <li>шифрование;</li>
  <li>ограничение доступа для доменов;</li>
  <li>отправка cookies по защищенному запросу.</li>
</ul>
<p class=text>Наилучшим решением является комплексное применение всех этих способов.</p>
<h2 class=p1>Установка области видимости cookie</h2>
<p class=text>Поскольку, по умолчанию, доступ к cookie происходит из корневого каталога, это может создать "дыры" в системе защиты, так как cookies становятся доступными в любом подкаталоге этого каталога. Ограничить доступ к cookies для всех страниц, кроме расположенных в конкретном каталоге, к примеру, /web, можно следующим образом:</p>
<blockquote><pre>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, "/web/"<em class=gr>);</em>
</pre></blockquote>
<p class=text>Однако и в этом случае, к примеру, каталоги /web/index.php, /web1/page.html и т. д. будут удовлетворять этому ограничению. Если такое положение также является нежелательным, можно ограничить область видимости cookies до конкретной страницы:</p>
<blockquote><pre>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, "/web/index.php"<em class=gr>);</em>
</pre></blockquote>
<p class=text>Однако и такой способ в полной мере не решает проблему, так как в этом случае доступ к информации, содержащейся в cookie, может получить, к примеру, скрипт /web/index.php-script/anti_cookie.php. Поэтому появляется необходимость в шифровании.</p>
<h2 class=p1>Шифрование</h2>
<p class=text>Применить шифрование к cookies можно разными способами, рассмотрим один из них:</p>
<blockquote><pre>
<em class=red>&lt;?</em>
  //<em class=comnt> создаем вектор начального состояния для шифрования</em>
  <b>$vector</b><em class=gr> = </em><b>mcrypt_create_iv</b><em class=gr>(</em><b>mcrypt_get_iv_size</b><em class=gr>(</em><b>MCRYPT_CAST_256</b>, 
                             <b>MCRYPT_MODE_CFB</b><em class=gr>)</em>, <b>MCRYPT_RAND</b><em class=gr>);</em>
  <b>$key</b><em class=gr> = </em>"qwe233jk312jx813893xk312"<em class=gr>;</em> //<em class=comnt> ключ для расшифрования</em>
  <b>$cook_name</b><em class=gr> = </em>"maks"<em class=gr>;</em>
  <b>$cipher</b><em class=gr> = </em><b>mcrypt_encrypt</b><em class=gr>(</em><b>MCRYPT_CAST_256</b>, <b>$key</b>, <b>$cook_name</b>,
                           <b>MCRYPT_MODE_CFB</b>, <b>$vector</b><em class=gr>);</em>
  <b>setcookie</b><em class=gr>(</em>"username", <b>$cipher</b>, "/decrypt.php"<em class=gr>);</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<p class=text>Как видно из листинга 10.13, расшифровка cookie проводится при помощи скрипта  decrypt.php, код которого приведен ниже:</p>
<blockquote><pre>
<em class=red>&lt;?</em>
  //<em class=comnt> вектор начального состояния остается неизменным</em>
  <b>$vector</b><em class=gr> = </em><b>mcrypt_create_iv</b><em class=gr>(</em><b>mcrypt_get_iv_size</b><em class=gr>(</em><b>MCRYPT_CAST_256</b>,
                             <b>MCRYPT_MODE_CFB</b><em class=gr>)</em>, <b>MCRYPT_RAND</b><em class=gr>);</em>
  <b>$key</b><em class=gr> = </em>"qwe233jk312jx813893xk312"<em class=gr>;</em>
  <b>$decrypt_name</b><em class=gr> = </em><b>mcrypt_ decrypt</b><em class=gr>(</em><b>MCRYPT_CAST_256</b>, <b>$key</b>, <b>$username</b>,
                                  <b>MCRYPT_MODE_CFB</b>, <b>$vector</b><em class=gr>);
  echo(</em>"<b>$decrypt_name</b>, мы рады видеть вас на нашей страничке!"<em class=gr>);</em>
<em class=red>?&gt;</em>
</pre></blockquote>
<h2 class=p1>Ограничение доступа для доменов</h2>
<p class=text>Для дополнительной безопасности, список доменов, имеющих доступ к cookies, должен быть ограничен. Это можно сделать при помощи следующего кода:</p>
<blockquote><pre>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, "/web/index.php", ".server.com"<em class=gr>);</em>
</pre></blockquote>
<p class=text>При таком ограничении заданной области видимости будут соответствовать домены с именами server.com, myservser.com, php.server.com и т. д., поскольку проверка на допустимость области видимости домена осуществляется по принципу концевого соответствия.</p>
<h2 class=p1>Отправка cookies по защищенному запросу</h2>
<p class=text>Не является излишним для cookie, хранящему секретные данные, разрешить отвечать только на защищенные запросы HTTP, так как в этом случае значительно затрудняется перехват данных, которыми обмениваются клиент и сервер. Для обеспечения защищенного соединения, функции <b>setcookie</b> передается шестой параметр со значением, равным 1:</p>
<blockquote><pre>
  <b>setcookie</b><em class=gr>(</em>"name", <b>$value</b>, <b>time</b><em class=gr>()</em> + 600, "/web/", ".server.com", 1<em class=gr>);</em>
</pre></blockquote>

<br>
<br>
<table border="0" align="center" cellpadding="0" cellspacing="0">
    <tr>
        <td colspan="5" align="center"><img src="images/linebook1.gif" tppabs="http://site/bookphp/images/linebook1.gif" border="0" width="212" height="5" alt=""></td>
    </tr>
    <tr valign="middle" align="center">
        <td><img src="images/arrowleft.gif" tppabs="http://site/bookphp/images/arrowleft.gif" border="0" width="10" height="17" alt=""></td>
        <td><a class=a1 href="gl8_1.php.htm" tppabs="http://site/bookphp/gl8_1.php">Предыдущая</a></td>
        <td width="1" bgcolor="silver"></td>
        <td><a class=a1 href="gl9_1.php.htm" tppabs="http://site/bookphp/gl9_1.php">Следующая</a></td>
        <td><img src="images/arrowright.gif" tppabs="http://site/bookphp/images/arrowright.gif" border="0" width="10" height="17" alt=""></td>
    </tr>
    <tr>
        <td colspan="5" align="center"><img src="images/linebook2.gif" tppabs="http://site/bookphp/images/linebook2.gif" border="0" width="213" height="11" alt=""></td>
    </tr>
</table>
        <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
            </p>
        </td>   
        <td width="7%">&nbsp;</td>  
    </tr>
</table>
<table border="0" width="100%">
    <tr>
        <td width=20%>&nbsp;</td>
        <td>
            <a class=a1 href="#up">Наверх</a>
        </td>
    </tr>
</table><br>
</body>
</html> 