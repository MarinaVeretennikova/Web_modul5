<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Учебник PHP. Самоучитель.</title>
<link rel="StyleSheet" type="text/css" href="book4.css" tppabs="http://site/bookphp/book4.css">
<link rel="StyleSheet" type="text/css" href="code.css" tppabs="http://site/bookphp/code.css">
</head>
<body bottommargin="0" marginheight="0" marginwidth="0" rightmargin="0" leftmargin="0" topmargin="0">
<table style="border-bottom-style: solid; border-width: 4px; border-color: #BABABA" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#D8F0FB">
    <tr valign="top">
        <td style="padding-left: 50" height="18" colspan="2">
            <a href="http://www.softtime.ru/" title="IT-студия SoftTime"><img src="images/softtime.gif" tppabs="http://site/bookphp/images/softtime.gif" border="0" width="137" height="18" vspace="10"></a>                    
        </td>
        <td valign="middle" align="right">  
            <a style="color: #607683; font-size: 11px; font-family: Arial, Helvetica, sans-serif;" href="mailto:softtime@softtime.ru">Написать письмо авторам</a>
        </td>
        <td width=10%>&nbsp;</td>
    </tr>
</table>
<table border="0" cellspacing="17" >
    <tr valign="bottom">
        <td width=7%>&nbsp;</td>
        <td width="30%" align="center"><h1 style="font-size: 36; padding-top: 20px;  margin: 0px">УЧЕБНИК&nbsp;PHP</h1></td>
        <td align="center"><img src="images/help.gif" tppabs="http://site/bookphp/images/help.gif" border="0" width="40" height="25" alt=""><br>
            <a class=a1 href="http://www.softtime.ru/bookphp/help.php"  title="Справочник функций языка PHP 4 на сайте IT-студии <SoftTime>"><b>справочник&nbsp;функций&nbsp;<Оnline></b></a>
        </td>
        <td align="center"><img src="images/aboutbook.gif" tppabs="http://site/bookphp/images/aboutbook.gif" border="0" width="25" height="25" alt=""><br>
            <a title="Об учебнике и его авторах" class=a1 href="aboutbook.php.htm" tppabs="http://site/bookphp/aboutbook.php"><b>Об&nbsp;учебнике</b></a>
        </td>
        <td align="center"><img src="images/updatebook.gif" tppabs="http://site/bookphp/images/updatebook.gif" border="0" width="40" height="25" alt=""><br>
            <a target="_blank" title="Проверить обновления учебника" class=a1 href="http://www.softtime.ru/info/bookphp.php"><b>Обновление</b></a>
        </td>       
    </tr>
</table><br>
<a name="up"></a>
<table border="0" cellspacing="0" cellpadding="0">
    <tr valign="top">
        <td width="25%">
            <table border="0" width="100%">
                <tr>
                    <td style="background-image: url(images/linebook1.gif); background-repeat: no-repeat"  height="5" width="213"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
                </tr>
                <tr align="left">
                    <td><p style="color: #1020E3; font-size: 16px; margin-left: 10"><b>Оглавление</b></p></td>
                </tr>
                <tr>
                    <td style="background-image: url(images/linebook2.gif); background-repeat: no-repeat" height="7"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
                </tr>
                <tr>
                    <td width="213">
                        <ol>
                            <li><a class=bookmenu href="gl1_1.php.htm" tppabs="http://site/bookphp/gl1_1.php">Основы PHP</a>
                                                            <div id="activechapter">                                                        
                                    <p class=subchapter><a class=bookmenu href="gl1_1.php.htm" tppabs="http://site/bookphp/gl1_1.php"><nobr>PHP программы</nobr></a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl1_2.php.htm" tppabs="http://site/bookphp/gl1_2.php">Комментарии</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl1_3.php.htm" tppabs="http://site/bookphp/gl1_3.php">Переменные PHP</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl1_4.php.htm" tppabs="http://site/bookphp/gl1_4.php">Константы</a></b></p>
                                    <p class=subchapter><a class=bookmenu href="gl1_5.php.htm" tppabs="http://site/bookphp/gl1_5.php">Типы данных в РНР. Преобразование типов</a></b></p>
                                    <p class=subchapter><b><a class=bookmenu href="gl1_6.php.htm" tppabs="http://site/bookphp/gl1_6.php">Операторы</a></b></p>
                                </div>  
                                                        </li>
                            <li><a class=bookmenu href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php">Операторы языка PHP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl3_1.php.htm" tppabs="http://site/bookphp/gl3_1.php">Строковые функции</a></li>
                                    
                            <li><a class=bookmenu href="gl4_1.php.htm" tppabs="http://site/bookphp/gl4_1.php">Массивы</a>
                                
                            </li>                                                           
                            <li><a class=bookmenu href="gl5_1.php.htm" tppabs="http://site/bookphp/gl5_1.php">Функции</a>
                                                        </li>
                            <li><a class=bookmenu href="gl6_1.php.htm" tppabs="http://site/bookphp/gl6_1.php">Работа с файлами</a>
                                                        </li>
                            <li ><a class=bookmenu href="gl7_1.php.htm" tppabs="http://site/bookphp/gl7_1.php">Регулярные выражения</a>
                                                        </li>
                            <li ><a class=bookmenu href="gl8_1.php.htm" tppabs="http://site/bookphp/gl8_1.php">Сессии и cookies в PHP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl9_1.php.htm" tppabs="http://site/bookphp/gl9_1.php">Работа с FTP</a>
                                                        </li>
                            <li><a class=bookmenu href="gl10_1.php.htm" tppabs="http://site/bookphp/gl10_1.php">Проверка данных</a>
                                                        </li>
                            <li><a class=bookmenu href="gl11_1.php.htm" tppabs="http://site/bookphp/gl11_1.php">Гостевая книга</a>
                                                        </li>
                            <li class="newchaptr"><a class=bookmenu href="gl12_1.php.htm" tppabs="http://site/bookphp/gl12_1.php">PHP и MySQL</a>
                                                        </li>
                            
                        </ol>
                        <p><i>Продолжение следует</i></p>
                    </td>
                </tr>
            </table>
        </td>
        <td ><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<br><br>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<table border="0" cellpadding="0" cellspacing="0" height="70">
    <tr>
        <td rowspan="3" width="70"><img src="images/book.gif" tppabs="http://site/bookphp/images/book.gif" border="0" width="59" height="44" alt=""></td>
        <td height="50" valign="middle"><h1 class=namepage>Основы PHP</h1></td>
    </tr>
    <tr>
        <td height="7px" bgcolor="#9FB6C9"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td>
    </tr>
    <tr><td height="13"><img src="images/pic.gif" tppabs="http://site/bookphp/images/pic.gif" border="0" width="1" height="1" alt=""></td></tr>
</table><table border="0" align="right" cellpadding="0" cellspacing="7">
    <tr valign="middle" align="center">
        <td><img src="images/arrowleft.gif" tppabs="http://site/bookphp/images/arrowleft.gif" border="0" width="10" height="17" alt=""></td>
        <td><a class=a1 href="gl1_5.php.htm" tppabs="http://site/bookphp/gl1_5.php">Предыдущая</a></td>
        <td width="1" bgcolor="silver"></td>
        <td><a class=a1 href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php">Следующая</a></td>
        <td><img src="images/arrowright.gif" tppabs="http://site/bookphp/images/arrowright.gif" border="0" width="10" height="17" alt=""></td>
    </tr>
    <td colspan="5" bgcolor="silver"></td>
</table>
<h1 class=p1>Операторы</h1>
<p><b>Арифметические операторы</b></p>
<table border="1" cellspacing="0" cellpadding="5" bgcolor="#F1F1F1" bordercolordark="white">
    <tr>
        <td>+</td>
        <td>Сложение</td>
    </tr>
    <tr>
        <td>-</td>
        <td>Вычитание</td>
    </tr>
    <tr>
        <td>*</td>
        <td>Умножение</td>
    </tr>
    <tr>
        <td>/</td>
        <td>Деление</td>
    </tr>
    <tr>
        <td>%</td>
        <td>Вычисление остатка по модулю (к примеру: 5 % 2=1)</td>
    </tr>
</table>

<p><b>Поразрядные операторы</b></p>
<p class=text>Эта группа операторов работает с битовыми представлениями значений целочисленных операндов. В основном эти операторы применяются для создания набора булевых флагов. В наших упражнениях мы будем использовать эти операторы очень редко, однако на всякий случай ниже приведен пример с использованием этих операторов.
</p>
<table border="1" cellspacing="0" cellpadding="5" bgcolor="#F1F1F1" bordercolordark="white">
    <tr>
        <td align="center"><b>&</b></td>
        <td>Поразрядная конъюнкция (AND)</td>
    </tr>
    <tr>
        <td align="center"><b>|</b></td>
        <td>Поразрядная дизъюнкция (OR)</td>
    </tr>
    <tr>
        <td align="center"><b>^</b></td>
        <td>Поразрядное исключающее ИЛИ (XOR)</td>
    </tr>
    <tr>
        <td align="center"><b>~</b></td>
        <td>Поразрядное отрицание (NOT)</td>
    </tr>
    <tr>
        <td><b><<</b></td>
        <td>Сдвиг влево битового представления значения левого целочисленного операнда на количество разрядов, равное значению правого целочисленного операнда</td>
    </tr>
    <tr>
        <td><b>>></b></td>
        <td>Сдвиг вправо битового представления значения левого целочисленного операнда на количество разрядов, равное значению правого целочисленного операнда </td>
    </tr>   
</table>

<p><b>Пример:</b></p>
<blockquote>
<pre>
<em class=red>&lt;?</em>
   <em class=gr>echo</em>(4<<2); // <em class=comnt>равно 16</em> 
   <em class=gr>echo</em>"&lt;br&gt;"; 
   <em class=gr>echo</em>(5>>1); // <em class=comnt>равно 2</em>
   <em class=gr>echo</em>"&lt;br&gt;"; 
   <em class=gr>echo</em>(6&5); // <em class=comnt>равно 4</em>
   <em class=gr>echo</em>"&lt;br&gt;"; 
   <em class=gr>echo</em>(6|5); // <em class=comnt>равно 7</em>
   <em class=gr>echo</em>"&lt;br&gt;"; 
   <em class=gr>echo</em>(6^5); // <em class=comnt>равно 3</em>
<em class=red>&gt;?</em>
</pre>
</blockquote>

<p class=text>Разберем первый пример. Двоичный код для 4 равен 100, при сдвиге влево на 2 разряда код 100 становится равным 10000, что соответствует десятичному значению 16. Остальные примеры могут быть разобраны аналогично. Обратим внимание на то, что сдвиг влево на n позиций эквивалентен умножению на <b>2n</b>, а сдвиг вправо уменьшает соответствующее значение в <b>2n</b> раз с отбрасыванием дробной части результата (поэтому 5>>1 равно 2). Основное назначение этих операторов – быстрые вычисления. Так как их поддержка осуществляется на аппаратном уровне (процессор), алгоритмы, выполненные с использованием данных операторов получаются очень производительными.
</p>
<p><b>Логические операторы</b></p>
<table border="1" cellspacing="0" cellpadding="5" bgcolor="#F1F1F1" bordercolordark="white">
    <tr>
        <td align="center"><b>or</b> или <b>||</b></td>
        <td>ИЛИ</td>
    </tr>
    <tr>
        <td align="center"><b>Xor</b></td>
        <td>исключающее ИЛИ</td>
    </tr>
    <tr>
        <td align="center"><b>and</b> или <b>&&</b></td>
        <td>И</td>
    </tr>
    <tr>
        <td align="center"><b>!</b></td>
        <td>НЕ</td>
    </tr>
</table>

<p class=text>Операторы этой группы, в отличие от поразрядных, работают с логическими переменными (<b>boolean</b>) и интенсивно используются в управляющих конструкциях: циклы и условия. Логические переменные, или более правильно, переменные типа <b>Boolean</b> имеют лишь два значения: <b>true(истина)</b> и <b>false(ложь)</b>. В выражениях <b>true</b> и <b>false</b> можно заменить на 1(любое отличное от 0 число) и 0, соответственно. Возможность замены <b>true</b> и <b>false</b> на 1 и 0 – это «наследство» языка С, в котором не было специальных переменных <b>true</b> и <b>false</b>.
</p>
<p class=text>Логически операторы для переменных типа <b>Boolean</b> выполняют роль операторов сложения, вычитания для обычных переменных. Рассмотрим несколько примеров, если их смысл Вам не очень понятен – не расстраивайтесь, просто вернитесь сюда, прочитав <a class=bluelink href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php">главу&nbsp;2</a>. Оператор <em class=gr>if</em>(<b>cond</b>) проверяет условие <b>cond</b>, если его значение <b>true</b> – выполняется код в фигурных скобках, следующий за <em class=gr>if</em>, если <b>false</b> – код после оператора <em class=gr>else</em>. Если <b>cond</b> равен <b>false</b> – всё наоборот.
</p>
<blockquote>
<pre>
<em class=red>&lt;php</em>
   <b>$flag</b> = true; // <em class=comnt>Истина</em>
   <em class=gr>if</em>(<b>$flag</b>)
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Переменная flag имеет значение true&lt;/p&gt;&quot;;
   <em class=gr>} else {</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Переменная flag имеет значение false&lt;/p&gt;&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>

<p class=text>Результаты работы скрипта выглядят следующим образом:</p>
<blockquote><em class=comnt>Переменная flag имеет значение true</em></blockquote>
<p class=text>Если теперь заменить строчку</p>
<blockquote>
<pre>
    <b>$flag</b> = <b>true</b>; // <em class=comnt>Истина</em>
    на
    <b>$flag</b> = <b>false</b>; // <em class=comnt>Ложь</em>
</pre>
</blockquote>
<p class=text>Результат, выдаваемый тэгом измениться:
<blockquote><em class=comnt>Переменная flag имеет значение false</em></blockquote>
<p class=text>Т.е. мы зашли в блок <em class=gr>else</em>, так как в операторе <em class=gr>if</em> условие <b>ложно</b>.</p>
<p class=text>Когда условие одно, как видите, всё просто. Когда условий больше - в дело вступают логические операторы:</p>

<blockquote>
<pre>
<em class=red>&lt;php</em>
   <b>$flag1</b> = <b>true</b>; // Истина
   <b>$flag2</b> = <b>true</b>; // Истина
   <em class=gr>if</em>(<b>$flag1</b> && <b>$flag2</b>) // <em class=comnt>И $flag1 И $flag2 истины</em>
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие: true (Оба флага истины)&lt;/p&gt;&quot;;
        // <em class=comnt>Да</em>
   <em class=gr>} else {</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие: false (Один из флагов ложен)&lt;/p&gt;&quot;; 
        // <em class=comnt>Нет, один или оба ложны</em>
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>

<p class=text>Этот скрипт выведет: <em class=comnt>Условие: true (Оба флага истины)</em>. Если хотя бы один из операторов окажется равным <b>false</b> (или оба сразу) – будет выведено: <em class=comnt>Условие: false (Один из флагов ложен)</em>. </p>
<p class=text>Обязательно попробуйте поиграть с условиями: <b>если вы не будете разбираться в условных операторах – Вы никогда не будете хорошим программистом ни на одном языке программирования. Если Вы считаете, что Вам не нужны условные операторы – Вам не нужен язык программирования</b>.</p>

<p class=text>Заменим <b>&&</b> (И) на <b>||</b> (ИЛИ)</p>
<blockquote>
<pre>
<em class=red>&lt;php</em>
   <b>$flag1</b> = true; // Истина
   <b>$flag2</b> = false; // Истина
   <em class=gr>if</em>(<b>$flag1</b> || <b>$flag2</b>) 
      //<em class=comnt> Хоть кто-то из двух флагов($flag1 $flag2) истинен</em>
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие: true (Один из флагов истин)&lt;/p&gt;&quot;; 
      //<em class=comnt> Да</em>
   <em class=gr>} else {</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие: false (Оба флага ложны)&lt;/p&gt;&quot;; 
      // <em class=comnt>Нет оба имеют значение false</em>
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>Опять получаем: Условие: <b>true</b>.</p>
<p class=text>Для <b>И</b> и <b>ИЛИ</b>, как видим, возможны два варианта операторов, причем эти операторы с  разными приоритетами. Приоритетность выполнения логических операторов: <b>or</b>&nbsp;>&nbsp;<b>xor</b>&nbsp;>&nbsp;<b>and</b>&nbsp;<b>></b>&nbsp;<b>||</b>&nbsp;<b>></b>&nbsp;<b>&&</b>&nbsp;>&nbsp;! Иногда в условиях удобно использовать скобки для явного задания приоретета:</p>

<blockquote>
<pre>
<em class=red>&lt;php</em>
   <b>$flag1</b> = <b>true</b>;
   <b>$flag2</b> = <b>true</b>;
   <b>$flag3</b> = <b>false</b>;
   <em class=gr>if</em>( <b>$flag1</b> && <b>$flag2</b> || <b>$flag3</b>)
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие истинно&lt;p&gt;&quot;;
   <em class=gr>}</em>
   <em class=gr>else</em>
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие ложно&lt;p&gt;&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>Результатом будет вывод фразы «<b>Условие истинно</b>», так как согласно приоритету исполнения сначала выполняется оператор <b>&&</b>, так как оба флага равны <b>true</b> – возвращается <b>true</b>, затем это выражение сравнивается с  <nobr><b>$flag3</b> (<b>true</b> || <b>$flag3</b>)</nobr> – что возращает тоже <b>true</b>, так как одно из сравниваемых равно <b>true</b>.</p>
<p class=text>Если же мы запишем</p>

<blockquote>
<pre>
<em class=red>&lt;php</em>
   <b>$flag1</b> = <b>true</b>;
   <b>$flag2</b> = <b>true</b>;
   <b>$flag3</b> = <b>false</b>;
   <em class=gr>if</em>(<b>$flag1</b> && (<b>$flag2</b> || <b>$flag3</b>))
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие истинно&lt;p&gt;&quot;;
   <em class=gr>}</em>
   <em class=gr>else</em>
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Условие ложно&lt;p&gt;&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>результатом будет «<b>Условие ложно</b>».</p>
<p class=text>Вообще программисты не любят запоминать порядок приоритетов, поэтому для того чтобы Ваш код легко читался (в том числе и Вами) лучше всегда использовать скобки. Т.е. в первом скрипте лучше записать <nobr><em class=gr>if</em>((<b>$flag1</b> && <b>$flag2</b>) || <b>$flag3</b>)</nobr> – тогда сразу становиться понятно, что имеется ввиду.</p>
<p class=text>Иногда нужно проверить условие безальтернативно, например, на ложность или истинность. Допустим, функция (<b>func()</b>) возвращает истину или ложь и в зависимости от этого нужно вывести на страничку те или иные теги. Например, функция <b>mysql_query($query)</b> – возвращает <b>true</b> если запрос к базе данных <b>mySQL</b>, размещённый в строке <b>$query</b> успешно выполнился и <b>false</b> – в противном случае.</p>
<p class=text>Если Вам нужно среагировать только на удачное обращение, Вы можете записать:</p>

<blockquote>
<pre>
<em class=red>&lt;php</em>
   <em class=gr>if</em>(mysql_query(<b>$query</b>))
   <em class=gr>{</em>
      <em class=gr>echo</em> &quot;&lt;p&gt;Данные успешно занесены в базу данных.&lt;p&gt;&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>Если Вам нужно среагировать только на не удачные обращения, Вы, конечно, можете записать:</p>

<blockquote>
<pre>
<em class=red>&lt;php</em>
   <em class=gr>if</em>(mysql_query(<b>$query</b>))
   <em class=gr>{}</em>
   <em class=gr>else</em>
   <em class=gr>{</em>
      <em class=gr>echo</em>&quot;&lt;p&gt;Данные не были занесены в базу данных.&lt;p&gt;&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
<p class=text>Но это не элегантный, запутывающий способ – здесь самое время воспользоваться оператором отрицания: <b>!</b>, применение которого к переменной меняет её значение с <b>true</b> на <b>false</b>, а <b>false</b> на <b>true:</b></p>
<blockquote>
<pre>
<em class=red>&lt;php</em>
   <em class=gr>if</em>(!mysql_query(<b>$query</b>))
   <em class=gr>{</em>
      <em class=gr>echo</em>&quot;&lt;p&gt;Данные не были занесены в базу данных.&lt;p&gt;&quot;;
   <em class=gr>}</em>
<em class=red>?&gt;</em>
</pre>
</blockquote>
<table border="0" align="center" cellpadding="0" cellspacing="0">
    <tr>
        <td colspan="5" align="center"><img src="images/linebook1.gif" tppabs="http://site/bookphp/images/linebook1.gif" border="0" width="212" height="5" alt=""></td>
    </tr>
    <tr valign="middle" align="center">
        <td><img src="images/arrowleft.gif" tppabs="http://site/bookphp/images/arrowleft.gif" border="0" width="10" height="17" alt=""></td>
        <td><a class=a1 href="gl1_5.php.htm" tppabs="http://site/bookphp/gl1_5.php">Предыдущая</a></td>
        <td width="1" bgcolor="silver"></td>
        <td><a class=a1 href="gl2_1.php.htm" tppabs="http://site/bookphp/gl2_1.php">Следующая</a></td>
        <td><img src="images/arrowright.gif" tppabs="http://site/bookphp/images/arrowright.gif" border="0" width="10" height="17" alt=""></td>
    </tr>
    <tr>
        <td colspan="5" align="center"><img src="images/linebook2.gif" tppabs="http://site/bookphp/images/linebook2.gif" border="0" width="213" height="11" alt=""></td>
    </tr>
</table>
        <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
            </p>
        </td>   
        <td width="7%">&nbsp;</td>  
    </tr>
</table>
<table border="0" width="100%">
    <tr>
        <td width=20%>&nbsp;</td>
        <td>
            <a class=a1 href="#up">Наверх</a>
        </td>
    </tr>
</table><br>
</body>
</html> 