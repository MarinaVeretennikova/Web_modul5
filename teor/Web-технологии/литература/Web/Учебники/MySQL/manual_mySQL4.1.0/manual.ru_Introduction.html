  <HTML>
  <HEAD>
  
  <TITLE>Справочное руководство по MySQL версии 4.1.0-alpha. - 1  Общая информация</TITLE>
   <style> code {color:purple} tt {color:green} samp {color:navy} pre {color:maroon} </style> <meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
  </HEAD>
  <BODY BGCOLOR=white TEXT=#000000 LINK=#101090 VLINK=#7030B0>
Go to the first, previous, <A HREF="manual.ru_Installing.html">next</A>, <A HREF="manual.ru_Concept_Index.html">last</A> section, <A HREF="manual.ru_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="Introduction" HREF="manual.ru_toc.html#Introduction">1  Общая информация</A></H1>

<P>
<A NAME="IDX1"></A>
<A NAME="IDX2"></A>

</P>
<P>
Программное обеспечение <code>MySQL (TM)</code> представляет собой очень быстрый
многопоточный, многопользовательский надежный <code>SQL</code>-сервер баз данных (SQL -
язык структурированных запросов). Сервер MySQL предназначен как для
критических по задачам производственных систем с большой нагрузкой, так и
для встраивания в программное обеспечение массового распространения.

</P>
<P>
MySQL - это торговая марка MySQL АВ.

</P>
<P>
Программное обеспечение MySQL имеет <code>двойное лицензирование</code>. Это означает,
что пользователи могут выбирать, использовать ли ПО MySQL бесплатно по общедоступной лицензии <code>GNU
General Public License</code> (<code>GPL</code>) или приобрести одну из стандартных коммерческих лицензий MySQL AB.
(<a HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>).

</P>
<P>
Для получения самой свежей информации о программном обеспечении MySQL
обращайтесь на веб-сайт MySQL (<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>).

</P>
<P>
Ниже перечислены наиболее интересные разделы данного руководства.

</P>

<ul>
<LI>

Информация о компании, которая занимается разработкой и
распространением ПО MySQL, находится в разделе section <A HREF="manual.ru_Introduction.html#What_is_MySQL_AB">1.5  Что представляет собой компания MySQL AB?</A>.

<LI>

Основные возможности сервера MySQL рассматриваются в разделе section <A HREF="manual.ru_Introduction.html#Features">1.4.2  Основные возможности MySQL</A>.

<LI>

Инструкции по инсталляции приведены в разделе section <A HREF="manual.ru_Installing.html#Installing">2  Установка MySQL</A>.

<LI>

Советы по переносу на другие архитектуры и операционные системы вы
найдете в разделе section <A HREF="manual.ru_Porting.html#Porting">E  Перенос на другие системы</A>.

<LI>

Информация по апгрейду с версии 3.23 находится в разделе section <A HREF="manual.ru_Installing.html#Upgrading-from-3.23">2.5.2  Модернизация с версии 3.23 до версии 4.0</A>

<LI>

Информация по апгрейду с версии 3.22 находится в разделе section <A HREF="manual.ru_Installing.html#Upgrading-from-3.22">2.5.3  Модернизация с версии 3.22 до версии 3.23</A>

<LI>

Введение в обучающий курс по серверу MySQL см. в разделе section <A HREF="manual.ru_Tutorial.html#Tutorial">3  Учебное пособие по MySQL</A>.

<LI>

Примеры по SQL и данные по тестам производительности находятся в
директории тестов производительности  (<tt>`sql-bench'</tt> в дистрибутиве).

<LI>

Информацию о новых возможностях и об исправлениях ошибок см. в разделе
section <A HREF="manual.ru_News.html#News">D  История изменений и обновлений MySQL</A>.

<LI>

Список известных на сегодняшний день ошибок и конструктивных дефектов
см. в разделе section <A HREF="manual.ru_Introduction.html#Bugs">1.9.5  Известные ошибки и недостатки проектирования в MySQL</A>.

<LI>

Планы развития MySQL см. в разделе section <A HREF="manual.ru_Introduction.html#TODO">1.10  MySQL и будущее (что предстоит сделать)</A>.

<LI>

Полный список тех людей, которые сделали вклад в наш проект, вы
найдете в разделе section <A HREF="manual.ru_Credits.html#Credits">C  Благодарности</A>.
</ul>

<P>
<strong>Что важно</strong>:

</P>
<P>
Отчеты об ошибках (bugs), а также вопросы и комментарии следует посылать
по адресу <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>. See section <A HREF="manual.ru_Introduction.html#Bug_reports">1.8.1.3  Как отправлять отчеты об ошибках или проблемах</A>. Для
составления отчетов об ошибках следует использовать сценарий <code>mysqlbug</code>. В
поставках исходного текста сценарий <code>mysqlbug</code> находится в директории
<code>scripts</code>. Если у вас бинарная поставка, то сценарий <code>mysqlbug</code> следует
искать в директории <tt>`bin'</tt>. 

</P>
<P>
Если вы обнаружите существенную ошибку, относящуюся к безопасности в сервере
MySQL, следует сообщить об этом по адресу: <a HREF="mailto:security@mysql.com">security@mysql.com</a>.

</P>
<P>
<A NAME="IDX3"></A>
<A NAME="IDX4"></A>
<A NAME="IDX5"></A>
<A NAME="IDX6"></A>

</P>



<H2><A NAME="Manual-info" HREF="manual.ru_toc.html#Manual-info">1.1  Об этом руководстве</A></H2>

<P>
<A NAME="IDX7"></A>
<A NAME="IDX8"></A>

</P>
<P>
Это - справочное руководство по MySQL; оно представляет собой документацию по
MySQL версии 4.1.0-alpha. Функциональные изменения отмечены номером 
версии, в которой они произведены, поэтому это руководство будет полезно
при освоении также и более старых версий MySQL. 

</P>
<P>
Поскольку данный материал носит чисто справочный характер, в нем не содержится
основных положений SQL или сведений по реляционным базам данных.

</P>
<P>
Руководство часто обновляется, поскольку ПО СУБД MySQL находится в
состоянии постоянного развития. Самая последняя версия данного руководства
доступна по адресу <a HREF="http://www.mysql.com/documentation/">http://www.mysql.com/documentation/</a> в различных
форматах, включая HTML, PDF и Windows HLP.

</P>
<P>
Исходным документом для всех версий документации является файл Texinfo.
HTML-версия генерируется автоматически модифицированной версией <code>texi2html</code>. 
Текстовая и Info-версии генерируются при помощи <code>makeinfo</code>,
PostScript-версия создается <code>texi2dvi</code> и <code>dvips</code>. PDF-версия генерируется с
помощью <code>pdftex</code>.

</P>
<P>
Если найти нужную информацию в руководстве не удается, можно прибегнуть к
помощи версии руководства с функцией поиска, находящейся по адресу
<a HREF="http://www.mysql.com/doc/">http://www.mysql.com/doc/</a>.

</P>
<P>
Группа, работающая над документацией, рассмотрит любые предложения по
дополнению или исправлению данного руководства. Их следует отправлять по
адресу <a HREF="mailto:docs@mysql.com">docs@mysql.com</a>.

</P>
<P>
Данное руководство было изначально написано Дэвидом Аксмарком (David
Axmark) и Майклом (Монти) Видениусом (Michael (Monty) Widenius). Сейчас 
это руководство поддерживается Майклом (Монти) Видениусом, Полом
Дюбуа (Paul DuBois), Арйен Ленц (Arjen Lentz). Остальные разработчики упомянуты
в разделе section <A HREF="manual.ru_Credits.html#Credits">C  Благодарности</A>.

</P>
<P>
<A NAME="IDX9"></A>
<A NAME="IDX10"></A>

</P>
<P>
Авторское право (2003) на данное руководство принадлежит шведской компании
MySQL AB. See section <A HREF="manual.ru_Introduction.html#Copyright">1.6.2  Авторские права и лицензии на MySQL</A>.

</P>



<H2><A NAME="Manual_conventions" HREF="manual.ru_toc.html#Manual_conventions">1.2  Соглашения, используемые в данном руководстве</A></H2>

<P>
В данном руководстве используются следующие обозначения:

</P>
<P>
<A NAME="IDX11"></A>
<A NAME="IDX12"></A>
<A NAME="IDX13"></A>

</P>
<DL COMPACT>

<DT><code>Моноширинный</code>
<DD>
Для имен команд и опций; SQL-операторов; имен баз данных, таблиц,
столбцов; кода на C и Perl, переменных окружения применяется моноширинный
шрифт. Например: ''Чтобы увидеть, как работает <code>mysqladmin</code>, запустите его с
опцией <code>--help</code>.''

<DT><tt>`filename'</tt>
<DD>
Моноширинный шрифт и кавычки используются для имен файлов и путей. Например: "Дистрибутив устанавливается в каталог <tt>`/usr/local/'</tt>". 

<DT><samp>`c'</samp>
<DD>
Для представления последовательности символов используется моноширинный
шрифт, а сама последовательность символов заключается в кавычки. Например:
"Для задания шаблонного символа используется символ <samp>`%'</samp>".

<DT><em>Курсив</em>
<DD>
Курсив используется для выделения текста, <em>подобно данному</em>.

<DT><strong>полужирный шрифт</strong>
<DD>
Полужирный шрифт используется для заголовков таблиц и для того, чтобы
<strong>особо выделить фрагмент текста</strong>.
</DL>

<P>
Если нужно показать, что приведенная команда должна выполняться
определенной программой, она предваряется подсказкой с именем этой
программы. Например, <code>shell&#62;</code> указывает, что команда будет выполняться
вашей оболочкой, а <code>mysql&#62;</code> означает, что команда будет выполняться
клиентской программой mysql:

</P>

<pre>
shell&#62; набирайте команды оболочки здесь
mysql&#62; набирайте SQL-операторы здесь
</pre>

<P>
Для представления команд оболочки в данном руководстве применяется
синтаксис оболочки Bourne. Если у вас используется <code>csh</code>-оболочка, синтаксис
для нее будет несколько отличаться. Например, последовательность команд
для установки переменной окружения и запуска команды в синтаксисе оболочки
Bourne выглядит следующим образом:

</P>

<pre>
shell&#62; ПЕРЕМЕННАЯ=значение некая_команда
</pre>

<P>
<A NAME="IDX14"></A>
<A NAME="IDX15"></A>

</P>
<P>
В случае <code>csh</code>-оболочки для выполнения тех же действий вам потребуются
следующие команды:

</P>

<pre>
shell&#62; setenv ПЕРЕМЕННАЯ значение
shell&#62; некая_команда
</pre>

<P>
Часто в командах имена баз данных, таблиц, столбцов следует заменять
конкретными значениями. Чтобы показать необходимость такой замены, в
данном руководстве используются выражения типа <code>db_name</code> (имя базы данных),
<code>table_name</code> (имя таблицы) и <code>col_name</code> (имя столбца). Например, в тексте
руководства может встретиться оператор, подобный следующему:

</P>

<pre>
mysql&#62; SELECT col_name FROM db_name.table_name;
</pre>

<P>
Это означает, что при вводе такого оператора вам необходимо будет указать
собственную базу данных, имя таблицы и имя столбца, например:

</P>

<pre>
mysql&#62; SELECT author_name FROM biblio_db.author_list;
</pre>

<P>
Ключевые слова SQL являются нечувствительными к регистру, поэтому их можно
записывать, используя как прописные, так и строчные буквы. В данном
руководстве используется регистр прописных букв.

</P>
<P>
Для представления необязательных слов и выражений в синтаксических
описаниях используются квадратные скобки (<samp>`['</samp> и <samp>`]'</samp>). Например, в
приведенном ниже операторе выражение <code>IF EXISTS</code> является необязательным:

</P>

<pre>
DROP TABLE [IF EXISTS] имя_таблицы
</pre>

<P>
Если элемент синтаксиса состоит из ряда альтернативных элементов,
последние отделяются друг от друга вертикальными чертами (<samp>`|'</samp> ). В случае,
когда может быть выбран один элемент из такого ряда, альтернативные
элементы заключаются в квадратные скобки (<samp>`['</samp> и <samp>`]'</samp>):

</P>

<pre>
TRIM([[BOTH | LEADING | TRAILING] [remstr] FROM] str)
</pre>

<P>
В случае, когда должен быть выбран один элемент из такого ряда,
альтернативные элементы заключаются в фигурные скобки (<samp>`{'</samp> и <samp>`}'</samp>):

</P>

<pre>
{DESCRIBE | DESC } имя_таблицы {имя_столбца | wild}
</pre>



<H2><A NAME="About_russian" HREF="manual.ru_toc.html#About_russian">1.3  О русском переводе руководства</A></H2>

<P>
Русский перевод документации на ПО СУБД MySQL выполнен в 2002-2003гг. 
компанией Ensita.NET (<a HREF="http://www.ensita.net/">http://www.ensita.net/</a>). 

</P>
<P>
<strong>Переводчики:</strong> (в алфавитном порядке) Василюк Елена, Добродеев Сергей, Закиянов Денис, Коротун
Юрий, Пономарев Алексей, Ченцов Алексей; а также Жданов Сергей (раздел
"Интерфейс <code>DBI</code>").

</P>
<P>
<strong>Научная редакция:</strong> Егор Егоров, Людмила Мезенко, Виктория Резниченко.

</P>
<P>
<strong>Литературный редактор:</strong> Людмила Мезенко (the best!)

</P>
<P>
<strong>Главный редактор перевода:</strong> Егор Егоров

</P>
<P>
Все замечания по русской документации направляйте по адресу <a HREF="mailto:docs-team@ensita.net">docs-team@ensita.net</a>.

</P>
<P>
* * * * * 

</P>
<P>
Компания Ensita.NET (<a HREF="http://www.ensita.net/">http://www.ensita.net/</a>), являясь официальным
партнером MySQL AB с января 2002г. консультирует пользователей ПО СУБД MySQL по
всему миру, поддерживая список рассылки <code>mysql@lists.mysql.com</code>
(see section <A HREF="manual.ru_Introduction.html#Mailing-list">1.8.1.1  Списки рассылки MySQL</A>). 

</P>
<P>
Ensita.NET с 1999г. занимается разработкой программного обеспечения для веб-сайтов, 
обслуживанием СУБД и консалтингом. 

</P>



<H3><A NAME="Russian-terms" HREF="manual.ru_toc.html#Russian-terms">1.3.1  Список терминов, принятых в русском переводе</A></H3>

<P>
Редакционная коллегия при подготовке этого перевода старалась как можно адекватнее
перевести специфические термины с английского языка на русский. Нами была 
поставлена цель создать справочное руководство на живом и понятном языке, но в то
же время не переходить на чистый сленг. Поэтому терминология, принятая в этом
переводе, возможно, не полностью соответствует четким терминам, принятым 
в русскоязычной литературе на "около-реляционную" тему. 

</P>
<P>
Для ясности понимания мы включаем в документацию список принятых в этом 
переводе терминов.

</P>

<TABLE BORDER WIDTH="100%">
<TR><TD><strong>Термин</strong> </TD><TD> <strong>Значение</strong>
</TD></TR>
<TR><TD>account </TD><TD> аккаунт, учетная запись
</TD></TR>
<TR><TD>ACL </TD><TD> списки контроля доступа
</TD></TR>
<TR><TD>banner </TD><TD> баннер
</TD></TR>
<TR><TD>benchmark page </TD><TD> страничка тестов производительности
</TD></TR>
<TR><TD>Berkeley-style copyright </TD><TD> лицензия наподобие Berkeley
</TD></TR>
<TR><TD>binary release, binary distribution </TD><TD> бинарная поставка, двоичная поставка
</TD></TR>
<TR><TD>cache </TD><TD> кэш
</TD></TR>
<TR><TD>case sensitive </TD><TD> чувствительный к регистру, регистро-зависимый
</TD></TR>
<TR><TD>change history </TD><TD> история изменений
</TD></TR>
<TR><TD>charset </TD><TD> набор символов, кодировка
</TD></TR>
<TR><TD>client/server </TD><TD> клиент-серверный
</TD></TR>
<TR><TD>command-line tool </TD><TD> утилита командной строки
</TD></TR>
<TR><TD>commit </TD><TD> принять; <em>commit transaction - принять транзакцию</em>
</TD></TR>
<TR><TD>communication protocol </TD><TD> коммуникационный протокол
</TD></TR>
<TR><TD>contact form </TD><TD> форма. <em>fill in the contact form - заполните форму</em>
</TD></TR>
<TR><TD>data dir </TD><TD> каталог с данными
</TD></TR>
<TR><TD>datadir, data dir </TD><TD> каталог datadir, каталог данных
</TD></TR>
<TR><TD>date type </TD><TD> тип даты
</TD></TR>
<TR><TD>DBA </TD><TD> администратор (физическое лицо)
</TD></TR>
<TR><TD>dbms </TD><TD> см. rdbms
</TD></TR>
<TR><TD>ddos </TD><TD> distributed dos - распределенная атака создания отказа в обслуживании
</TD></TR>
<TR><TD>denial of service </TD><TD> отказ в обслуживании
</TD></TR>
<TR><TD>deployment </TD><TD> распространение
</TD></TR>
<TR><TD>distribution </TD><TD> поставка, дистрибутив
</TD></TR>
<TR><TD>distributor </TD><TD> производитель
</TD></TR>
<TR><TD>dos </TD><TD> см. denial of service
</TD></TR>
<TR><TD>embedded </TD><TD> встраиваемый. <strong>Не "встроенный"</strong>
</TD></TR>
<TR><TD>environment variables </TD><TD> переменные окружения
</TD></TR>
<TR><TD>escape chars </TD><TD> символы экранирования
</TD></TR>
<TR><TD>escaped chars </TD><TD> экранированные символы
</TD></TR>
<TR><TD>extended regular expression </TD><TD> расширенное регулярное выражение
</TD></TR>
<TR><TD>fail-safe </TD><TD> отказобезопасный
</TD></TR>
<TR><TD>feature </TD><TD> возможность, особенность
</TD></TR>
<TR><TD>firewall </TD><TD> брандмауэр
</TD></TR>
<TR><TD>flush </TD><TD> сброс, очистка, перегрузка
</TD></TR>
<TR><TD>foreign key constraint </TD><TD> ограничения внешних ключей
</TD></TR>
<TR><TD>full precision </TD><TD> полная точность
</TD></TR>
<TR><TD>full-text </TD><TD> полнотекстовый
</TD></TR>
<TR><TD>grant tables </TD><TD> таблицы привилегий
</TD></TR>
<TR><TD>grants </TD><TD> привилегии
</TD></TR>
<TR><TD>group </TD><TD> группа, группировка
</TD></TR>
<TR><TD>group functions </TD><TD> групповые функции, операции группировки данных, операции над групповыми данными
</TD></TR>
<TR><TD>host </TD><TD> удаленный компьютер
</TD></TR>
<TR><TD>inserting data </TD><TD> добавление, вставка данных
</TD></TR>
<TR><TD>join </TD><TD> связь
</TD></TR>
<TR><TD>join optimizer </TD><TD> оптимизатор связей
</TD></TR>
<TR><TD>key cache </TD><TD> кэш ключей
</TD></TR>
<TR><TD>large-scale </TD><TD> широкомасштабный
</TD></TR>
<TR><TD>license </TD><TD> лицензция
</TD></TR>
<TR><TD>link </TD><TD> линкование (в контексте линкования компиляции программ)
</TD></TR>
<TR><TD>localhost, local host </TD><TD> локальный хост, локальный компьютер
</TD></TR>
<TR><TD>locking </TD><TD> блокировка
</TD></TR>
<TR><TD>log </TD><TD> журнал
</TD></TR>
<TR><TD>log position </TD><TD> точка положения в журнале репликации
</TD></TR>
<TR><TD>login </TD><TD> см. account
</TD></TR>
<TR><TD>login shell </TD><TD> первая оболочка входа (login shell)
</TD></TR>
<TR><TD>master </TD><TD> (репликация) головной сервер
</TD></TR>
<TR><TD>miscellaneous </TD><TD> разнообразный
</TD></TR>
<TR><TD>multi-byte </TD><TD> мультибайтный
</TD></TR>
<TR><TD>multi-layered </TD><TD> многоуровневый
</TD></TR>
<TR><TD>multithread </TD><TD> многопоточный
</TD></TR>
<TR><TD>mysql server </TD><TD> MySQL или сервер
</TD></TR>
<TR><TD>mysql user </TD><TD> пользователь MySQL
</TD></TR>
<TR><TD>non-updating queries </TD><TD> запросы, не изменяющие информацию
</TD></TR>
<TR><TD>null </TD><TD> null
</TD></TR>
<TR><TD>open source </TD><TD> система с открытым кодом (open source)
</TD></TR>
<TR><TD>optional </TD><TD> опциональный
</TD></TR>
<TR><TD>parser </TD><TD> синтаксический анализатор
</TD></TR>
<TR><TD>patch </TD><TD> патч
</TD></TR>
<TR><TD>port listening </TD><TD> слушание порта, слушать порт, ожидать соединение на порту
</TD></TR>
<TR><TD>privacy </TD><TD> конфиденциальность
</TD></TR>
<TR><TD>privilege </TD><TD> привилегии
</TD></TR>
<TR><TD>qualifier </TD><TD> определитель
</TD></TR>
<TR><TD>qualify </TD><TD> определять
</TD></TR>
<TR><TD>rdbms </TD><TD> система управления реляционными базами данных
</TD></TR>
<TR><TD>reference manual </TD><TD> справочник, руководство
</TD></TR>
<TR><TD>regular client </TD><TD> обычный клиент
</TD></TR>
<TR><TD>regular expression </TD><TD> регулярное выражение; extended - расширенное р.в.
</TD></TR>
<TR><TD>released under gpl </TD><TD> выпущено под лицензией GPL
</TD></TR>
<TR><TD>replica (server) </TD><TD> сервер с копиями
</TD></TR>
<TR><TD>robustness </TD><TD> надежность, отказоустойчивость
</TD></TR>
<TR><TD>rollback </TD><TD> откат
</TD></TR>
<TR><TD>rotation </TD><TD> ротация
</TD></TR>
<TR><TD>row-level locking </TD><TD> строчная блокировка
</TD></TR>
<TR><TD>scope </TD><TD> контекст
</TD></TR>
<TR><TD>script </TD><TD> сценарий, скрипт
</TD></TR>
<TR><TD>security </TD><TD> безопасность
</TD></TR>
<TR><TD>security issues </TD><TD> вопросы безопасности
</TD></TR>
<TR><TD>SET </TD><TD> множество
</TD></TR>
<TR><TD>silent </TD><TD> молчаливо
</TD></TR>
<TR><TD>slave </TD><TD> (репликация) подчиненный сервер
</TD></TR>
<TR><TD>snapshop </TD><TD> образ, снимок
</TD></TR>
<TR><TD>socket </TD><TD> сокет
</TD></TR>
<TR><TD>ssh port-forwarding </TD><TD> пересылка по SSH (SSH port-forwarding)
</TD></TR>
<TR><TD>SSL connections </TD><TD> SSL-соединения
</TD></TR>
<TR><TD>sticky </TD><TD> прилипчив
</TD></TR>
<TR><TD>superuser </TD><TD> суперпользователь
</TD></TR>
<TR><TD>symbol table </TD><TD> см. charset
</TD></TR>
<TR><TD>symbol value </TD><TD> строкое значение
</TD></TR>
<TR><TD>symlink </TD><TD> символическая ссылка
</TD></TR>
<TR><TD>table handler </TD><TD> обработчик таблиц
</TD></TR>
<TR><TD>thread </TD><TD> поток
</TD></TR>
<TR><TD>time stamp </TD><TD> временная метка
</TD></TR>
<TR><TD>timestamp </TD><TD> тип данных временной метки
</TD></TR>
<TR><TD>TODO-list </TD><TD> список задач к выполнению
</TD></TR>
<TR><TD>track </TD><TD> последовательность, протокол
</TD></TR>
<TR><TD>transactional </TD><TD> транзакционный
</TD></TR>
<TR><TD>trick </TD><TD> трюк, хитрость
</TD></TR>
<TR><TD>unix socket, unix domain socket </TD><TD> unix-сокет
</TD></TR>
<TR><TD>up-to-date </TD><TD> своевременный
</TD></TR>
<TR><TD>utilities </TD><TD> инструментальные программы
</TD></TR>
<TR><TD>vendor </TD><TD> поставщик
</TD></TR>
<TR><TD>verbose </TD><TD> расширенный режим вывода сообщений
</TD></TR>
<TR><TD>voting algorithm </TD><TD> алгоритм голосования
</TD></TR>
<TR><TD>warning </TD><TD> предупреждение
</TD></TR>
<TR><TD>wildcard </TD><TD> шаблон, шаблонные символы
</TD></TR>
<TR><TD>wrapper </TD><TD> оболочка
</TD></TR>
</TABLE>



<H2><A NAME="What-is" HREF="manual.ru_toc.html#What-is">1.4  Что представляет собой MySQL?</A></H2>

<P>
<A NAME="IDX16"></A>
<A NAME="IDX17"></A>

</P>
<P>
Разработку и сопровождение MySQL, самой популярной SQL-базы данных с открытым
кодом, осуществляет компания MySQL AB. MySQL AB - коммерческая компания,
основанная разработчиками MySQL, строящая свой бизнес, предоставляя различные
сервисы для СУБД MySQL. See section <A HREF="manual.ru_Introduction.html#What_is_MySQL_AB">1.5  Что представляет собой компания MySQL AB?</A>.

</P>
<P>
На веб-сайте MySQL (<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>) представлена самая свежая
информация о программном обеспечении MySQL и о компании MySQL AB.

</P>
<DL COMPACT>

<DT>MySQL - это система управления базами данных.
<DD>
База данных представляет собой структурированную совокупность данных. Эти
данные могут быть любыми - от простого списка предстоящих покупок до
перечня экспонатов картинной галереи или огромного количества информации в
корпоративной сети. Для записи, выборки и обработки данных, хранящихся в
компьютерной базе данных, необходима система управления базой данных,
каковой и является ПО MySQL. Поскольку компьютеры замечательно справляются
с обработкой больших объемов данных, управление базами данных играет
центральную роль в вычислениях. Реализовано такое управление может быть
по-разному - как в виде отдельных утилит, так и в виде кода, входящего в
состав других приложений.

<A NAME="IDX18"></A>

<DT>MySQL - это система управления реляционными базами данных.
<DD>
В реляционной базе данных данные хранятся не все скопом, а в отдельных
таблицах, благодаря чему достигается выигрыш в скорости и гибкости.
Таблицы связываются между собой при помощи отношений, благодаря чему
обеспечивается возможность объединять при выполнении запроса данные из
нескольких таблиц. <code>SQL</code> как часть системы MySQL можно охарактеризовать как
<code>язык структурированных запросов</code> плюс наиболее распространенный
стандартный язык, используемый для доступа к базам данных.

<A NAME="IDX19"></A>
<A NAME="IDX20"></A>

<DT>Программное обеспечение MySQL - это ПО с открытым кодом.
<DD>
ПО с открытым кодом означает, что применять и модифицировать его может
любой желающий. Такое ПО можно получать по Internet и использовать
бесплатно. При этом каждый пользователь может изучить исходный код и
изменить его в соответствии со своими потребностями. Использование
программного обеспечения MySQL регламентируется лицензией <code>GPL</code> (<code>GNU General
Public License</code>), <a HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>, в которой указано, что
можно и чего нельзя делать с этим программным обеспечением в различных
ситуациях. Если работа в рамках <code>GPL</code> вас не устраивает или планируется
встраивание MySQL-кода в коммерческое приложение, есть возможность купить
коммерческую лицензированную версию у компании MySQL AB. See section <A HREF="manual.ru_Introduction.html#MySQL_licenses">1.6.3  Лицензии на ПО MySQL</A>.

<A NAME="IDX21"></A>
<A NAME="IDX22"></A>

<DT>В каких случаях следует отдавать предпочтение СУБД MySQL?
<DD>
MySQL является очень быстрым, надежным и легким в использовании. Если вам
требуются именно эти качества, попробуйте поработать с данным сервером.
<code>MySQL</code> обладает также рядом удобных возможностей, разработанных в
тесном контакте с пользователями. Сравнительные характеристики MySQL и
других средств управления базами данных приведены на нашей странице тестов
производительности (see section <A HREF="manual.ru_MySQL_Optimisation.html#MySQL_Benchmarks">5.1.4  Набор тестов MySQL (The MySQL Benchmark Suite)</A>).

Первоначально сервер MySQL разрабатывался для управления большими базами данных с целью
обеспечить более высокую скорость работы по сравнению с существующими на
тот момент аналогами. И вот уже в течение нескольких лет данный сервер
успешно используется в условиях промышленной эксплуатации с высокими
требованиями. Несмотря на то что MySQL постоянно совершенствуется, он уже
сегодня обеспечивает широкий спектр полезных функций. Благодаря своей
доступности, скорости и безопасности MySQL очень хорошо подходит для
доступа к базам данных по Internet.

<DT>Технические возможности СУБД MySQL
<DD>
Более детальную информацию по техническим возможностям MySQL можно
получить в разделе section <A HREF="manual.ru_Reference.html#Reference">6  Справочник по языку MySQL</A>. <code>ПО MySQL</code> является системой
клиент-сервер, которая содержит многопоточный <code>SQL</code>-сервер, обеспечивающий
поддержку различных вычислительных машин баз данных, а также несколько
различных клиентских программ и библиотек, средства администрирования и
широкий спектр программных интерфейсов (<code>API</code>).

Мы также поставляем сервер MySQL в виде многопоточной библиотеки, которую можно подключить к
пользовательскому приложению и получить компактный, более быстрый и легкий
в управлении продукт.

<DT>Доступно также большое количество программного обеспечения MySQL,
<DD>
разработанного сторонними разработчиками.

Вполне возможно, что СУБД <code>MySQL</code> уже поддерживается вашим
любимым приложением или языком.

</DL>

<P>
<A NAME="IDX23"></A>
<A NAME="IDX24"></A>
<A NAME="IDX25"></A>

</P>

<P>
MySQL правильно произносится как ''Май Эс Кью Эль'' (а не ''майсиквел''),
хотя никто не запрещает вам произносить эту аббревиатуру как ``майсиквел''
или еще каким-либо образом.

</P>



<H3><A NAME="History" HREF="manual.ru_toc.html#History">1.4.1  История MySQL</A></H3>

<P>
<A NAME="IDX26"></A>
<A NAME="IDX27"></A>
<A NAME="IDX28"></A>

</P>
<P>
В один прекрасный день мы  решили применить mSQL для доступа к нашим
таблицам, для которых использовались собственные быстрые (<code>ISAM</code>)
подпрограммы низкого уровня. Однако после тестирования мы пришли к
заключению, что для наших целей скорость и гибкость mSQL недостаточны.
В результате для базы данных был разработан новый SQL-интерфейс, но почти
с тем же API-интерфейсом, что и mSQL. Этот API мы выбрали, чтобы
упростить перенос на код сторонних разработчиков.

</P>
<P>
Происхождение имени MySQL не совсем ясно. Уже около 10 лет наша основная
директория и большое количество библиотек и инструментария имеют префикс
<tt>`my'</tt>. Более того, дочь Монти (она несколькими годами моложе) тоже
получила имя My! Что из этих двух факторов повлияло на имя - до сих пор
остается загадкой, даже для разработчиков.

</P>


<H3><A NAME="Features" HREF="manual.ru_toc.html#Features">1.4.2  Основные возможности MySQL</A></H3>

<P>
<A NAME="IDX29"></A>
<A NAME="IDX30"></A>

</P>

<P>
Ниже приведено описание важных характеристик программного обеспечения
MySQL. See section <A HREF="manual.ru_Introduction.html#MySQL_4.0_In_A_Nutshell">1.7  Кратко о MySQL 4.x</A>.

</P>
<DL COMPACT>

<DT>Внутренние характеристики и переносимость
<DD>

<ul>
<LI>

Написан на C и C++. Протестирован на множестве различных компиляторов.
<LI>

Работает на различных платформах. See section <A HREF="manual.ru_Installing.html#Which_OS">2.2.5  Операционные системы, поддерживаемые MySQL</A>.
<LI>

Для обеспечения переносимости используется GNU Automake,
Autoconf и Libtool.
<LI>API для C, C++, Eiffel, Java, Perl, PHP, Python, Ruby и Tcl.

See section <A HREF="manual.ru_Clients.html#Clients">8  Интерфейсы для MySQL</A>.
<LI>

Полностью многопоточный с использованием потоков ядра. Это означает,
что, если такая возможность обеспечивается, можно легко организовать
работу с несколькими процессорами.
<LI>

Очень быстрые дисковые таблицы на основе В-деревьев со сжатием
индексов.
<LI>

Очень быстрая базирующаяся на потоках система распределения памяти.
<LI>

Очень быстрые соединения, использующие оптимизированный метод
однопроходного мультисоединения (one-sweep multi-join).
<LI>

Хеш-таблицы в памяти, используемые как временные таблицы.
<LI>

SQL-функции реализованы при помощи хорошо оптимизированной библиотеки
классов, поэтому они выполняются настолько быстро, насколько это
возможно. Обычно после инициализации запроса распределения памяти не
происходит вообще.
<LI>

MySQL- код протестирован с использованием Purify (коммерческий
детектор утечки памяти), а также Valgrind, одного из GPL-инструментов
(<a HREF="http://developer.kde.org/~sewardj/">http://developer.kde.org/~sewardj/</a>
</ul>

<DT>Типы столбцов
<DD>

<ul>
<LI>

Большое количество: целочисленные со знаком/беззнаковые, длиной в 1, 2, 3, 4 и
8 байтов, <code>FLOAT</code>, <code>DOUBLE</code>, <code>CHAR</code>, <code>VARCHAR</code>,
<code>TEXT</code>, <code>BLOB</code>, <code>DATE</code>, <code>TIME</code>, <code>DATETIME</code>,
<code>TIMESTAMP</code>, <code>YEAR</code>, <code>SET</code> и <code>ENUM</code>. See section <A HREF="manual.ru_Reference.html#Column_types">6.2  Типы данных столбцов</A>.

<LI>

С записями фиксированной и переменной длины.
<LI>

<A NAME="IDX31"></A>

Все столбцы имеют значения по умолчанию. С помощью <code>INSERT</code> можно
вставить подмножество столбцов таблицы; столбцы, для которых явно не
заданы значения, устанавливаются в значения по умолчанию.
</ul>

<DT>Команды и функции
<DD>

<ul>
<LI>Полная поддержка операторов и функций в <code>SELECT</code>- и <code>WHERE</code>- частях

запросов. Например:


<pre>
mysql&#62; SELECT CONCAT(first_name, " ", last_name)
    -&#62; FROM tbl_name
    -&#62; WHERE income/dependents &#62; 10000 AND age &#62; 30;
</pre>

<LI>

Полная поддержка для операторов SQL <code>GROUP BY</code> и <code>ORDER BY</code> с выражениями SQL. Поддержка
групповых функций (<code>COUNT()</code>, <code>COUNT(DISTINCT ...)</code>, <code>AVG()</code>, <code>STD()</code>, <code>SUM()</code>,
<code>MAX()</code> и <code>MIN()</code>).
<LI>

Поддержка <code>LEFT OUTER JOIN</code> и <code>RIGHT OUTER JOIN</code> с синтаксисом ANSI SQL и
ODBC.
<LI>Разрешены псевдонимы для таблиц и столбцов в соответствии со

стандартом SQL92.
<LI><code>DELETE</code>, <code>INSERT</code>, <code>REPLACE</code>, and <code>UPDATE</code> возвращают число строк, которые

были изменены. Вместо этого можно задать возвращение совпавших строк.
Для этого следует установить флаг при соединении с сервером.
<LI>

Команду <code>SHOW</code>, которая является специфической для MySQL, можно
использовать для получения информации о базах данных, таблицах и
индексах. Чтобы выяснить, как оптимизатор выполняет запрос, можно
применять команду <code>EXPLAIN</code>.
<LI>

Имена функций не конфликтуют с именами таблиц и столбцов. Например,
<code>ABS</code> является корректным именем столбца. Для вызова функции существует
только одно ограничение: между именем функции и следующей за ним
открывающей скобкой <samp>`('</samp> не должно быть пробелов. See section <A HREF="manual.ru_Reference.html#Reserved_words">6.1.7  ``Придирчив'' ли MySQL к зарезервированным словам?</A>.
<LI>

В одном и том же запросе могут указываться таблицы из различных баз
данных (с версии 3.22).
</ul>

<DT>Безопасность
<DD>

<ul>
<LI>

Система, основанная на привилегиях и паролях, за счет чего
обеспечивается гибкость и безопасность, и с возможностью верификации с
удаленного компьютера. Пароли защищены, т.к. они при передаче по сети
при соединении с сервером шифруются.
</ul>

<DT>Масштабируемость и ограничения
<DD>

<ul>
<LI>

Управляет очень большими базами данных. Компания MySQL AB. использует
<code>MySQL</code> для работы с несколькими базами данных, которые содержат
50 миллионов записей, кроме того, нам известны пользователи,
использующие MySQL для работы с 60000 таблицами, включающими
около 5000000000 строк.
<LI>

Для каждой таблицы разрешается иметь до 32 индексов. Каждый индекс
может содержать от 1 до 16 столбцов или частей столбцов. Максимальная
ширина индекса 500 бит (это значение может быть изменено при
компиляции MySQL). Для индекса может использоваться префикс
поля <code>CHAR</code> или <code>VARCHAR</code>.
</ul>

<DT>Установка соединений
<DD>

<ul>
<LI>

Клиенты могут соединяться с <code>MySQL</code>, используя сокеты TCP/IP,
сокеты Unix или именованные каналы (named pipes, под NT).
<LI>

Поддержка <code>ODBC</code> (Open-DataBase-Connectivity) для Win32 (с исходным
кодом). Все функции ODBC 2.5 и многие другие. Например, для соединения
с MySQL можно использовать MS Access. See section <A HREF="manual.ru_Clients.html#ODBC">8.3  Поддержка ODBC в MySQL</A>.
</ul>

<DT>Локализация
<DD>

<ul>
<LI>

Сервер может обеспечивать сообщения об ошибках для клиентов на
различных языках. See section <A HREF="manual.ru_MySQL_Database_Administration.html#Languages">4.6.2  Сообщения об ошибках на языках, отличных от английского</A>.
<LI>

Полная поддержка нескольких различных кодировок, включая ISO-8859-1
(Latin1), немецкий, big5, ujis и многие другие. Например,
скандинавские символы разрешены в именах таблиц и столбцов.
<LI>

Для хранения всех данных используется выбранный набор символов. Все
сравнения для столбцов с нормальными строками проводятся с учетом
регистра символов.
<LI>

Сортировка производится согласно выбранному алфавиту (по умолчанию
используется шведский). Эту установку можно изменить при запуске
сервера MySQL. Чтобы ознакомиться с примером очень грамотной
сортировки, можно обратиться к коду сортировки для чешского языка.
MySQL поддерживает много различных кодировок, которые можно задавать
во время компиляции и в процессе работы.
</ul>

<DT>Клиенты и инструментарий
<DD>

<ul>
<LI>

Включает <code>myisamchk</code>, очень быструю утилиту для проверки, оптимизации и
восстановления таблиц. Все функциональные возможности <code>myisamchk</code> также
доступны через SQL-интерфейс. See section <A HREF="manual.ru_MySQL_Database_Administration.html#MySQL_Database_Administration">4  Администрирование баз данных</A>.
<LI>

Все MySQL-программы можно запускать с опциями <code>--help</code> или <code>-?</code> для
получения помощи.
</ul>

</DL>



<H3><A NAME="Stability" HREF="manual.ru_toc.html#Stability">1.4.3  Насколько стабильным является MySQL?</A></H3>

<P>
<A NAME="IDX32"></A>

</P>
<P>
Этот раздел дает ответ на следующие вопросы ''<em>Насколько стабильным
является MySQL?</em>'' и ''<em>Могу ли я положиться на MySQL в своем
проекте?</em>'' Мы попытаемся внести ясность в эти проблемы, а также ответить
на некоторые важные вопросы, которые имеют значение для многих
потенциальных пользователей. Информация данного раздела базируется на
данных из списка рассылки, - наши пользователи очень активно сообщают нам
о выявленных проблемах и о своем опыте использования нашего ПО.

</P>
<P>
Самые первые версии кода были созданы в начале 80-х. Это был устойчивый
код с форматом таблиц <code>ISAM</code>, обеспечивающим обратную совместимость с
предыдущими версиями. Во времена компании TcX, предшественника MySQL AB, с
середины 1986 года код MySQL работал в проектах без каких-либо проблем. Но
когда сервер MySQL был выпущен для широкого использования, оказалось, что
существует несколько фрагментов ``непротестированного кода''. Эти
фрагменты были быстро обнаружены новыми пользователями, которые составляли
запросы в несколько ином виде, чем мы.

</P>
<P>
С каждым новым релизом количество проблем, связанных с переносимостью,
уменьшалось (несмотря на то, что в каждом выпуске появлялось множество
новых возможностей).

</P>
<P>
Каждый релиз MySQL был рабочим, проблемы возникали только при
использовании кода из ``серых зон''. Естественно, что новые пользователи
не знают о том, где находятся такие ``серые зоны''; в данном разделе
сделана попытка описать те из них, которые известны на данный момент.
Большая часть описания относится к версии 3.23 MySQL-сервера. В самой
последней версии все известные ошибки устранены, за исключением тех,
которые перечислены в разделе ошибок, а также конструктивных дефектов. 
See section <A HREF="manual.ru_Introduction.html#Bugs">1.9.5  Известные ошибки и недостатки проектирования в MySQL</A>.

</P>
<P>
Структура ПО MySQL является многоуровневой с независимыми модулями.
Некоторые из новейших модулей перечислены ниже, причем по каждому дается
информация о том, насколько хорошо он протестирован.

</P>
<P>
<A NAME="IDX33"></A>

</P>
<DL COMPACT>

<DT><strong>Репликация - Gamma</strong>
<DD>
Большие серверные кластеры, в которых применяется репликация, находятся в
промышленной эксплуатации и показывают хорошие результаты. Работа над
средствами репликации в MySQL 4.x продолжается.

<DT><strong><code>InnoDB</code>-таблицы - стабильно (в 3.23 с 3.23.49)</strong>
<DD>
Обработчик транзакционных <code>InnoDB</code>-таблиц объявлен в настоящее время
стабильными в дереве MySQL 3.23, начиная с версии 3.23.49. <code>InnoDB</code>
используется в больших промышленных системах с большой нагрузкой.

<DT><strong><code>BDB</code>-таблицы - Gamma</strong>
<DD>
Код <code>Berkeley DB</code> очень устойчив, но на настоящий момент продолжается
усовершенствование интерфейса обработчика транзакционных <code>BDB</code>-таблиц с
MySQL, поэтому должно пройти некоторое время, пока он будет так же хорошо
протестирован, как и таблицы других типов.

<DT><strong><code>Полнотекстовый поиск</code> - Beta</strong>
<DD>
Полнотекстовый поиск работает, но широко не используется. В версии MySQL
4.0 реализованы существенные улучшения данной возможности.

<DT><strong><code>MyODBC 2.50</code> (использующий ODBC SDK 2.5) - Gamma</strong>
<DD>
Чрезвычайно широко используется. Как оказалось, некоторые из возникших
проблем являются зависящими от приложения, а не от ODBC-драйвера или
сервера баз данных.

<DT><strong>Aвтоматическое восстановление <code>MyISAM</code>-таблиц - Gamma</strong>
<DD>
Статус Gamma относится только к новому коду в обработчике таблиц, который
проверяет правильность закрытия таблицы после ее открытия и выполняет
автоматическую проверку/восстановление незакрытой таблицы.

<DT><strong>Вставка больших объемов данных - Alpha</strong>
<DD>
Новая возможность в <code>MyISAM</code>-таблицах в MySQL 4.0 для быстрой вставки
большого количества строк.

<DT><strong>Блокировка - Gamma</strong>
<DD>
В большой степени зависит от системы. В некоторых системах возникают
большие проблемы с использованием стандартной для ОС блокировки
(<code>fcntl()</code>). В таких случаях следует запустить демон <code>mysqld</code> с флагом
<code>--skip-external-locking</code>. Известно, что проблемы имеют место в некоторых системах
Linux и в SunOS, когда используются NFS-монтированные файловые системы.

</DL>

<P>
Несмотря на то, что высококвалифицированную поддержку MySQL AB
обеспечивает за плату, в списке рассылки MySQL обычно можно получить
ответы на часто возникающие вопросы. Ошибки обычно ликвидируются сразу же
при помощи патчей, а серьезные дефекты почти всегда устраняются в новом
выпуске.

</P>


<H3><A NAME="Table_size" HREF="manual.ru_toc.html#Table_size">1.4.4  Насколько большими могут быть таблицы в MySQL?</A></H3>

<P>
<A NAME="IDX34"></A>
<A NAME="IDX35"></A>
<A NAME="IDX36"></A>
<A NAME="IDX37"></A>
<A NAME="IDX38"></A>

</P>

<P>
MySQL версии 3.22 имеет предел по размеру таблиц 4 Гб. В MySQL версии
3.23, где используется новый тип таблиц, максимальный размер таблицы
доведен до 8 миллионов терабайтов (2 ^ 63 bytes).

</P>
<P>
Однако следует заметить, что операционные системы имеют свои собственные
ограничения по размерам файлов. Ниже приведено несколько примеров:

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><strong>Операционная система</strong> </TD><TD> <strong>Ограничения на размеры файла</strong>
</TD></TR>
<TR><TD>32-разрядная Linux-Intel </TD><TD> 2Гб, 4Гб и более, в зависимости от версии Linux
</TD></TR>
<TR><TD>Linux-Alpha </TD><TD> 8T (?)
</TD></TR>
<TR><TD>Solaris 2.5.1 </TD><TD> 2 Гб (с патчем возможно 4Гб)
</TD></TR>
<TR><TD>Solaris 2.6 </TD><TD> 4Гб (может быть изменено при помощи указания флага)
</TD></TR>
<TR><TD>Solaris 2.7 Intel </TD><TD> 4 Гб
</TD></TR>
<TR><TD>Solaris 2.7 UltraSPARC </TD><TD> 512 Гб
</TD></TR>
</TABLE>

<P>
В Linux 2.2 существует возможность создавать таблицы с размерами более 2
Гб, используя патч LFS для файловой системы ext2. Существуют также патчи,
обеспечивающие поддержку больших файлов для ReiserFS в Linux 2.4.

</P>
<P>
Как можно видеть, размер таблицы в базе данных MySQL обычно лимитируется
операционной системой.

</P>
<P>
По умолчанию MySQL-таблицы имеют максимальный размер около 4 Гб. Для любой
таблицы можно проверить/определить ее максимальный размер с помощью команд
<code>SHOW TABLE STATUS</code> или <code>myisamchk -dv table_name</code>. See section <A HREF="manual.ru_MySQL_Database_Administration.html#SHOW">4.5.6  Синтаксис команды <code>SHOW</code></A>.

</P>
<P>
Если необходимы таблицы большего размера, чем 4 Гб (и используемая
операционная система ``не возражает''), следует при создании такой таблицы
задать параметры <code>AVG_ROW_LENGTH</code> и <code>MAX_ROWS</code> (see section <A HREF="manual.ru_Reference.html#CREATE_TABLE">6.5.3  Синтаксис оператора <code>CREATE TABLE</code></A>). Эти параметры можно задать и позже - с помощью <code>ALTER TABLE</code> (see section <A HREF="manual.ru_Reference.html#ALTER_TABLE">6.5.4  Синтаксис оператора <code>ALTER TABLE</code></A>).

</P>
<P>
Если большая таблица предназначена только для чтения, можно
воспользоваться <code>myisampack</code>, чтобы слить несколько таблиц в одну и сжать
ее. Обычно <code>myisampack</code> ужимает таблицу по крайней мере на 50%, поэтому в
результате можно получить очень большие таблицы (see section <A HREF="manual.ru_MySQL_Database_Administration.html#myisampack">4.7.4  <code>myisampack</code>, MySQL-генератор сжатых таблиц (только для чтения)</A>).

</P>
<P>
Есть еще одна возможность обойти ограничения операционной системы на
размеры файлов данных MyISAM, - это делается при помощи опции <code>RAID</code> (see section <A HREF="manual.ru_Reference.html#CREATE_TABLE">6.5.3  Синтаксис оператора <code>CREATE TABLE</code></A>).

</P>
<P>
Еще одним решением может быть использование функции <code>MERGE</code>, которая
обеспечивает возможность обрабатывать набор идентичных таблиц как одну
таблицу (see section <A HREF="manual.ru_Table_types.html#MERGE">7.2  Таблицы <code>MERGE</code></A>).

</P>


<H3><A NAME="Year_2000_compliance" HREF="manual.ru_toc.html#Year_2000_compliance">1.4.5  Вопросы, связанные с Проблемой-2000</A></H3>

<P>
<A NAME="IDX39"></A>
<A NAME="IDX40"></A>
<A NAME="IDX41"></A>
<A NAME="IDX42"></A>

</P>
<P>
Сам MySQL не имеет проблем, связанных с Проблемой-2000 (Y2K):

</P>

<ul>
<LI>

В MySQL используются функции времени Unix, поэтому проблемы с
датами, вплоть до <code>2069</code>, исключены. Принимается, что все двузначные
значения годов находятся в диапазоне с <code>1970</code> по <code>2069</code>, поэтому число <code>01</code> в
столбце с типом <code>year</code> MySQL обрабатывает как <code>2001</code>.

<LI>

Все MySQL-функции, обрабатывающие даты, хранятся в одном файле
<tt>`sql/time.cc'</tt>. Их код был написан очень тщательно, чтобы
застраховаться от проблем, связанных с 2000-м годом.

<LI>

В версиях MySQL 3.22 и более поздних в столбцах с новым типом <code>YEAR</code>,
который обеспечивает хранение нулевого <code>0</code> года и значений лет от <code>1901</code>
до <code>2155</code> в одном байте, а также отображение дат при помощи 2 или 4
знаков.
</ul>

<P>
Проблемы, связанные с 2000-м годом, могут возникнуть в приложениях,
которые используют MySQL так, что это может оказаться небезопасным
с точки зрения Y2K. Например, во многих старых приложениях для хранения и
обработки значений годов используются 2-значные величины (которые можно
трактовать неоднозначно), а не 4-значные. Эта проблема может быть
урегулирована при помощи приложений, которые используют <code>00</code> или <code>99</code> как
``отсутствующие'' индикаторы значений.

</P>
<P>
К сожалению, такие проблемы бывает сложно устранить, так как разные
приложения могут быть написаны разными программистами, каждый из которых
мог применять отличный от других набор соглашений и обрабатывающих
значения даты функций.

</P>
<P>
Приведенный ниже код является наглядной демонстрацией того, что в MySQL
Server проблемы с датами вплоть до 2030 года отсутствуют.

</P>

<pre>
mysql&#62; DROP TABLE IF EXISTS y2k;
Query OK, 0 rows affected (0.01 sec)

mysql&#62; CREATE TABLE y2k (date DATE,
    -&#62; date_time DATETIME,
    -&#62; time_stamp TIMESTAMP);
Query OK, 0 rows affected (0.00 sec)

mysql&#62; INSERT INTO y2k VALUES
    -&#62; ("1998-12-31","1998-12-31 23:59:59",19981231235959),
    -&#62; ("1999-01-01","1999-01-01 00:00:00",19990101000000),
    -&#62; ("1999-09-09","1999-09-09 23:59:59",19990909235959),
    -&#62; ("2000-01-01","2000-01-01 00:00:00",20000101000000),
    -&#62; ("2000-02-28","2000-02-28 00:00:00",20000228000000),
    -&#62; ("2000-02-29","2000-02-29 00:00:00",20000229000000),
    -&#62; ("2000-03-01","2000-03-01 00:00:00",20000301000000),
    -&#62; ("2000-12-31","2000-12-31 23:59:59",20001231235959),
    -&#62; ("2001-01-01","2001-01-01 00:00:00",20010101000000),
    -&#62; ("2004-12-31","2004-12-31 23:59:59",20041231235959),
    -&#62; ("2005-01-01","2005-01-01 00:00:00",20050101000000),
    -&#62; ("2030-01-01","2030-01-01 00:00:00",20300101000000),
    -&#62; ("2050-01-01","2050-01-01 00:00:00",20500101000000);
Query OK, 13 rows affected (0.01 sec)
Records: 13 Duplicates: 0 Warnings: 0

mysql&#62; SELECT * FROM y2k;
+------------+---------------------+----------------+
| date | date_time | time_stamp |
+------------+---------------------+----------------+
| 1998-12-31 | 1998-12-31 23:59:59 | 19981231235959 |
| 1999-01-01 | 1999-01-01 00:00:00 | 19990101000000 |
| 1999-09-09 | 1999-09-09 23:59:59 | 19990909235959 |
| 2000-01-01 | 2000-01-01 00:00:00 | 20000101000000 |
| 2000-02-28 | 2000-02-28 00:00:00 | 20000228000000 |
| 2000-02-29 | 2000-02-29 00:00:00 | 20000229000000 |
| 2000-03-01 | 2000-03-01 00:00:00 | 20000301000000 |
| 2000-12-31 | 2000-12-31 23:59:59 | 20001231235959 |
| 2001-01-01 | 2001-01-01 00:00:00 | 20010101000000 |
| 2004-12-31 | 2004-12-31 23:59:59 | 20041231235959 |
| 2005-01-01 | 2005-01-01 00:00:00 | 20050101000000 |
| 2030-01-01 | 2030-01-01 00:00:00 | 20300101000000 |
| 2050-01-01 | 2050-01-01 00:00:00 | 00000000000000 |
+------------+---------------------+----------------+
13 rows in set (0.00 sec)

</pre>

<P>
Можно видеть, что при использовании типов <code>DATE</code> и <code>DATETIME</code> проблем с датами
будущего не возникнет (эти типы ``справляются'' с датами вплоть до 9999
года).

</P>
<P>
Тип <code>TIMESTAMP</code>, который используется для сохранения текущего времени, имеет
диапазон только до <code>2030-01-01</code>. В 32-разрядных машинах <code>TIMESTAMP</code> тип имеет
диапазон от <code>1970</code> до <code>2030</code> (значение со знаком). В 64-разрядных машинах этот
тип ``справляется'' со значениями времени до <code>2106</code> года (значение без
знака).

</P>
<P>
Таким образом, даже несмотря на то, что MySQL является
Y2K-совместимым, ответственность за однозначную интерпретацию значений
даты ложится на плечи пользователя. See section <A HREF="manual.ru_Reference.html#Y2K_issues">6.2.2.1  Проблема 2000 года и типы данных</A>,
где приведены правила по работе MySQL с входными данными, которые
имеют неоднозначные значения даты (данные, содержащие 2-значные значения
года).

</P>


<H2><A NAME="What_is_MySQL_AB" HREF="manual.ru_toc.html#What_is_MySQL_AB">1.5  Что представляет собой компания MySQL AB?</A></H2>

<P>
<A NAME="IDX43"></A>

</P>
<P>
MySQL AB - компания, в состав которой входят основатели MySQL и основные
разработчики. MySQL AB создана в Швеции Дэвидом Аксмарком (David Axmark),
Аланом Ларссом (Allan Larsson) и Майклом <code>Монти</code> Видениусом (Michael
Monty Widenius).

</P>
<P>
Все разработчики сервера MySQL - штатные сотрудники компании. MySQL AB -
виртуальная компания, состоящая из сотрудников, живущих в десятках стран
по всему миру. Мы каждый день общаемся по Сети друг с другом, а также с
нашими партнерами и пользователями.

</P>
<P>
Наша компания занимается разработкой и распространением СУБД MySQL и
сопутствующего ПО. MySQL AB владеет всеми правами на исходный код MySQL,
на логотип и торговую марку MySQL, а также на данное руководство (see section <A HREF="manual.ru_Introduction.html#What-is">1.4  Что представляет собой MySQL?</A>).

</P>

<P>
Наши основные ценности - это то, что наша деятельность посвящена MySQL и
идеям <code>Open Source</code>, открытого программного обеспечения.

</P>
<P>
Мы хотим, чтобы сервер MySQL соответствовал следующим критериям:

</P>

<ul>
<LI>

Лучший и популярнейший сервер СУБД в мире
<LI>

Доступный всем
<LI>

Простой в эксплуатации
<LI>

Постоянно развивающийся не в ущерб скорости и безопасности
<LI>

Работающий надежно
<LI>

Удобный для использования и усовершенствования
</ul>

<P>
MySQL AB и люди, работающие в MySQL AB:

<ul>
<LI>

Продвигают философию Open Source и поддерживают пользователей Open
Source
<LI>

Хорошие граждане
<LI>

С удовольствием работают с партнерами, разделяющими нашу точку зрения
и ценности
<LI>

Отвечают на электронную почту и предоставляют поддержку пользователям
<LI>

Является виртуальной командой, взаимодействующей через Internet
<LI>

Работают ``против'' патентованного ПО
</ul>

<P>
Свежая информация о MySQL и MySQL AB находится на сайте MySQL
(<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>).

</P>


<H3><A NAME="MySQL_AB_business_model_and_services" HREF="manual.ru_toc.html#MySQL_AB_business_model_and_services">1.5.1  Бизнес-модель и услуги, оказываемые компанией MySQL AB</A></H3>

<P>
Очень часто нам задают такой вопрос: ''<em>Как вам удается зарабатывать на
жизнь, ведь вы все раздаете бесплатно?</em>''

</P>
<P>
Компания MySQL AB получает плату за поддержку, услуги, коммерческие
лицензии и лицензионные платежи. Эти доходы вкладываются в разработку
продукта и расширение бизнеса нашей компании.

</P>

<P>
Компания является прибыльной с момента своего основания. В октябре 2001
ряд ведущих скандинавских инвесторов и небольшая группа меценатов
предоставили нам венчурный кредит. Эти капиталовложения идут на укрепление
нашей бизнес-модели и создают основу устойчивого роста бизнеса компании.

</P>


<H4><A NAME="Business_Services_Support" HREF="manual.ru_toc.html#Business_Services_Support">1.5.1.1  Поддержка</A></H4>

<P>
Владельцами и руководителями компании MySQL AB являются ее основатели и
ведущие разработчики ПО баз данных MySQL. В задачи разработчиков входит
предоставление поддержки клиентам и другим пользователям, что обеспечивает
нам возможность всегда быть в курсе их потребностей и проблем. Вся наша
поддержка осуществляется квалифицированными разработчиками. Ответы на
самые каверзные вопросы дает

</P>
<P>
Майкл Монти Вайдиниус (Michael Monty Widenius), главный автор MySQL
Server. See section <A HREF="manual.ru_Introduction.html#Support">1.6.1  Поддержка, предлагаемая компанией MySQL AB</A>.

</P>
<P>
Для более подробной информации и  заказа различных уровней поддержки обратитесь на 
веб-сайт <a HREF="https://order.mysql.com/">https://order.mysql.com/</a> или свяжитесь с нашим
отделом сбыта по адресу <a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.

</P>


<H4><A NAME="Business_Services_Training" HREF="manual.ru_toc.html#Business_Services_Training">1.5.1.2  Обучение и сертификация</A></H4>

<P>
<A NAME="IDX44"></A>
<A NAME="IDX45"></A>
<A NAME="IDX46"></A>
<A NAME="IDX47"></A>

</P>
<P>
Компания MySQL AB проводит обучение по MySQL и другим смежным продуктам по
всему миру. Мы предлагаем как общедоступные, так и внутрифирменные курсы,
подготовленные в соответствии с конкретными потребностями вашей компании.
Обучение по MySQL проводят также наши партнеры - авторизованные центры
обучения по MySQL.

</P>
<P>
В наших учебных материалах в качестве примеров используются те же базы
данных, что и в нашей документации и типовых приложениях. Эти материалы
постоянно дополняются, чтобы соответствовать последней версии MySQL. Наши
инструкторы опираются на поддержку коллектива разработчиков, что
гарантирует качество обучения и постоянное совершенствование учебного
материала. Благодаря тесной связи с разработчиками вы можете быть уверены
также и в том, что какой бы вопрос ни возник у вас в процессе обучения, на
него всегда будет найден ответ.

</P>
<P>
Обучение на наших курсах позволит вам достичь целей, которые вы ставите
перед собой при создании своих MySQL-приложений. Помимо этого вы:

<ul>
<LI>

сэкономите время
<LI>

повысите эффективность работы своих приложений
<LI>

уменьшите или устраните необходимость в дополнительном оборудовании,
сократив таким образом издержки
<LI>

усилите защищенность своих приложений
<LI>

полнее удовлетворите потребности ваших заказчиков и коллег.
<LI>

подготовитесь к <code>сертификации по MySQL</code>.
</ul>

<P>
Если предлагаемое нами обучение интересует вас как потенциального
участника нашего проекта или партнера в реализации учебных курсов,
посетите учебный раздел на нашем веб-сайте <a HREF="http://www.mysql.com/training/">http://www.mysql.com/training/</a>
или свяжитесь с нами по адресу: <a HREF="mailto:training@mysql.com">training@mysql.com</a>.

</P>
<P>
Для более подробной информации о программе сертификации MySQL, см. 
<a HREF="http://www.mysql.com/certification/">http://www.mysql.com/certification/</a>.

</P>



<H4><A NAME="Business_Services_Consulting" HREF="manual.ru_toc.html#Business_Services_Consulting">1.5.1.3  Консультации</A></H4>

<P>
<A NAME="IDX48"></A>
<A NAME="IDX49"></A>
<A NAME="IDX50"></A>
<A NAME="IDX51"></A>

</P>

<P>
Компания MySQL AB и ее авторизованные партнеры предлагают по всему миру
консультационные услуги для пользователей MySQL а также для
разработчиков, встраивающих MySQL в свое программное обеспечение.

</P>
<P>
Наши консультанты окажут вам помощь в таких вопросах, как проектирование и
настройка баз данных, создание эффективных запросов, настройка
используемой вами платформы для достижения оптимальной эффективности
работы, решение проблем миграции, реализация тиражирования, создание
устойчивых приложений диалоговой обработки запросов, а также во многих
других. Кроме того, мы помогаем нашим клиентам встраивать MySQL в
их продукты и приложения, предназначенные для широкомасштабного
распространения.

</P>
<P>
Наши консультанты работают в тесном сотрудничестве с коллективом
разработчиков компании, что обеспечивает высокий технический уровень
предоставляемых ими профессиональных услуг. Мы предлагаем широкий диапазон
форм консультационной поддержки - от двухдневных интенсивных курсов до
проектов продолжительностью в недели и месяцы. Наши консультации
охватывают не только MySQL, но и языки программирования и
сценариев, например PHP, Perl и многое другое.

</P>
<P>
Заинтересованных в наших консультационных услугах, а также тех, кто хотели
бы стать нашими партнерами в оказании таких услуг, приглашаем посетить
консультационный раздел на нашем веб-сайте
<a HREF="http://www.mysql.com/consulting/">http://www.mysql.com/consulting/</a> или связаться с нашим консультационным
отделом по адресу <a HREF="mailto:consulting@mysql.com">consulting@mysql.com</a>.

</P>


<H4><A NAME="Business_Services_Commercial_licenses" HREF="manual.ru_toc.html#Business_Services_Commercial_licenses">1.5.1.4  Коммерческие лицензии</A></H4>

<P>
ПО баз данных MySQL выпускается по общедоступной лицензии <code>GNU General
Public License</code> (<code>GPL</code>). Это означает, что при соблюдении условий <code>GPL</code> ПО 
<code>MySQL</code> можно пользоваться бесплатно. Если вы не хотите связывать себя
лицензионными ограничениями <code>GPL</code> (например, вас не устраивает условие, что
ваше собственное приложение также подпадает под действие <code>GPL</code>), есть
возможность приобрести у компании MySQL AB на этот же продукт коммерческую
лицензию.

</P>
<P>
См.  <a HREF="https://order.mysql.com/">https://order.mysql.com/</a>). 

</P>
<P>
Компания MySQL AB владеет авторскими правами на
исходный код MySQL, поэтому мы вправе использовать двойное лицензирование,
в соответствии с которым один и тот же продукт доступен как по лицензии
<code>GPL</code>, так и по коммерческой лицензии, и это никоим образом не нарушает
обязательств компании MySQL AB по предоставлению исходного кода. Более
подробную информацию о том, в каких случаях необходимо приобретение
коммерческой лицензии, вы найдете в разделе section <A HREF="manual.ru_Introduction.html#MySQL_licenses">1.6.3  Лицензии на ПО MySQL</A>.

</P>
<P>
Компания MySQL AB занимается также продажей коммерческих лицензий на ПО
сторонних разработчиков, предоставляемое с открытым исходным кодом на
условиях <code>GPL</code>. Это ПО расширяет возможности <code>MySQL</code>. Хороший пример -
транзакционный обработчик таблиц InnoDB, обеспечивающий поддержку
технологии <code>ACID</code>, строковую блокировку, восстановление системы после аварии,
управление версиями, поддержку внешних ключей и многое другое (see section <A HREF="manual.ru_Table_types.html#InnoDB">7.5  Таблицы <code>InnoDB</code></A>).

</P>


<H4><A NAME="Business_Services_Partnering" HREF="manual.ru_toc.html#Business_Services_Partnering">1.5.1.5  О нашей программе партнерства</A></H4>

<P>
<A NAME="IDX52"></A>

</P>
<P>
Компания MySQL AB реализует глобальную программу партнерства, которая
охватывает учебные курсы, консультативные услуги и поддержку продукта,
издательскую деятельность, а также продажу и распространение MySQL и
смежных продуктов. Партнеры компании MySQL AB получают право быть
представленными на веб-сайте <a HREF="http://www.mysql.com/">http://www.mysql.com/</a> и использовать в
маркировке своих продуктов специальные варианты торговой марки MySQL - с
целью идентификации и продвижения этих продуктов на рынке.

</P>
<P>
Тех, кто заинтересован в получении статуса партнера MySQL, просим
обращаться по адресу <a HREF="mailto:partner@mysql.com">partner@mysql.com</a>.

</P>
<P>
Название MySQL и логотип MySQL в виде дельфина являются торговыми марками
компании MySQL AB (see section <A HREF="manual.ru_Introduction.html#MySQL_AB_Logos_and_Trademarks">1.6.4  Логотипы и торговые марки MySQL AB</A>),
принадлежащими компании MySQL AB. Узнаваемость этих торговых марок
свидетельствует о том, что за годы своей работы основатели компании MySQL
AB сумели добиться для своей компании заметного положения и признания в
мире.

</P>


<H4><A NAME="Business_Services_Advertising" HREF="manual.ru_toc.html#Business_Services_Advertising">1.5.1.6  О рекламе</A></H4>

<P>
Веб-сайт компании MySQL (<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>) пользуется популярностью
среди разработчиков и пользователей. Например, в октябре 2001 г. мы
обслужили 10 миллионов запросов на просмотр размещенных на нем страниц.
Наши посетители относятся к категории лиц, принимающих решения и дающих
рекомендации о покупке как программного, так и аппаратного обеспечения.
12% наших посетителей утверждают решения о приобретении, и только 9% наших
посетителей совсем не имеют отношения к принятию подобных решений. Более
65% наших посетителей сделали в деловых целях как минимум одну покупку в
Сети за последние полгода, а 70% - планируют совершить ее в ближайшие
месяцы.

</P>


<H3><A NAME="Contact_information" HREF="manual.ru_toc.html#Contact_information">1.5.2  Как с нами связаться</A></H3>

<P>
<A NAME="IDX53"></A>
<A NAME="IDX54"></A>
<A NAME="IDX55"></A>
<A NAME="IDX56"></A>
<A NAME="IDX57"></A>
<A NAME="IDX58"></A>

</P>
<P>
Самая свежая информация о MySQL и нашей компании представлена на веб-сайте
MySQL (<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>).

</P>
<P>
По вопросам связи с прессой и темам, не затронутым в наших сообщениях для
печати (<a HREF="http://www.mysql.com/news/">http://www.mysql.com/news/</a>), обращайтесь по адресу
<a HREF="mailto:press@mysql.com">press@mysql.com</a>.

</P>
<P>
Для получения своевременных и точных ответов на технические вопросы,
касающиеся ПО MySQL, необходимо иметь действующий контракт с компанией
MySQL AB по поддержке (за дополнительной информацией обращайтесь к разделу
section <A HREF="manual.ru_Introduction.html#Support">1.6.1  Поддержка, предлагаемая компанией MySQL AB</A>). Чтобы заказать контракт по поддержке,
следует обратиться на сайт <a HREF="https://order.mysql.com/">https://order.mysql.com/</a> или направить
сообщение по адресу <a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.

</P>
<P>
Для получения информации об учебных курсах, которые проводит компания
MySQL AB, посетите раздел по обучению на веб-сайте
<a HREF="http://www.mysql.com/training/">http://www.mysql.com/training/</a>. Тех, кто имеет ограниченный доступ в
Internet, просим связаться с учебным отделом компании MySQL AB по адресу
<a HREF="mailto:training@mysql.com">training@mysql.com</a> (see section <A HREF="manual.ru_Introduction.html#Business_Services_Training">1.5.1.2  Обучение и сертификация</A>).

</P>
<P>
Информацию о программе сертификации компании MySQL AB вы найдете на
странице <a HREF="http://www.mysql.com/certification/index.html">http://www.mysql.com/certification/index.html</a> нашего
веб-сайта. Если вы желаете быть в курсе текущего состояния программы
сертификации по MySQL, просим сообщить об этом по адресу
<a HREF="mailto:certification@mysql.com">certification@mysql.com</a>. See section <A HREF="manual.ru_Introduction.html#Business_Services_Training">1.5.1.2  Обучение и сертификация</A>.

</P>
<P>
Заинтересованных в получении консультаций приглашаем посетить раздел
консультаций на веб-сайте <a HREF="http://www.mysql.com/consulting/">http://www.mysql.com/consulting/</a>. Тех, у кого
имеется ограниченный доступ в Internet, просим связаться с
консультационным отделом компании MySQL AB по адресу <a HREF="mailto:consulting@mysql.com">consulting@mysql.com</a>.
Обращайтесь к разделу section <A HREF="manual.ru_Introduction.html#Business_Services_Consulting">1.5.1.3  Консультации</A>.

</P>
<P>
Коммерческие лицензии можно приобрести по Сети, на веб-сайте
<a HREF="https://order.mysql.com/">https://order.mysql.com/</a>. Здесь вы найдете также информацию о том, как
передать в компанию MySQL AB свой заказ на покупку по факсу. Более подробная информация
о лицензировании доступна на <a HREF="http://www.mysql.com/products/pricing.html">http://www.mysql.com/products/pricing.html</a>.

</P>
<P>
Если у вас
имеются вопросы, касающиеся лицензирования, или вы хотите знать расценки
на лицензии в случае массового выпуска продукта, заполните форму на нашем
веб-сайте (<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>) или пошлите сообщение по электронной
почте: вопросы, касающиеся лицензирования, направляйте по адресу
<a HREF="mailto:licensing@mysql.com">licensing@mysql.com</a>, а запросы на покупку - по адресу <a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.
Обращайтесь также к разделу section <A HREF="manual.ru_Introduction.html#MySQL_licenses">1.6.3  Лицензии на ПО MySQL</A>.

</P>
<P>
Если вы представляете деловые круги, заинтересованные в партнерских
отношениях с компанией MySQL AB, напишите нам по адресу <a HREF="mailto:partner@mysql.com.">partner@mysql.com.</a>
Обращайтесь к разделу section <A HREF="manual.ru_Introduction.html#Business_Services_Partnering">1.5.1.5  О нашей программе партнерства</A>.

</P>
<P>
Для получения дополнительной информации о политике компании MySQL в
отношении торговых марок обращайтесь на наш веб-сайт
<a HREF="http://www.mysql.com/company/trademark.html">http://www.mysql.com/company/trademark.html</a> или напишите письмо по адресу
<a HREF="mailto:trademark@mysql.com">trademark@mysql.com</a>. Обратитесь к разделу section <A HREF="manual.ru_Introduction.html#MySQL_AB_Logos_and_Trademarks">1.6.4  Логотипы и торговые марки MySQL AB</A>.

</P>
<P>
Если вас заинтересовало какое-либо из предложений, перечисленных в нашем
разделе предложений работы (<a HREF="http://www.mysql.com/company/jobs/">http://www.mysql.com/company/jobs/</a>),
направляйте свои письма по адресу <a HREF="mailto:jobs@mysql.com">jobs@mysql.com</a>. Просьба не оформлять
свои личные данные в виде вложения в письмо: лучше добавьте эту информацию
в виде обычного текста в конце своего сообщения.

</P>
<P>
Если вы желаете принять участие в общей дискуссии с нашими многочисленными
пользователями, обращайтесь на соответствующий список рассылки (see section <A HREF="manual.ru_Introduction.html#Questions">1.8.1  Списки рассылки MySQL</A>).

</P>
<P>
Сообщения об ошибках (или bugs), а также вопросы и комментарии следует
направлять в список рассылки по адресу <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>. При
обнаружении в <code>MySQL ошибок</code>, влияющих на безопасность баз данных,
просим сообщать об этом по адресу <a HREF="mailto:security@mysql.com">security@mysql.com</a>. Обратитесь также к
разделу section <A HREF="manual.ru_Introduction.html#Bug_reports">1.8.1.3  Как отправлять отчеты об ошибках или проблемах</A>.

</P>
<P>
Если у вас имеются сравнительные результаты тестирования, которые мы можем
опубликовать, свяжитесь с нами по адресу <a HREF="mailto:benchmarks@mysql.com">benchmarks@mysql.com</a>.

</P>
<P>
Предложения по внесению дополнений или исправлений в данное руководство
пользователя следует направлять коллективу разработчиков руководства по
адресу <a HREF="mailto:docs@mysql.com">docs@mysql.com</a>.

</P>
<P>
Вопросы и замечания по работе или содержанию веб-сайта MySQL
(<a HREF="http://www.mysql.com/">http://www.mysql.com/</a>) направляйте по адресу <a HREF="mailto:webmaster@mysql.com">webmaster@mysql.com</a>.

</P>
<P>
Компания MySQL AB придерживается определенной политики относительно
конфиденциальности информации. Об этом вы можете прочитать на странице
<a HREF="http://www.mysql.com/company/privacy.html">http://www.mysql.com/company/privacy.html</a> нашего веб-сайта. По вопросам
этой политики просим обращаться по адресу <a HREF="mailto:privacy@mysql.com">privacy@mysql.com</a>.

</P>
<P>
По всем другим вопросам обращайтесь по адресу <a HREF="mailto:info@mysql.com">info@mysql.com</a>.

</P>


<H2><A NAME="Licensing_and_Support" HREF="manual.ru_toc.html#Licensing_and_Support">1.6  Лицензии и поддержка MySQL</A></H2>

<P>
<A NAME="IDX59"></A>
<A NAME="IDX60"></A>

</P>
<P>
В этом разделе описаны условия предоставления компанией MySQL AB лицензий
и поддержки.

</P>



<H3><A NAME="Support" HREF="manual.ru_toc.html#Support">1.6.1  Поддержка, предлагаемая компанией MySQL AB</A></H3>

<P>
<A NAME="IDX61"></A>
<A NAME="IDX62"></A>
<A NAME="IDX63"></A>
<A NAME="IDX64"></A>
<A NAME="IDX65"></A>
<A NAME="IDX66"></A>
<A NAME="IDX67"></A>

</P>

<P>
Что подразумевается под технической поддержкой компании MySQL AB? Это
означает, что на каждый свой вопрос вы получите адресованный лично вам
ответ непосредственно от программистов, пишущих программы баз данных
MySQL.

</P>
<P>
Мы стараемся, чтобы наша техническая поддержка носила широкий и
содержательный характер. Если вопрос, который вы задаете по MySQL, важен
для вас, то, следовательно, он должен быть важен и для нас. Как правило,
клиенты просят помочь разобраться в том, как работают те или иные команды
или утилиты, как устранить ``узкие места'', мешающие эффективной работе
системы, как восстановить систему в случае аварии, как влияет на работу
MySQL та или иная операционная система или локальная сеть, какие
технологии резервного копирования и восстановления данных лучше применять,
как использовать <code>API</code>-интерфейсы и т.д. Наша поддержка охватывает вопросы,
относящиеся только к серверу MySQL и нашим собственным утилитам, но не к
продуктам сторонних разработчиков, которые обеспечивают доступ к серверу
MySQL, хотя мы стараемся и в этих случаях оказывать посильную помощь.

</P>
<P>
Подробная информация о различных видах поддержки, которую предлагает
компания, приведена на веб-сайте <a HREF="http://www.mysql.com/support/">http://www.mysql.com/support/</a>. Там же вы
можете заказать по Сети контракты по поддержке. Те, кто имеет ограниченный
доступ в Internet, могут связаться с нашим отделом сбыта по адресу
<a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.

</P>
<P>
Техническая поддержка - это своего рода страхование жизни. Без такой
страховки можно успешно обходиться долгие годы, но наступит критический
момент - и придется сожалеть о своей беспечности! Если вы используете
сервер MySQL для важных приложений и внезапно сталкиваетесь с неполадками
в их работе, может оказаться, что на самостоятельное выяснение ответов на
все вопросы потребуется слишком много времени. В таких случаях не обойтись
без срочной помощи самых опытных специалистов по устранению аварийных
ситуаций в MySQL, а они работают именно в компании MySQL AB.

</P>


<H3><A NAME="Copyright" HREF="manual.ru_toc.html#Copyright">1.6.2  Авторские права и лицензии на MySQL</A></H3>

<P>
<A NAME="IDX68"></A>
<A NAME="IDX69"></A>

</P>

<P>
Компания MySQL AB является владельцем авторских прав на исходный код ПО
MySQL, логотипы и торговые марки MySQL, а также на данное руководство
пользователя. Обратитесь к разделу section <A HREF="manual.ru_Introduction.html#What_is_MySQL_AB">1.5  Что представляет собой компания MySQL AB?</A> Распространение
MySQL подпадает под действие нескольких различных лицензий:

</P>

<ol>
<LI>

Весь код ПО сервера, специфичный только для MySQL, библиотека
<code>mysqlclient</code> и клиентское ПО, а также библиотека <code>GNU</code> <code>readline</code> подпадают под
действие общедоступной лицензиии <code>GNU</code> <code>General Public License</code> 
(see section <A HREF="manual.ru_GPL_license.html#GPL_license">H  GNU General Public License</A>). Текст этой лицензии имеется также в
составе дистрибутива ПО, в файле <tt>`COPYING'</tt>.

<LI>

Библиотека  <code>GNU</code>  getopt  подпадает  под  действие  <code>GNU Lesser General
Public License</code> (see section <A HREF="manual.ru_LGPL_license.html#LGPL_license">I  GNU Lesser General Public License</A>).

<LI>

Некоторые фрагменты исходного кода (библиотека regexp) подпадают под
действие Berkeley-подобной лицензии.

<LI>

Старые версии MySQL (3.22 и более ранние) подпадают под действие более
строгой лицензии (<a HREF="http://www.mysql.com/products/mypl.html">http://www.mysql.com/products/mypl.html</a>).
Информация об условиях лицензии имеется в документации на конкретную
версию.

<LI>

Распространение руководства пользователя в данное время не подпадает
под действие лицензии типа <code>GPL</code>. Его использование допускается на следующих
условиях:

<ul>
<LI>

Допускается конвертирование в другие форматы, но внесение при этом
каких-либо изменений или редактирование содержания не допускается.

<LI>

Разрешается выпуск печатных копий руководства для личных целей.

<LI>

Во всех остальных случаях, таких как продажа печатных изданий
руководства или использование руководства (или его части) в других
публикациях, требуется предварительно получить письменное согласие
компании MySQL AB.
</ul>

Для получения дополнительной информации или в случае, если вы хотели бы
принять участие в переводе руководства, обращайтесь по адресу
<a HREF="mailto:docs@mysql.com">docs@mysql.com</a>.
</ol>

<P>
Дополнительная информация о том, как практически осуществляется
лицензирование MySQL, находится в разделе section <A HREF="manual.ru_Introduction.html#MySQL_licenses">1.6.3  Лицензии на ПО MySQL</A>. Обращайтесь
также к разделу section <A HREF="manual.ru_Introduction.html#MySQL_AB_Logos_and_Trademarks">1.6.4  Логотипы и торговые марки MySQL AB</A>.

</P>


<H3><A NAME="MySQL_licenses" HREF="manual.ru_toc.html#MySQL_licenses">1.6.3  Лицензии на ПО MySQL</A></H3>

<P>
<A NAME="IDX70"></A>
<A NAME="IDX71"></A>
<A NAME="IDX72"></A>
<A NAME="IDX73"></A>
<A NAME="IDX74"></A>
<A NAME="IDX75"></A>
<A NAME="IDX76"></A>
<A NAME="IDX77"></A>

</P>

<P>
ПО MySQL распространяется в соответствии с условиями общедоступной
лицензии <code>GNU General Public License</code> (<code>GPL</code>), которая является одной из
наиболее широко распространенных лицензий на ПО с открытым исходным кодом.
Официальные условия лицензии <code>GPL</code> вы найдете на веб-сайте
<a HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. Обратитесь также к
<a HREF="http://www.gnu.org/licenses/gpl-faq.html">http://www.gnu.org/licenses/gpl-faq.html</a> и
<a HREF="http://www.gnu.org/philosophy/enforcing-gpl.html">http://www.gnu.org/philosophy/enforcing-gpl.html</a>.

</P>
<P>
Так как ПО MySQL выпускается по лицензии <code>GPL</code>, зачастую им можно
пользоваться бесплатно, но в некоторых случаях желательно или необходимо
приобрести коммерческую лицензию у компании MySQL AB (это можно сделать на
веб-сайте <a HREF="https://order.mysql.com/">https://order.mysql.com/</a>).

</P>
<P>
См. <a HREF="http://www.mysql.com/products/licensing.html">http://www.mysql.com/products/licensing.html</a> для получения более
подробной информации.

</P>

<P>
Старые версии MySQL (3.22 и более ранние) подпадают под действие более
строгой лицензии (<a HREF="http://www.mysql.com/products/mypl.html">http://www.mysql.com/products/mypl.html</a>).
Информацию об условиях лицензии вы найдете в документации на конкретную
версию.

</P>
<P>
Обращаем ваше внимание на то, что использование ПО MySQL, подпадающего под
коммерческую лицензию, лицензию <code>GPL</code> или старую лицензию MySQL, не
означает, что вы автоматически получаете право на использование торговых марок,
принадлежащих компании MySQL AB. Об этом читайте в разделе section <A HREF="manual.ru_Introduction.html#MySQL_AB_Logos_and_Trademarks">1.6.4  Логотипы и торговые марки MySQL AB</A>.

</P>



<H4><A NAME="Using_the_MySQL_software_under_a_commercial_license" HREF="manual.ru_toc.html#Using_the_MySQL_software_under_a_commercial_license">1.6.3.1  Использование ПО MySQL под коммерческой лицензией</A></H4>

<P>
Лицензия <code>GPL</code> - в хорошем смысле - носит ``заразный'' характер. Это
означает, что в случае линкования какой-либо программы с программой, выпущенной
по данной лицензии, все части исходного кода получившегося продукта должны
также выпускаться по лицензии <code>GPL</code>. В противном случае будут нарушены
условия лицензии и вы вообще лишитесь права использовать программу, подпадающую
под ее действие.

</P>
<P>
Коммерческая лицензия является необходимой в следующих случаях:

</P>

<ul>
<LI>

При линковании программы с любым <code>GPL</code> кодом из ПО MySQL, в тех случаях, когда вы не
хотите, чтобы готовый продукт подпадал под действие <code>GPL</code> (например,
продукт разрабатывается как коммерческий или существуют какие-либо
другие причины не открывать добавленный программный код, который не
подпадает под действие <code>GPL</code>). При покупке коммерческой лицензии
вы не используете ПО MySQL под лицензией <code>GPL</code>, даже несмотря на то,
что это один и тот же код. 

<LI>

В случае распространения приложения, не защищенного лицензией <code>GPL</code>,
которое предназначено для работы исключительно с ПО MySQL и
поставляется вместе с ним. Такой вариант решения в действительности
считается связыванием, даже если оно осуществляется по сети.

<LI>

В случае, когда вам требуется распространять ПО MySQL без
предоставления исходного кода, как того требует лицензия <code>GPL</code>.

<LI>

Если вы хотите сделать вклад в дальнейшее развитие технологии баз
данных MySQL - в таких случаях коммерческая лицензия формально может и
не требоваться. Еще одним хорошим способом оказать содействие развитию
ПО MySQL является приобретение контракта по поддержке непосредственно
у компании MySQL AB - это сразу же принесет пользу и вам (see section <A HREF="manual.ru_Introduction.html#Support">1.6.1  Поддержка, предлагаемая компанией MySQL AB</A>).
</ul>

<P>
Для каждой инсталляции ПО MySQL вам понадобится отдельная лицензия. Ее
действие распространяется на любое число процессоров в машине и при этом
не накладывается никаких юридических ограничений на число клиентских
машин, подключенных к серверу.

</P>

<P>
По поводу коммерческих лицензий, см.
<a HREF="http://www.mysql.com/products/licensing.html">http://www.mysql.com/products/licensing.html</a>. Для контрактов на
поддержку, см. <a HREF="http://www.mysql.com/support/">http://www.mysql.com/support/</a>. Тех, для кого требуются
особые условия лицензирования, а также тех, у кого имеется ограниченный доступ
в Internet, просим связаться с нашим отделом сбыта по адресу
<a HREF="mailto:sales@mysql.com">sales@mysql.com</a>.

</P>


<H4><A NAME="Using_the_MySQL_software_for_free_under_GPL" HREF="manual.ru_toc.html#Using_the_MySQL_software_for_free_under_GPL">1.6.3.2  Бесплатное использование ПО MySQL по лицензии GPL</A></H4>

<P>
<A NAME="IDX78"></A>
<A NAME="IDX79"></A>

</P>

<P>
По лицензии <code>GPL</code> допускается бесплатное использование ПО MySQL если вы
согласны с условиями <code>GPL</code>. Подробнее по поводу лицензии <code>GPL</code> и 
освещение наиболее популярных вопросов вы найдете по адресу 
<a HREF="http://www.gnu.org/licenses/gpl-faq.html">http://www.gnu.org/licenses/gpl-faq.html</a>.

</P>
<P>
Некоторые общие примеры GPL-использования MySQL: 
 

<ul>
<LI>

Если вы распространяете код вашего приложения и код MySQL под 
лицензией GPL и в исходных текстах.

<LI>

При распространении исходного кода MySQL в комплекте с другими
программами, не связанными с <code>MySQL</code> или не зависящими от него по
своему функциональному назначению, даже в том случае, если они
распространяются на коммерческой основе.
Это называется <em>mere aggregation</em> в лицензии <code>GPL</code>.

<LI>

Если вы не распространяете <strong>никаких</strong> частей кода MySQL - вы можете
использовать MySQL бесплатно.

<LI>

<A NAME="IDX80"></A>
<A NAME="IDX81"></A>
<A NAME="IDX82"></A>
<A NAME="IDX83"></A>
<A NAME="IDX84"></A>

При использовании ПО MySQL сервис-провайдерами Internet (ISP),
предлагающими своим клиентам веб-хостинг с серверами баз данных MySQL.
С другой стороны, мы настоятельно рекомендуем пользователям обращаться
только к тем сервис-провайдерам, которые имеют контракт на поддержку
компании MySQL: только при наличии такого контракта можно иметь
уверенность в том, что при возникновении проблем с инсталляцией MySQL
сервис-провайдер будет способен оказать своим клиентам действенную
помощь. 

Заметим, что даже те сервис-провайдеры, которые
не имеют коммерческой лицензии на MySQL, должны, по крайней
мере, предоставить своим клиентам доступ к чтению исходного кода
инсталляции MySQL, чтобы они могли самостоятельно проверить
корректность всех сделанных ими дополнений или изменений.

<LI>

<A NAME="IDX85"></A>
<A NAME="IDX86"></A>
При использовании ПО баз данных MySQL совместно с веб-сервером
коммерческой лицензии не требуется (если, конечно, это не есть 
продукт, который вы распространяете). Это разрешение остается в силе
даже в том случае, если веб-сервер, использующий MySQL, -
коммерческий, так как при этом продажи версии MySQL, заложенной в
него, как таковой не происходит. Однако в таком случае желательно,
чтобы владелец веб-сервера приобрел контракт на поддержку MySQL,
поскольку ПО MySQL способствует успеху его предприятия.
</ul>

<P>
В общем случае мы рекомендуем приобретать контракт на поддержку компании
MySQL AB и тем, кому для использования ПО баз данных MySQL не требуется
коммерческой лицензии: этим вы будете способствовать развитию технологии
MySQL и заодно немедленно получите для себя дополнительные преимущества
(see section <A HREF="manual.ru_Introduction.html#Support">1.6.1  Поддержка, предлагаемая компанией MySQL AB</A>).

</P>
<P>
В случае использования ПО баз данных MySQL в коммерческих целях,
предполагающего получение прибыли, мы предлагаем приобретение поддержки
того или иного уровня, что будет способствовать дальнейшему развитию ПО
MySQL. Мы считаем, что, если база данных MySQL способствует вашему
бизнесу, то резонно предложить и вам оказать содействие компании MySQL AB
(иначе получается так, что, обращаясь в нашу службу поддержки с вопросом,
вы не только бесплатно пользуетесь тем, во что мы вложили большое
количество усилий, но к тому же и требуете от нас еще и бесплатной
поддержки)

</P>


<H3><A NAME="MySQL_AB_Logos_and_Trademarks" HREF="manual.ru_toc.html#MySQL_AB_Logos_and_Trademarks">1.6.4  Логотипы и торговые марки MySQL AB</A></H3>

<P>
<A NAME="IDX87"></A>
<A NAME="IDX88"></A>

</P>
<P>
Многие пользователи СУБД MySQL выражают желание расположить логотип MySQL
AB с изображением дельфина на своих веб-сайтах, книгах или коробках со
своими программными продуктами. Мы приветствуем это желание, хотя и
обязаны напомнить, что MySQL и логотип MySQL с изображением дельфина
являются торговыми марками компании MySQL AB и могут применяться только в
соответствии с нашими правилами использования торговых знаков, с которыми
вы можете ознакомиться  по адресу
<a HREF="http://www.mysql.com/company/trademark.html">http://www.mysql.com/company/trademark.html</a>.

</P>



<H4><A NAME="The_Original_MySQL_logo" HREF="manual.ru_toc.html#The_Original_MySQL_logo">1.6.4.1  Оригинальный логотип MySQL</A></H4>

<P>
Логотип MySQL с изображением дельфина был создан финским рекламным
агентством Priority в 2001 году. Мы решили сделать эмблемой СУБД MySQL
дельфина - умное, проворное и изящное животное, с удивительной легкостью
плавающее в океане, так же как и наша СУБД - в океане данных. К тому же
дельфины нам просто нравятся.

</P>
<P>
Оригинальный логотип MySQL может использоваться только представителями
MySQL AB, а также лицами, получившими на то письменное разрешение.

</P>


<H4><A NAME="MySQL_Logos_that_may_be_Used_Without_Written_Permission" HREF="manual.ru_toc.html#MySQL_Logos_that_may_be_Used_Without_Written_Permission">1.6.4.2  Логотипы MySQL, которые могут использоваться без письменного разрешения</A></H4>

<P>
Мы разработали несколько специальных логотипов для договорного
использования, которые можно загрузить с нашего сайта, расположенного по
адресу <a HREF="http://www.mysql.com/press/logos.html">http://www.mysql.com/press/logos.html</a> и применять на сайтах
третьих сторон без письменного разрешения MySQL AB. Возможности
использования этих логотипов, как и следует из их названия, определенным
образом ограничены: они регламентируются правилами применения наших
торговых знаков (которые также приведены у нас на сайте). Если вы
планируете использовать данные логотипы, необходимо ознакомиться с
указанными правилами. Они в основном сводятся к следующим:

</P>

<ul>
<LI>

Нужный вам логотип вы можете использовать в том виде, в котором он
приведен на сайте <a HREF="http://www.mysql.com/">http://www.mysql.com/</a>. Вы имеете право задать
необходимые размеры логотипа, но не можете менять его цвета или
вносить в изображение какие-либо другие изменения.

<LI>

Должно быть явно указано, что именно вы, а не MySQL AB, являетесь
создателем и владельцем сайта, на котором присутствует торговый знак
MySQL.

<LI>

Не разрешается использовать торговый знак в целях, которые могли бы
принести вред MySQL AB или понизить ценность торговых знаков MySQL AB.
Мы оставляем за собой право запретить использование торгового знака
MySQL AB.

<LI>

Помещая торговый знак на своем сайте, сделайте его гиперссылкой на
сайт <a HREF="http://www.mysql.com/">http://www.mysql.com/</a>.

<LI>

Если вы используете СУБД MySQL в своем приложении на условиях лицензии
GPL, оно должно быть создано в соответствии с идеологией Open Source и
снабжено способностью подсоединяться к серверу MySQL.
</ul>

<P>
Связаться с нами с целью заключения соответствующих вашим потребностям
соглашений можно по адресу <a HREF="mailto:trademark@mysql.com">trademark@mysql.com</a>.

</P>


<H4><A NAME="When_need_MySQL_logo_permission" HREF="manual.ru_toc.html#When_need_MySQL_logo_permission">1.6.4.3  В каком случае для использования логотипов необходимо письменное разрешение?</A></H4>

<P>
Письменное разрешение MySQL AB для использования логотипов MySQL
необходимо в следующих случаях:

</P>

<ul>
<LI>

При использовании логотипа MySQL AB где бы то ни было, кроме вашего
веб-сайта.

<LI>

При использовании любого логотипа MySQL AB, кроме вышеупомянутых
специальных логотипов для договорного использования, на веб-сайтах или
в любых других местах.
</ul>

<P>
Исходя из юридических и коммерческих соображений, мы следим за
использованием торговых знаков MySQL на различных продуктах, книгах и т.п.
Обычно мы взимаем плату за помещение логотипов MySQL AB на коммерческих
продуктах, так как считаем, что вполне справедливо, если часть полученных
производителем прибылей идет таким образом на финансирование дальнейшего
усовершенствования СУБД MySQL.

</P>


<H4><A NAME="MySQL_AB_Partnership_Logos" HREF="manual.ru_toc.html#MySQL_AB_Partnership_Logos">1.6.4.4  Партнерские логотипы MySQL AB</A></H4>

<P>
Партнерские логотипы MySQL могут использоваться только теми компаниями и
частными лицами, которые подписали письменное соглашение о партнерстве с
MySQL AB. В условия подписания такового соглашения входит сертификация в
качестве преподавателя или консультанта MySQL. See section <A HREF="manual.ru_Introduction.html#Business_Services_Partnering">1.5.1.5  О нашей программе партнерства</A>.

</P>


<H4><A NAME="Using_MySQL_word_in_presentations" HREF="manual.ru_toc.html#Using_MySQL_word_in_presentations">1.6.4.5  Использование слова <code>MySQL</code> в текстовых документах и презентациях</A></H4>

<P>
MySQL AB приветствует упоминания о СУБД MySQL, но не следует забывать о
том, что слово <code>MySQL</code> - торговая марка MySQL AB. Поэтому первое
встречающееся в тексте слово <code>MySQL</code> следует снабдить символом,
обозначающим торговую марку (<code>TM</code>), а также (по возможности) упомянуть о
том, что MySQL является зарегистрированной торговой маркой компании MySQL
AB. Дополнительную информацию вы сможете получить, ознакомившись с нашими
правилами использования торговых знаков, расположенными по адресу
<a HREF="http://www.mysql.com/company/trademark.html">http://www.mysql.com/company/trademark.html</a>.

</P>


<H4><A NAME="Using_MySQL_word_in_company_and_product_names" HREF="manual.ru_toc.html#Using_MySQL_word_in_company_and_product_names">1.6.4.6  Использование слова <code>MySQL</code> в названиях компаний и продуктов</A></H4>

<P>
Использовать слово MySQL в названиях компаний, продуктов или в именах
доменов без письменного разрешения MySQL AB запрещено.

</P>



<H2><A NAME="MySQL_4.0_In_A_Nutshell" HREF="manual.ru_toc.html#MySQL_4.0_In_A_Nutshell">1.7  Кратко о MySQL 4.x</A></H2>

<P>
Наконец-то появилась давно обещанная компанией MySQL AB бета-версия MySQL
Server 4.0, которую так долго ждали пользователи. Ее можно загрузить с
веб-сайта <a HREF="http://www.mysql.com/">http://www.mysql.com/</a> или с наших зеркал.

</P>
<P>
Большинство новых функций MySQL 4.0 ориентированы на уже
существующих пользователей MySQL уже существующих пользователей в
общественной и деловой сфере. Эти функции позволяют усовершенствовать
программное обеспечение базы данных MySQL, предоставляя решения для
критически важных систем управления базами данных, работающих с большими
объемами информации. Остальные новые функции предназначены для
пользователей встроенных баз данных.

</P>



<H3><A NAME="Nutshell_Stepwise_Rollout" HREF="manual.ru_toc.html#Nutshell_Stepwise_Rollout">1.7.1  Поэтапный выпуск</A></H3>

<P>
Начиная с 4.0.6, MySQL имеет статус gamma, что означает что версии 4.0.x в
течении более чем 2 месяцев (сначала в alpha-, затем и в beta-статусе)
используются без каких-либо известных серьезных и сложных для исправления
ошибок и готовы для промышленного использования. 

</P>
<P>
Мы снимем префикс gamma, когда MySQL 4.0 будет в эксплуатации более чем один
месяц без обнаруженных серьезных ошибок. 

</P>
<P>
Все новые функции будут добавляться в версию MySQL 4.1, доступную сейчас
из нашего репозитория bk, выпуск alpha-версии которой запланирован на 
первый квартал 2003. See section <A HREF="manual.ru_Installing.html#Installing_source_tree">2.3.4  Установка из экспериментального набора исходных кодов</A>.

</P>



<H3><A NAME="Nutshell_Ready_for_Immediate_Use" HREF="manual.ru_toc.html#Nutshell_Ready_for_Immediate_Use">1.7.2  Можно использовать уже прямо сейчас</A></H3>

<P>
Все бинарные поставки проходят наши сложные тесты без каких-либо ошибок на всех
платформах, на которых мы тестируем MySQL. MySQL 4.0 протестирован в реальных
условиях огромным количеством пользователей и находится в промышленной
эксплуатациями на нескольких крупных сайтах. 

</P>



<H3><A NAME="Nutshell_Embedded_MySQL" HREF="manual.ru_toc.html#Nutshell_Embedded_MySQL">1.7.3  Встроенный MySQL</A></H3>

<P>
Библиотека <code>libmysqld</code> обеспечивает для <code>MySQL</code> возможность не
отставать от прогресса в стремительно развивающемся мире приложений.
Вариант MySQL в виде встроенной библиотеки позволяет встраивать
MySQL в различные приложения и электронные устройства так, что
конечный пользователь даже не будет знать о ``заложенной в их фундаменте''
базе данных. Встроенный MySQL идеально подходит для использования в
интернет-приложениях, публичных киосках, в устройствах с сочетанием
аппаратного и программного обеспечения, высокопроизводительных
интернет-серверах, автономных базах данных, распространяемых на
компакт-дисках, и так далее.

</P>
<P>
Большинство пользователей <code>libmysqld</code> оценят преимущество <em>Двойной лицензии</em>
MySQL. Для тех, кто не хочет связывать себя условиями <code>GPL</code> лицензии, программное обеспечение доступно также на условиях коммерческой
лицензии. Для встроенной библиотеки MySQL используется такой же интерфейс,
как и для обычной клиентской библиотеки, поэтому ею удобно и легко
пользоваться. See section <A HREF="manual.ru_Clients.html#libmysqld">8.4.9  libmysqld, встраиваемая библиотека сервера MySQL</A>.

</P>


<H3><A NAME="Nutshell_Other_features" HREF="manual.ru_toc.html#Nutshell_Other_features">1.7.4  Другие функции, доступные в MySQL 4.0</A></H3>


<ul>
<LI>

В версии 4.0 еще больше возросла скорость работы MySQL в нескольких
областях, таких как множественные вставки (<code>bulk INSERT</code>) для большого
количества данных, поиск в сжатых индексах, создание полнотекстовых
индексов (<code>FULLTEXT</code>), а также <code>COUNT(DISTINCT)</code>.

<LI>

Обработчик таблиц InnoDB теперь входит в стандартный набор сервера
MySQL, включая полную поддержку транзакций и блокировок уровня строки.

<LI>

Немецкие, австрийские и швейцарские пользователи нашей программы
обратят внимание, что мы добавили новый набор символов, latin1_de,
который позволяет исправить порядок сортировки немецких символов,
размещая немецкие умляуты в соответствии с телефонными книгами,
используемыми в Германии.

<LI>

Функции для упрощения преобразования из других систем баз данных в
MySQL, включают <code>TRUNCATE TABLE</code> (как в Oracle) и <code>IDENTITY</code>, как
синоним автоматически инкрементируемых ключей (как в Sybase). Многим
пользователям также будет приятно узнать, что MySQL теперь
поддерживает оператор <code>UNION</code>, долгожданную стандартную функцию SQL.

<LI>

Создавая новые функции для новых пользователей, мы не забыли о запросах наших
постоянных пользователей. У нас есть многотабличные операторы <code>DELETE</code> и
<code>UPDATE</code> Добавив поддержку символических ссылок к <code>MyISAM</code> на уровне
таблицы (а не только на уровне базы данных, как это было раньше), а также
включив обработку таких ссылок как функцию, используемую в Windows по
умолчанию, мы надеемся продемонстрировать, что серьезно относимся к
предложениям по усовершенствованиям. Такие функции как
<code>SQL_CALC_FOUND_ROWS</code> и <code>FOUND_ROWS()</code> позволяют узнать, сколько
строк возвратит запрос без оператора <code>LIMIT</code>.  

</ul>



<H3><A NAME="Nutshell_Future_features" HREF="manual.ru_toc.html#Nutshell_Future_features">1.7.5  Функции MySQL 4.x, которые будут добавлены в будущем</A></H3>

<P>
В последующих версиях <code>MySQL</code> 4.x будут добавлены следующие функции,
которые на данный момент находятся в стадии разработки:

</P>

<ul>
<LI>

Пользователи MySQL, работающие с критически важными системами и
большими объемами данных, оценят дополнения к нашей системе репликации
и удаленного резервного копирования. В более поздние версии 4.x будет
включена отказобезопасная репликация; а к функциям уже существующей в
версии 4.0 команды <code>LOAD DATA FROM MASTER</code> в скором времени будет
добавлена автоматизация настройки подчиненных серверов. Удаленное
резервное копирование обеспечит возможность легко добавлять новые
подчиненные серверы, не отключая головной сервер, - это позволит
практически избежать потерь в производительности при обновлении
объемных систем.

<LI>

Для администраторов баз данных удобным окажется еще одно новшество: в
скором времени параметры <code>mysqld</code> (настройки запуска) можно будет
изменять без выключения серверов.

<LI>

Новые свойства поиска <code>FULLTEXT</code> в MySQL 4.0 позволяют
использовать <code>FULLTEXT</code>-индексацию больших объемов текста при помощи как
бинарной логики поиска, так и логики поиска естественного языка.
Пользователи могут производить настройку минимальной длины слова и
задавать свои списки недопустимых слов на любом естественном языке,
благодаря чему появляется возможность создания новой группы программ
на основе MySQL.

<LI>

Производительность многих ``тяжеловесных'' приложений повысится
благодаря еще более возросшей скорости заново переписанного ключевого
кэша.

<LI>

Большинству разработчиков также понравится встроенная в MySQL справка,
которая вызывается из командной строки на клиенте.
</ul>



<H3><A NAME="Nutshell_4.1_development_release" HREF="manual.ru_toc.html#Nutshell_4.1_development_release">1.7.6  MySQL 4.1, следующая ветка в разработке</A></H3>

<P>
MySQL 4.0 готовит базу для реализации новых возможностей в сервере MySQL
4.1 и более новых версиях. Имеются в виду такие возможности, как вложенные
подзапросы (<code>nested subqueries</code>) (4.1), хранимые процедуры (5.0) и правила
целостности ссылок (<code>foreign key integrity rules</code>) для MyISAM-таблиц (5.0). 

</P>
<P>
Эти возможности возглавляют список наиболее востребованных нашими потребителями
функций.

</P>
<P>
После реализации этих изменений критикам СУБД MySQL придется проявить
больше изобретательности и придумать более убедительные аргументы, чем
просто указание на недостающие функциональные возможности. Будучи давно
известной как быстродействующая, надежная и легкая в использовании, СУБД
MySQL теперь станет соответствовать ожиданиям самых требовательных
потребителей.

</P>


<H2><A NAME="MySQL_Information_Sources" HREF="manual.ru_toc.html#MySQL_Information_Sources">1.8  Источники информации по MySQL</A></H2>



<H3><A NAME="Questions" HREF="manual.ru_toc.html#Questions">1.8.1  Списки рассылки MySQL</A></H3>

<P>
<A NAME="IDX89"></A>
<A NAME="IDX90"></A>
<A NAME="IDX91"></A>

</P>

<P>
В этом разделе представлены списки рассылки MySQL, а также даются
некоторые указания по их использованию. Подписавшись на список рассылки,
вы будете получать по электронной почте информацию из данного списка и
сможете отправлять туда свои собственные вопросы и ответы.

</P>


<H4><A NAME="Mailing-list" HREF="manual.ru_toc.html#Mailing-list">1.8.1.1  Списки рассылки MySQL</A></H4>

<P>
<A NAME="IDX92"></A>

</P>
<P>
Чтобы подписаться на главный список рассылки MySQL, следует отправить
сообщение на адрес электронной почты <a HREF="mailto:mysql-subscribe@lists.mysql.com">mysql-subscribe@lists.mysql.com</a>.

</P>
<P>
Чтобы отказаться от подписки на главный список рассылки MySQL, следует
отправить сообщение на адрес электронной почты
<a HREF="mailto:mysql-unsubscribe@lists.mysql.com">mysql-unsubscribe@lists.mysql.com</a>.

</P>
<P>
В посылаемом сообщении роль играет только адрес, на который это сообщение
отправляется. Тема и текст сообщения игнорируются.

</P>
<P>
Если адрес, с которого было отправлено ваше сообщение, не действителен,
можно точно указать адрес для подписки или адрес, подписку для которого
следует аннулировать. Для этого в указанных выше адресах электронной почты
следует добавить дефис в конце командного слова, обозначающего подписку
(<code>subscribe</code>) или отказ от нее (<code>unsubscribe</code>), а за ним - нужный адрес
электронной почты, заменив в нем символ <samp>`@'</samp> на символ <samp>`='</samp>. Например, чтобы
подписать адрес <a HREF="mailto:your_name@host.domain">your_name@host.domain</a>, необходимо отправить сообщение на
<a HREF="mailto:mysql-subscribe-your_name=host.domain@lists.mysql.com">mysql-subscribe-your_name=host.domain@lists.mysql.com</a>.

</P>
<P>
Сообщения, посланные по адресам <a HREF="mailto:mysql-subscribe@lists.mysql.com">mysql-subscribe@lists.mysql.com</a> или
<a HREF="mailto:mysql-unsubscribe@lists.mysql.com">mysql-unsubscribe@lists.mysql.com</a>, обрабатываются автоматически программой
обслуживания списка рассылки <code>ezmlm</code>. Информация по программе ezmlm доступна
на веб-узле <code>ezmlm</code> (<a HREF="http://www.ezmlm.org/">http://www.ezmlm.org/</a>).

</P>
<P>
Чтобы отправить сообщение в список рассылки, следует послать сообщение по
адресу <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>. Пожалуйста, не отправляйте сообщения о
подписке или отказе от подписки на адрес <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>, поскольку
все сообщения, направленные на этот адрес, автоматически распространяются
среди тысяч других подписчиков.

</P>
<P>
Если на вашем локальном веб-узле уже есть подписчики на
<a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>, то на нем может существовать локальный список
рассылки, поэтому сообщения, отправленные из <code>lists.mysql.com</code> на ваш
веб-узел, будут также дублироваться в местный список. В таких случаях
необходимо связаться со своим системным администратором, чтобы он добавил
вас в местный список рассылки MySQL или исключил из него.

</P>
<P>
Если необходимо, чтобы сообщения, поступающие со списка рассылки,
направлялись в отдельный почтовый ящик вашего почтового клиента,
установите фильтр по заголовкам сообщений. Чтобы выделить сообщения из
списка рассылки, можно использовать заголовки <code>List-ID:</code> или <code>Delivered-To:</code>.

</P>
<P>
Существуют следующие списки рассылки MySQL:

</P>
<DL COMPACT>

<DT><code><a HREF="mailto:announce-subscribe@lists.mysql.com">announce-subscribe@lists.mysql.com</a> announce</code>
<DD>
Список для объявлений о выходах новых версий MySQL и относящихся к нему
программ. Количество сообщений здесь небольшое, и на этот список
желательно подписаться всем пользователям MySQL.

<DT><code><a HREF="mailto:mysql-subscribe@lists.mysql.com">mysql-subscribe@lists.mysql.com</a> mysql</code>
<DD>
Главный список для обсуждения общих вопросов по MySQL. Обратите внимание:
некоторые темы лучше обсуждать в более специализированных списках. Если
отправить сообщение не в тот список, то можно не получить ответа!

<DT><code><a HREF="mailto:mysql-digest-subscribe@lists.mysql.com">mysql-digest-subscribe@lists.mysql.com</a> mysql-digest</code>
<DD>
Список <code>mysql</code> в виде сборника. Это означает, что вы получите все сообщения,
отправленные за день, в виде одного большого почтового сообщения, которое
отправляется раз в день.

<DT><code><a HREF="mailto:bugs-subscribe@lists.mysql.com">bugs-subscribe@lists.mysql.com</a> bugs</code>
<DD>
В этот список можно отправлять только подробные отчеты о повторяющихся
ошибках, используя макропрограмму <code>mysqlbug</code> (если вы работаете в Windows,
необходимо включить описание операционной системы и указать версию MySQL).
Прежде чем отправлять отчет об ошибке, желательно проверить, при
использовании какой версии MySQL данная ошибка возникает -
последней окончательной или находящейся на стадии разработки! Чтобы любой
желающий мог воспроизвести эту ошибку, желательно также включить в отчет
контрольный тестовый пример, который можно было бы запустить при помощи
<code>mysql test &#60; script</code>. Все ошибки, сообщения о которых будут направлены в
список рассылки, будут либо исправлены, либо включены в список ошибок в
следующей версии MySQL! Если необходимо только небольшое изменение кода,
мы также отправим исправляющую эту ошибку заплатку для программы.

<DT><code><a HREF="mailto:bugs-digest-subscribe@lists.mysql.com">bugs-digest-subscribe@lists.mysql.com</a> bugs-digest</code>
<DD>
Список <code>bugs</code> в виде сборника.

<DT><code><a HREF="mailto:internals-subscribe@lists.mysql.com">internals-subscribe@lists.mysql.com</a> internals</code>
<DD>
Список для тех, кто работает над кодом MySQL. В этом списке также можно
обсуждать разработку MySQL и отправлять в него вставки в программу.

<DT><code><a HREF="mailto:internals-digest-subscribe@lists.mysql.com">internals-digest-subscribe@lists.mysql.com</a> internals-digest</code>
<DD>
Версия в виде сборника для списка <code>internals</code>.

<DT><code><a HREF="mailto:java-subscribe@lists.mysql.com">java-subscribe@lists.mysql.com</a> java</code>
<DD>
Обсуждение вопросов, связанных с MySQL и Java. В основном
обсуждение по драйверам JDBC включая MySQL Connector/J.

<DT><code><a HREF="mailto:java-digest-subscribe@lists.mysql.com">java-digest-subscribe@lists.mysql.com</a> java-digest</code>
<DD>
Версия в виде сборника для списка <code>java</code>.

<DT><code><a HREF="mailto:win32-subscribe@lists.mysql.com">win32-subscribe@lists.mysql.com</a> win32</code>
<DD>
Все вопросы, касающиеся программного обеспечения MySQL в операционных
системах Microsoft, таких как Windows 9x/Me/NT/2000/XP.

<DT><code><a HREF="mailto:win32-digest-subscribe@lists.mysql.com">win32-digest-subscribe@lists.mysql.com</a> win32-digest</code>
<DD>
Версия в виде сборника для списка <code>win32</code>.

<DT><code><a HREF="mailto:myodbc-subscribe@lists.mysql.com">myodbc-subscribe@lists.mysql.com</a> myodbc</code>
<DD>
Все вопросы, касающиеся соединения MySQL через ODBC.

<DT><code><a HREF="mailto:myodbc-digest-subscribe@lists.mysql.com">myodbc-digest-subscribe@lists.mysql.com</a> myodbc-digest</code>
<DD>
Версия в виде сборника для списка <code>myodbc</code>.

<DT><code><a HREF="mailto:mysqlcc-subscribe@lists.mysql.com">mysqlcc-subscribe@lists.mysql.com</a> mysqlcc</code>
<DD>
Все вопросы, касающиеся графического клиента MySQL Control Center (MyCC).

<DT><code><a HREF="mailto:mysqlcc-digest-subscribe@lists.mysql.com">mysqlcc-digest-subscribe@lists.mysql.com</a> mysqlcc-digest</code>
<DD>
Версия в виде сборника для списка <code>mysqlcc</code>.

<DT><code><a HREF="mailto:plusplus-subscribe@lists.mysql.com">plusplus-subscribe@lists.mysql.com</a> plusplus</code>
<DD>
Все вопросы, касающиеся программирования на C++ API для MySQL.

<DT><code><a HREF="mailto:plusplus-digest-subscribe@lists.mysql.com">plusplus-digest-subscribe@lists.mysql.com</a> plusplus-digest</code>
<DD>
Версия в виде сборника для списка <code>plusplus</code>.

<DT><code><a HREF="mailto:msql-mysql-modules-subscribe@lists.mysql.com">msql-mysql-modules-subscribe@lists.mysql.com</a> msql-mysql-modules</code>
<DD>
Список по поддержке Perl для MySQL при помощи msql-mysql-modules.

<DT><code><a HREF="mailto:msql-mysql-modules-digest-subscribe@lists.mysql.com">msql-mysql-modules-digest-subscribe@lists.mysql.com</a> msql-mysql-modules-digest</code>
<DD>
Версия в виде сборника для списка <code>msql-mysql-modules</code>.
</DL>

<P>
Подписаться или отказаться от подписки на все списки рассылки можно
способом, указанным выше. В своем сообщении о подписке или отказе от
подписки вместо <code>mysql</code> просто укажите соответствующее название списка
рассылки. Например, чтобы подписаться на список рассылки <code>myodbc</code> или
отказаться от подписки на него, следует отправить сообщение по адресу
<a HREF="mailto:myodbc-subscribe@lists.mysql.com">myodbc-subscribe@lists.mysql.com</a> или <a HREF="mailto:myodbc-unsubscribe@lists.mysql.com">myodbc-unsubscribe@lists.mysql.com</a>.

</P>
<P>
Если получить ответы на свои вопросы в списке рассылки не удалось, можно
оплатить поддержку от MySQL AB - это позволит вам напрямую общаться с
разработчиками MySQL. See section <A HREF="manual.ru_Introduction.html#Support">1.6.1  Поддержка, предлагаемая компанией MySQL AB</A>.

</P>
<P>
В приведенной ниже таблице указаны некоторые списки рассылки MySQL на
языках, отличных от английского. Обратите внимание на то, что компания
MySQL AB эти списки не контролирует, поэтому мы не можем гарантировать их
качество.

</P>
<DL COMPACT>

<DT><code><a HREF="mailto:mysql-france-subscribe@yahoogroups.com">mysql-france-subscribe@yahoogroups.com</a> Французский список рассылки</code>
<DD>
<DT><code><a HREF="mailto:list@tinc.net">list@tinc.net</a> Корейский список рассылки</code>
<DD>
Чтобы подписаться на этот список рассылки, отправьте сообщение <code>subscribe
mysql your@e-mail.address</code>.

<DT><code><a HREF="mailto:mysql-de-request@lists.4t2.com">mysql-de-request@lists.4t2.com</a> Немецкий список рассылки</code>
<DD>
Чтобы подписаться на этот список рассылки, отправьте сообщение <code>subscribe
mysql-de your@e-mail.address</code>. Информацию по этому списку рассылки можно
найти на <a HREF="http://www.4t2.com/mysql/">http://www.4t2.com/mysql/</a>.

<DT><code><a HREF="mailto:mysql-br-request@listas.linkway.com.br">mysql-br-request@listas.linkway.com.br</a> Португальский список рассылки</code>
<DD>
Чтобы подписаться на этот список рассылки, отправьте сообщение <code>subscribe
mysql-br your@e-mail.address</code>.

<DT><code><a HREF="mailto:mysql-alta@elistas.net">mysql-alta@elistas.net</a> Испанский список рассылки</code>
<DD>
Чтобы подписаться на этот список рассылки, отправьте сообщение <code>subscribe
mysql your@e-mail.address</code>.
</DL>



<H4><A NAME="Asking_questions" HREF="manual.ru_toc.html#Asking_questions">1.8.1.2  Как задавать вопросы и направлять сообщения об ошибках</A></H4>

<P>
<A NAME="IDX93"></A>
<A NAME="IDX94"></A>
<A NAME="IDX95"></A>

</P>
<P>
Прежде чем отправлять отчет об ошибке, необходимо выполнить следующие
действия:

</P>

<ul>
<LI>

Сначала проведите поиск в интерактивном руководстве по MySQL на:
<a HREF="http://www.mysql.com/doc">http://www.mysql.com/doc</a>/

Мы стараемся постоянно обновлять данное руководство, добавляя информацию об
исправлениях последних обнаруженных ошибок!  Приложение, описывающее историю
изменений  (<a HREF="http://www.mysql.com/doc/en/News.html">http://www.mysql.com/doc/en/News.html</a>) также может быть
полезным, т.к. вполне возможно, что именно в новой версии уже есть решение
вашей проблемы. 

<LI>

Посмотрите в базе данных ошибок по адресу <a HREF="http://bugs.mysql.com">http://bugs.mysql.com</a>. Может,
известная ошибка уже сообщена и исправлена. 

<LI>

Просмотрите архивы списка рассылки MySQL:
<a HREF="http://lists.mysql.com">http://lists.mysql.com</a>/

<LI>

Можно также воспользоваться ссылкой <a HREF="http://www.mysql.com/search/">http://www.mysql.com/search/</a>,
чтобы произвести поиск по всем веб-страницам (включая руководство),
расположенным на веб-узле <a HREF="http://www.mysql.com/">http://www.mysql.com/</a>.
</ul>

<P>
Если в руководстве или архивах не удалось найти ответ, обратитесь к
локальному эксперту по MySQL. Если же и таким образом не удалось получить
ответы на вопросы, переходите к следующему разделу, в котором описано, как
отправлять почту на <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.

</P>


<H4><A NAME="Bug_reports" HREF="manual.ru_toc.html#Bug_reports">1.8.1.3  Как отправлять отчеты об ошибках или проблемах</A></H4>

<P>
<A NAME="IDX96"></A>
<A NAME="IDX97"></A>
<A NAME="IDX98"></A>
<A NAME="IDX99"></A>
<A NAME="IDX100"></A>
<A NAME="IDX101"></A>

</P>
<P>
Чтобы написать хороший отчет об ошибке, потребуется немало терпения.
Однако лучше сделать все правильно с первой попытки - это сбережет и ваше,
и наше время. Грамотно составленный отчет об ошибке, содержащий ее
подробное описание, позволит нам исправить эту ошибку уже в следующей
версии программы. Включенные в данный раздел рекомендации помогут вам
правильно написать свой отчет, не тратя времени на описание того, что мало
чем сможет нам помочь или не потребуется вовсе.

</P>
<P>
Мы рекомендуем для создания отчетов об ошибках (или отчетов о любых
проблемах), всегда, если это возможно, использовать сценарий <code>mysqlbug</code>.
<code>mysqlbug</code> можно найти в каталоге <tt>`scripts'</tt> раздела распространения исходных
текстов, или в разделе распространения исполняемых программ, в каталоге
<tt>`bin'</tt> инсталляционного каталога MySQL. Если же не удается воспользоваться
<code>mysqlbug</code>, то все равно необходимо указать в своем отчете все данные,
перечисленные ниже в этом разделе.

</P>
<P>
Сценарий <code>mysqlbug</code> помогает сгенерировать отчет путем автоматического
определения большей части приведенной ниже информации, но если окажется,
что в сгенерированном отчете отсутствует что-либо важное, обязательно
включите это в свое сообщение! Внимательно прочитайте данный раздел и
убедитесь, что в отчет вошли все описанные здесь сведения.

</P>
<P>
<A NAME="IDX102"></A>
Обычно отчеты об ошибках и проблемах направляются в <a HREF="mailto:mysql@lists.mysql.com">mysql@lists.mysql.com</a>.
Если же вы можете создать подробное описание, четко определяющее ошибку,
его можно направить в список рассылки <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a>. Обратите
внимание: в этот список рассылки можно посылать только полный отчет о
повторяющейся ошибке, составленный при помощи сценария <code>mysqlbug</code>. Если вы
работаете в Windows, необходимо включить описание операционной системы и
версии MySQL. Прежде чем направлять отчет, желательно проверить,
проявляется ли данная проблема при использовании последней окончательной
или находящейся в стадии разработки версии MySQL! Чтобы любой
желающий мог воспроизвести эту ошибку, желательно также включить в отчет
контрольный тестовый пример, который можно было бы запустить при помощи
``<code>mysql test &#60; script</code>'', либо Perl-сценарий или сценарий оболочки, которые
можно запустить непосредственно. Все ошибки, сообщения о которых будут
направлены в список рассылки, будут либо исправлены, либо включены в
список ошибок в следующей версии MySQL! Если необходимо только небольшое
изменение кода, мы также отправим исправляющий эту ошибку патч для
программы.

</P>
<P>
Если вы нашли ошибку в системе безопасности MySQL, необходимо отправить
сообщение по адресу <a HREF="mailto:security@mysql.com">security@mysql.com</a>.

</P>
<P>
Не забывайте о том, что можно ответить на сообщение, в котором содержится
слишком много информации, но нельзя ответить на сообщение, в котором
информации недостаточно. Часто те, кто нам пишет, опускают некоторые
факты: они считают, что им известна причина возникшей проблемы и поэтому,
по их мнению, некоторые детали не имеют значения. Необходимо
придерживаться следующего принципа: если возникают сомнения в отношении
того, следует или нет приводить в отчете те или иные сведения, - включите
их в отчет обязательно! Намного быстрее и проще написать несколько
дополнительных строк в отчете, чем получать уточняющие вопросы и снова
ждать ответа только потому, что в первый раз были указаны не все данные.

</P>
<P>
Чаще всего наши корреспонденты не указывают используемую версию MySQL или
платформу, на которой установлен сервер MySQL (включая версию платформы).
Это довольно существенная информация, и в 99 случаях из 100 отчет об
ошибке без нее будет совершенно бесполезным! Очень часто бывает и так: мы
получаем вопрос типа: ''Почему это у меня не работает?'', а потом
оказывается, что указанная функция в данной версии MySQL отсутствует или
что ошибка, описанная в отчете, уже была исправлена в более новой версии
MySQL. Иногда ошибка зависит от используемой платформы. В таких случаях
практически невозможно ничего исправить, не имея информации об
операционной системе и о версии платформы.

</P>
<P>
Не забывайте указывать информацию о своем компиляторе - в тех случаях,
когда это имеет отношение к возникшей проблеме. Ведь бывает и так:
пользователь полагает, что проблема связана с MySQL, а на самом деле он
нашел ошибку в компиляторе. Большинство компиляторов постоянно находятся в
состоянии разработки и становятся лучше от версии к версии. Чтобы
определить, зависит ли ваша проблема от компилятора, мы должны знать,
какой именно используется компилятор. Обратите внимание на то, что все
проблемы с компиляторами должны рассматриваться как ошибки и по ним должен
составляться соответствующий отчет.

</P>
<P>
Вы окажете нам значительную помощь, включив в отчет об ошибке подробное
описание проблемы. В качестве хорошего примера подобной информации можно
привести описание всех действий, которые привели к возникновению проблемы
и описание самой проблемы. Лучшие отчеты содержат подробные примеры, в
которых показано, как можно воспроизвести ошибку или проблему.
section <A HREF="manual.ru_Porting.html#Reproduceable_test_case">E.1.6  Создание контрольного примера при повреждении таблиц</A>.

</P>
<P>
Если программа выдает сообщение об ошибке, очень важно точно воспроизвести
это сообщение в своем отчете! Возможно, нам придется производить поиск в
архивах - лучше, чтобы указанное в отчете сообщение об ошибке точно
совпадало с тем, которое выдает программа. Не следует пытаться запомнить
сообщение об ошибке, имеет смысл просто скопировать его полностью и
вставить в отчет!

</P>
<P>
Если возникли проблемы с <code>MyODBC</code>, необходимо попытаться создать файл
трассировки <code>MyODBC</code>. See section <A HREF="manual.ru_Clients.html#MyODBC_bug_report">8.3.7  Составление отчетов о проблемах с MyODBC</A>.

</P>
<P>
Не забывайте, что у большинства людей, которые будут читать ваш отчет,
экраны дисплеев имеют ширину в 80 символов. При создании отчетов или
примеров при помощи средств командной строки <code>mysql</code> необходимо использовать
параметр <code>--vertical</code> (или терминатор оператора <code>\G</code>) для выходных данных,
которые будут превышать ширину для таких дисплеев (пример для оператора
<code>EXPLAIN SELECT</code> приведен ниже в данном разделе).

</P>
<P>
<A NAME="IDX103"></A>
В свой отчет вам необходимо включить следующую информацию:

</P>

<ul>
<LI>

Версию используемого дистрибутива MySQL (например MySQL Version
3.22.22). Чтобы узнать, какая версия запущена, следует выполнить
команду <code>mysqladmin version</code>. Программу <code>mysqladmin</code> можно найти в
каталоге <tt>`bin'</tt> инсталляционного каталога MySQL.

<LI>

Производителя и модель компьютера, на котором вы работаете.

<LI>

Название и версию операционной системы. Для большинства операционных
систем эту информацию можно получить, выполнив команду Unix <code>uname -a</code>.

<LI>

Иногда важную роль играет количество памяти (реальной и виртуальной).
Если у вас есть основания считать, что такая информация может
оказаться полезной, включите в отчет эти значения.

<LI>

Если используется дистрибутив в виде исходных текстов программного
обеспечения MySQL, необходимо указать версию используемого
компилятора. Если используется бинарный дистрибутив, необходимо
указать имя дистрибутива.

<LI>

Если проблема возникает во время компиляции, включите в отчет точное
сообщение об ошибке (или ошибках), а также несколько строк до и после
вызывающего ошибку кода в файле, вызвавшем проблему.

<LI>

Если произошло аварийное завершение работы <code>mysqld</code>, необходимо сообщить
о запросе, который привел к такому завершению. Это можно выяснить,
запустив <code>mysqld</code> с включенной функцией ведения журнала.
See section <A HREF="manual.ru_Porting.html#Using_log_files">E.1.5  Использование журналов для определения причин ошибок в mysqld</A>.

<LI>

Если с программой связана какая-либо таблица базы данных, включите в
отчет выходную информацию команды <code>mysqldump --no-data db_name
tbl_name1 tbl_name2 ...</code>. Выполняется это очень легко. Таким способом
можно получить подробную информацию о таблице в базе данных, что
поможет нам создать ситуацию, соответствующую той, в которой оказались
вы.

<LI>

Для ошибок, связанных со скоростью выполнения или проблемами с операторами
<code>SELECT</code>, всегда необходимо включать в отчет выходную информацию команды
<code>EXPLAIN SELECT ...</code> и, по крайней мере, количество строк, которые выдает
оператор <code>SELECT</code>. Вы также должны включить вывода <code>SHOW CREATE TABLE
...</code> для каждой таблицы, задействованной в запросе.  Чем больше информации
будет предоставлено о сложившейся ситуации, тем больше шансов, что будет
оказана надлежащая помощь! Например, ниже приведен образец очень хорошего
отчета об ошибке (он, конечно, должен быть отправлен при помощи сценария
<code>mysqlbug</code>): 

Пример запускается при помощи командной строки <code>mysql</code> (обратите внимание
на применение терминатора операторов <code>\G</code>, который используется для
операторов, если ширина выводимой ими информации превышает ширину строки
80-символьного дисплея):


<pre>
mysql&#62; SHOW VARIABLES;
mysql&#62; SHOW COLUMNS FROM ...\G
       &#60;вывод SHOW COLUMNS&#62;
mysql&#62; EXPLAIN SELECT ...\G
       &#60;вывод EXPLAIN&#62;
mysql&#62; FLUSH STATUS;
mysql&#62; SELECT ...;
       &#60;Корокая версия вывода SELECT, включая время,
        затраченное на обработку запроса&#62;
mysql&#62; SHOW STATUS;
       &#60;вывод SHOW STATUS&#62;
</pre>

<LI>

Если ошибка или проблема возникли во время работы <code>mysqld</code>, постарайтесь
предоставить сценарий, который воспроизведет аномальное поведение
программы. Сценарий должен включать все необходимые файлы данных. Чем
точнее сценарий может воспроизвести сложившуюся ситуацию, тем лучше.

Если вы можете создать воспроизводимый контрольный пример, его
необходимо отправить на <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a> для немедленного
рассмотрения! Если сценарий обеспечить нельзя, необходимо, по крайней
мере, включить в свое сообщение выходную информацию команды <code>mysqladmin
variables extended-status processlist</code>, чтобы предоставить данные о
работе системы!

<LI>

Если не удается создать контрольный пример в несколько строк, или если
таблица тестирования слишком велика для отправления в список рассылки
(более 10 строк), необходимо вывести содержимое таблиц при помощи
команды <code>mysqldump</code> и создать файл <tt>`README'</tt> с описанием вашей проблемы.

Запакуйте файлы при помощи <code>tar</code> и <code>gzip</code> или <code>zip</code>, и по <code>ftp</code> загрузите
архив на <a HREF="ftp://support.mysql.com/pub/mysql/secret/">ftp://support.mysql.com/pub/mysql/secret/</a>. Затем отправьте
краткое описание проблемы на <a HREF="mailto:bugs@lists.mysql.com">bugs@lists.mysql.com</a>.

<LI>

Если MySQL на ваш запрос выдает странный, на ваш взгляд,
результат, приведите в отчете не только сам результат, но также и ваше
мнение о том, каким должен быть результат, и расчеты, подтверждающие
это мнение.

<LI>

Когда вы приводите пример ситуации, при которой возникает проблема,
лучше сохранить действительные имена переменных, таблиц и т.п., вместо
того, чтобы давать им новые имена. Иногда проблема может быть вызвана
именем переменной или таблицы! Это довольно редкие случаи, но лучше,
чтобы не терять времени, такую информацию отправить нам сразу. В конце
концов, вам будет даже легче использовать данные, соответствующие
реальной ситуации, и это во всех отношениях лучше для нас. Те же, кто
не хотел бы показывать свои данные другим пользователям, могут
загрузить файл по <code>ftp</code> на
<a HREF="ftp://support.mysql.com/pub/mysql/secret/">ftp://support.mysql.com/pub/mysql/secret/</a>. Если данные действительно
представляют собой секретную информацию, которую нельзя показывать
даже нам, тогда можно привести пример, используя другие имена, но этот
вариант следует оставить на крайний случай.

<LI>

Включите в отчет все параметры, указанные для важных программ, если
это возможно. Например, приведите параметры, которые вы используете
как для запуска сервера <code>mysqld</code>, так и для запуска клиентских программ
MySQL. Параметры таких программ как <code>mysqld</code> и <code>mysql</code>, а также сценарий
<code>configure</code> часто содержат ответы на многие вопросы и очень важны!
Включить их в отчет не помешает в любом случае! Если используются
какие-либо модули, такие как Perl или PHP, также укажите их версии.

<LI>

Если ваш вопрос относится к системе привилегий, укажите выходные
данные команды <code>mysqlaccess</code>, выходные данные команды <code>mysqladmin reload</code>
и все сообщения об ошибках, которые выдаются при попытке соединения!
Во время проверки своих привилегий сначала необходимо выполнить
команду <code>mysqlaccess</code>. После этого запустите <code>mysqladmin reload version</code> и
попытайтесь соединиться с программой, которая вызывала проблемы.
Программу <code>mysqlaccess</code> можно найти в каталоге <tt>`bin'</tt> установочного
каталога MySQL.

<LI>

Если у вас есть патч, который исправляет ошибку, - это хорошо. Но не
думайте, что одного лишь патча для нас будет достаточно, или что мы
будем ее использовать, если вы не предоставите необходимую информацию,
такую как описание ошибки, которую исправляет ваш патч. Ведь мы можем
найти проблемы в самом патче или попросту в нем не разобраться, что не
даст нам возможности его применять. Если нам не удастся проверить, для
чего именно служит этот патч, мы не станем его использовать. В таких
случаях нам помогут контрольные примеры. Продемонстрируйте, что патч
исправляет все проблемы, которые могут возникнуть в связи с этой
ошибкой. Если мы найдем хотя бы один вариант, в котором патч не
работает, то он может оказаться бесполезным.

<LI>

Попытки угадать, что представляет собой ошибка, почему она возникает
или от чего зависит, обычно не дают положительного результата. Даже
члены команды MySQL не могут определить реальную причину ошибки без
программы отладки.

<LI>

Укажите в своем почтовом сообщении, что вы просмотрели справочное
руководство и почтовый архив - тогда будет видно, как вы пытались
решить эту проблему самостоятельно.

<LI>

Если возникла синтаксическая ошибка, внимательно просмотрите свою
программу! Если не удается найти никаких ошибок, может оказаться, что
ваша версия MySQL не поддерживает используемый запрос. Если
используется текущая версия в руководстве на <a HREF="http://www.mysql.com/doc/">http://www.mysql.com/doc/</a> 
не описан синтаксис, который вы используете, MySQL не
поддерживает ваш запрос. В этом случае вы можете либо самостоятельно
реализовать такой синтаксис, либо направить сообщение по адресу
<a HREF="mailto:licensing@mysql.com">licensing@mysql.com</a> и попросить либо предложить реализовать его! Если
в руководстве описан используемый синтаксис, но у вас установлена
более старая версия MySQL, необходимо проверить журнал
изменений MySQL, чтобы узнать, когда был реализован данный синтаксис.
В этом случае вы можете произвести обновление до более новой версии
MySQL. See section <A HREF="manual.ru_News.html#News">D  История изменений и обновлений MySQL</A>.

<LI>

Если в результате ошибки ваши данные оказываются поврежденными, или
возникают ошибки при обращении к какой-либо определенной таблице,
сначала необходимо проверить, а потом попытаться восстановить таблицы
при помощи команды <code>myisamchk</code> или <code>CHECK TABLE</code> и <code>REPAIR TABLE</code>.
See section <A HREF="manual.ru_MySQL_Database_Administration.html#MySQL_Database_Administration">4  Администрирование баз данных</A>.

<LI>

Если повреждения ваших таблиц случаются часто, необходимо выяснить,
когда и почему это происходит. В этом случае файл
<tt>`mysql-data-directory/`hostname`.err'</tt> может содержать некоторую
информацию о происходящем. See section <A HREF="manual.ru_MySQL_Database_Administration.html#Error_log">4.9.1  Журнал ошибок</A>. Включите в отчет
об ошибке всю важную информацию из этого файла. Обычно <code>mysqld</code>  никогда
не должна повреждать данные в таблицах, если не произошло никакого
сбоя во время обновления! Если вам удалось найти причину ошибки в
<code>mysqld</code>, нам будет гораздо проще оказать вам помощь в решении этой
проблемы. See section <A HREF="manual.ru_Problems.html#What_is_crashing">A.1  Как определить, чем вызваны проблемы</A>.

<LI>

Если это возможно, загрузите и установите последнюю версию MySQL
Server и проверьте, не решена ли в ней ваша проблема. Все версии
программного обеспечения MySQL проходят тщательное тестирование и
должны работать без проблем. Мы делаем все возможное, чтобы сохранить
обратную совместимость, поэтому при переходе с одной версии MySQL на
другую никаких проблем не должно возникать. See section <A HREF="manual.ru_Installing.html#Which_version">2.2.6  Какую версию MySQL использовать</A>.
</ul>

<P>
<A NAME="IDX104"></A>
<A NAME="IDX105"></A>
<A NAME="IDX106"></A>
<A NAME="IDX107"></A>

</P>
<P>
Если вы пользователь, пользующийся официальной поддержкой, направьте отчет
об ошибке на <a HREF="mailto:mysql-support@mysql.com">mysql-support@mysql.com</a>, чтобы его рассмотрели в первую
очередь, а также в соответствующий список рассылки, чтобы узнать,
сталкивался ли кто-нибудь еще с этой проблемой (и, возможно, нашел
решение).

</P>
<P>
Чтобы получить информацию по отчетам об ошибках в <code>MyODBC</code>, See section <A HREF="manual.ru_Clients.html#ODBC_Problems">8.3.4  Как сообщать о проблемах с MyODBC</A>.

</P>
<P>
Решения для наиболее часто встречающихся проблем можно найти в разделе
section <A HREF="manual.ru_Problems.html#Problems">A  Проблемы и распространенные ошибки</A>.

</P>
<P>
Если ответы направляются к вам индивидуально, не попадая в список
рассылки, хорошим тоном считается составить отчет по полученным ответам и
отправить его в список рассылки, чтобы другие пользователи смогли получить
информацию, которая помогла решить вашу проблему!

</P>


<H4><A NAME="Answering_questions" HREF="manual.ru_toc.html#Answering_questions">1.8.1.4  Рекомендации по ответам на вопросы, направляемые в список рассылки</A></H4>

<P>
<A NAME="IDX108"></A>
<A NAME="IDX109"></A>
<A NAME="IDX110"></A>
<A NAME="IDX111"></A>

</P>
<P>
Если вы считаете, что ваш ответ представляет интерес для большинства
пользователей, то можете направить его прямо в список рассылки, вместо
того, чтобы отвечать напрямую человеку, задавшему вопрос. Постарайтесь
обобщить свой ответ таким образом, чтобы его смысл был понятен всем, а не
только человеку, задавшему вопрос. При отправке сообщения в список
рассылки убедитесь, что ваш ответ не является повторением предыдущего
ответа.

</P>
<P>
Постарайтесь оставить главную часть вопроса в своем ответе, не стесняйтесь
оставить все исходное сообщение в своем письме.

</P>
<P>
Не отправляйте сообщения из своего браузера с включенным режимом HTML!
Многие пользователи не используют браузер для чтения почты!

</P>


<H3><A NAME="IRC" HREF="manual.ru_toc.html#IRC">1.8.2  Пользователи MySQL на IRC</A></H3>

<P>
<A NAME="IDX112"></A>
<A NAME="IDX113"></A>

</P>
<P>
В дополнение к спискам рассылки MySQL, вы можете найти поддержку у
опытных пользователей MySQL в IRC. 

</P>
<P>
Вот сети/каналы, известные нам на данный момент: 

</P>

<ul>
<LI><strong>freenode</strong> (см. список серверов на <a HREF="http://www.freenode.net/">http://www.freenode.net/</a> )


<ul>
<LI><code>#mysql</code>

В основном обсуждение MySQL, но вопросы по другим СУБД приветствуются. 
<LI><code>#mysqlphp</code>

Вопросы про популярную связку MySQL+PHP
</ul>

<LI><strong>EFnet</strong> (см. список серверов на  <a HREF="http://www.efnet.org/">http://www.efnet.org/</a>)


<ul>
<LI><code>#mysql</code>

Вопросы по MySQL.
</ul>

</ul>

<P>
Мы можем рекомендовать вам X-Chat для подключения к IRC-сети. X-Chat доступен
как для Unix, так и для Windows по адресу: <a HREF="http://www.xchat.org/">http://www.xchat.org/</a>. 

</P>


<H2><A NAME="Compatibility" HREF="manual.ru_toc.html#Compatibility">1.9  Насколько MySQL соответствует стандартам?</A></H2>

<P>
<A NAME="IDX114"></A>
<A NAME="IDX115"></A>
<A NAME="IDX116"></A>
<A NAME="IDX117"></A>

</P>
<P>
В этом разделе рассматривается соотношение между MySQL и стандартами ANSI
SQL. Сервер MySQL имеет много расширений стандарта ANSI SQL; здесь вы
найдете информацию о том, что представляют собой эти расширения и как их
использовать. Помимо этого, в данном разделе содержится информация о том,
какие функциональные возможности отсутствуют в сервере MySQL, а также
дается описание способов обхода некоторых трудностей.

</P>
<P>
Мы не ставили перед собой цель ограничивать какую бы то ни было область
применения сервера MySQL, если на то нет веских причин. И несмотря на то
что у нас не хватает ресурсов выполнять разработку для каждого возможного
применения сервера, мы всегда охотно окажем помощь и предложим советы тем,
кто пытается расширять сферу использования MySQL.

</P>
<P>
Одним из главных направлений разработки данного продукта является
продолжение работы в области соответствия его стандартам ANSI 99, но не за
счет ущерба для скорости или надежности. Мы без опаски добавляем к серверу
MySQL расширения к SQL или поддержку не предусмотренных в SQL
возможностей, если это заметно увеличивает удобство его использования для
значительной части наших пользователей (одним из примеров такой стратегии
является новый интерфейс <code>HANDLER</code> в версии сервера MySQL 4.0; 
see section <A HREF="manual.ru_Reference.html#HANDLER">6.4.2  Синтаксис оператора  <code>HANDLER</code></A>).

</P>
<P>
В наших планах - продолжение поддержки баз данных с транзакциями и без
транзакций, чтобы обеспечить как интенсивное применение для
веб-регистрации, так и зависящее от целевого назначения использование в
круглосуточном режиме 24/7.

</P>
<P>
С самого начала сервер MySQL был спроектирован для работы с базами данных
среднего размера (10-100 миллионов строк или около 100 MB на таблицу) на
малых вычислительных системах. Мы будем продолжать расширять сервер MySQL
для работы с базами данных с размерами даже больше терабайта, и наряду с
этим - предоставлять возможность компиляции упрощенной версии MySQL,
которая больше подходит для портативных устройств и встраивания. Благодаря
компоновочной схеме сервера MySQL оба эти направления возможны без
каких-либо конфликтов в дереве исходных кодов.

</P>
<P>
В настоящее время мы не ставим перед собой задач поддержки работы в режиме
реального времени или кластеризованных баз данных (хотя наши сервисы
репликации уже обеспечивают многие из таких возможностей).

</P>
<P>
Мы не считаем, что для базы данных необходима поддержка чистого XML, но
при этом будем добавлять на клиентской стороне поддержку XML-запросов
наших пользователей. По нашему мнению, основной код сервера должен
оставаться настолько ``скудным и чистым'', насколько возможно, а взамен
следует разрабатывать библиотеки, которые ``взвалят на свои плечи'' все
сложности на клиентской стороне. Эта концепция полностью соответствует
упомянутой выше стратегии - не жертвовать скоростью или надежностью
сервера.

</P>



<H3><A NAME="Standards" HREF="manual.ru_toc.html#Standards">1.9.1  Каким стандартам соответствует MySQL ?</A></H3>

<P>
Начальный уровень SQL92. Для ODBC уровни 0-3.51.

</P>
<P>
Мы стремимся к полной поддержке стандарта ANSI SQL99, но без ущерба для
скорости и качества кода.

</P>


<H3><A NAME="ANSI_mode" HREF="manual.ru_toc.html#ANSI_mode">1.9.2  Запуск MySQL в режиме ANSI</A></H3>

<P>
<A NAME="IDX118"></A>

</P>
<P>
При запуске <code>mysqld</code> с опцией <code>--ansi</code> поведение сервера MySQL изменяется
следующим образом:

</P>

<ul>
<LI>

<code>||</code> представляет собой конкатенацию строк вместо ИЛИ (OR).

<LI>

Допускается любое количество пробелов между именем функции и скобкой
<samp>`('</samp>. Это заставляет MySQL интерпретировать все имена функций как
зарезервированные слова.

<LI>

<samp>`"'</samp> будет интерпретироваться как символ кавычки идентификатора (как
символ кавычки <samp>``'</samp> сервера MySQL), а не как символ кавычки строки.

<LI>

<code>REAL</code> будет синонимом для <code>FLOAT</code>, а не для <code>DOUBLE</code>.

<LI>

Уровнем изоляции транзакций по умолчанию является <code>SERIALIZABLE</code> (see section <A HREF="manual.ru_Reference.html#SET_TRANSACTION">6.7.3  Синтаксис команды <code>SET TRANSACTION</code></A>).

<LI>

Вы можете использовать столбец/выражение в <code>GROUP BY</code>, которое не перечислено в списке столбцов.
</ul>

<P>
Использование данной опции равносильно применению 
<code>--sql-mode=REAL_AS_FLOAT,PIPES_AS_CONCAT,ANSI_QUOTES,
IGNORE_SPACE,SERIALIZE,ONLY_FULL_GROUP_BY</code>.

</P>


<H3><A NAME="Extensions_to_ANSI" HREF="manual.ru_toc.html#Extensions_to_ANSI">1.9.3  Расширения MySQL к ANSI SQL92</A></H3>

<P>
<A NAME="IDX119"></A>

</P>
<P>
Сервер MySQL включает в себя ряд расширений, которые могут отсутствовать в
других базах данных SQL. Если вы их используете, то следует иметь в виду,
что такой код не будет переносимым на другие SQL-серверы. В некоторых
случаях можно написать код, включающий расширения MySQL, но, тем не менее,
являющийся переносимым, воспользовавшись комментариями вида <code>/*! ... */</code>. В
этом случае сервер MySQL будет анализировать и выполнять данный код внутри
этого комментария как обычную команду MySQL, в то время как другие
SQL-серверы будут игнорировать данное расширение. Например:

</P>

<pre>
SELECT /*! STRAIGHT_JOIN */ col_name FROM table1,table2 WHERE ...
</pre>

<P>
При добавлении номера версии после <code>'!'</code> это выражение будет исполняться
только в случае, если номер данной версии MySQL равен указанному номеру
или больше:

</P>

<pre>
CREATE /*!32302 TEMPORARY */ TABLE t (a int);
</pre>

<P>
Это означает, что при наличии версии 3.23.02 или выше сервер MySQL будет
использовать ключевое слово <code>TEMPORARY</code>.

</P>
<P>
Ниже приводится перечень расширений MySQL:

</P>

<ul>
<LI>

Типы полей <code>MEDIUMINT</code>, <code>SET</code>, <code>ENUM</code> и различные типы <code>BLOB</code> и <code>TEXT</code>.

<LI>

Атрибуты полей <code>AUTO_INCREMENT</code>, <code>BINARY</code>, <code>NULL</code>, <code>UNSIGNED</code> и <code>ZEROFILL</code>.

<LI>

Все сравнения строк по умолчанию являются независимыми от регистра
символов с порядком сортировки, заданным текущей кодировкой
(ISO-8859-1 Latin1 по умолчанию). Если вас это не устраивает, то можно
объявить столбцы с атрибутом <code>BINARY</code> или использовать явное приведение
типов <code>BINARY</code>, в результате чего сравнение будет выполняться в
соответствии с порядком ASCII, используемом на хосте сервера MySQL.

<LI>

Сервер MySQL сопоставляет каждую базу данных с подкаталогом в каталоге
данных MySQL, а таблицы внутри базы данных - с именами файлов в этом
подкаталоге базы данных. 

Это правило имеет несколько следствий:

<A NAME="IDX120"></A>
<A NAME="IDX121"></A>
<A NAME="IDX122"></A>
<A NAME="IDX123"></A>


<ul>
<LI>

В сервере MySQL, работающем под операционными системами с
зависимыми от регистра символов именами файлов (таковыми являются
большинство Unix-систем), имена баз данных и имена таблиц
являются зависимыми от регистра символов (see section <A HREF="manual.ru_Reference.html#Name_case_sensitivity">6.1.3  Чувствительность имен к регистру</A>).

<LI>

Имена базы данных, таблицы, индекса, столбца или псевдонимы могут
начинаться с цифры (но не должны содержать только цифры).

<LI>

Можно использовать стандартную систему команд выполнения
резервного копирования, переименования, перемещения, удаления и
копирования таблиц. Например, для переименования таблицы
необходимо переименовать соответствующие этой таблице файлы <tt>`.MYD'</tt>,
<tt>`.MYI'</tt> и <tt>`.frm'</tt>.
</ul>

<LI>

В командах SQL можно обращаться к таблицам из разных баз данных с
помощью выражения <code>db_name.tbl_name</code>. В некоторых SQL-серверах
обеспечивается точно такая же функциональная возможность, но она
называется <code>User space</code>. Сервер MySQL не поддерживает табличные
пространства (как в выражении: <code>CREATE TABLE ralph.my_table...IN
my_tablespace</code>).

<LI>

<code>LIKE</code> разрешается на числовых столбцах.

<LI>

Использование <code>INTO OUTFILE</code> и <code>STRAIGHT_JOIN</code> в команде <code>SELECT</code> (see section <A HREF="manual.ru_Reference.html#SELECT">6.4.1  Синтаксис оператора <code>SELECT</code></A>).

<LI>

Опция <code>SQL_SMALL_RESULT</code> в команде <code>SELECT</code>.

<LI>

Использование <code>EXPLAIN SELECT</code> для получения описаний объединения
таблиц.

<LI>

Использование индексных имен, индексов на префиксах полей, а также
<code>INDEX</code> или <code>KEY</code> в команде <code>CREATE</code> TABLE (see section <A HREF="manual.ru_Reference.html#CREATE_TABLE">6.5.3  Синтаксис оператора <code>CREATE TABLE</code></A>).

<LI>

Использование <code>TEMPORARY</code> или <code>IF NOT EXISTS</code> с <code>CREATE TABLE</code>.

<LI>

Использование <code>COUNT(DISTINCT list)</code>, где <code>list</code> представляет собой более
чем один элемент.

<LI>

Использование <code>CHANGE col_name</code>, <code>DROP col_name</code> или <code>DROP INDEX,</code> <code>IGNORE</code>
или <code>RENAME</code> в команде <code>ALTER TABLE</code> (see section <A HREF="manual.ru_Reference.html#ALTER_TABLE">6.5.4  Синтаксис оператора <code>ALTER TABLE</code></A>).

<LI>

Использование <code>RENAME TABLE</code>. See section <A HREF="manual.ru_Reference.html#RENAME_TABLE">6.5.5  Синтаксис оператора  <code>RENAME TABLE</code></A>.

<LI>

Использование нескольких выражений <code>ADD</code>, <code>ALTER</code>, <code>DROP</code> или <code>CHANGE</code> в
команде <code>ALTER TABLE</code>.

<LI>

Использование <code>DROP TABLE</code> с ключевыми словами <code>IF EXISTS</code>.

<LI>

Возможность удаления нескольких таблиц одной командой <code>DROP TABLE</code>.

<LI>

Условие <code>LIMIT</code> в команде <code>DELETE</code>.

<LI>

Условие <code>DELAYED</code> в командах <code>INSERT</code> и <code>REPLACE</code>.

<LI>

Условие <code>LOW_PRIORITY</code> в командах <code>INSERT</code>, <code>REPLACE</code>, <code>DELETE</code> и <code>UPDATE</code>.

<A NAME="IDX124"></A>

<LI>

Использование <code>LOAD DATA INFILE</code>. Во многих случаях этот синтаксис
совместим с применяющимся в Oracle <code>LOAD DATA INFILE</code> (see section <A HREF="manual.ru_Reference.html#LOAD_DATA">6.4.9  Синтаксис оператора  <code>LOAD DATA INFILE</code></A>).

<LI>

Команды <code>ANALYZE TABLE</code>, <code>CHECK TABLE</code>, <code>OPTIMIZE TABLE</code> и <code>REPAIR TABLE</code>.

<LI>

Команда <code>SHOW</code> (see section <A HREF="manual.ru_MySQL_Database_Administration.html#SHOW">4.5.6  Синтаксис команды <code>SHOW</code></A>).

<LI>

Строки могут быть заключены в кавычки с помощью или <samp>`"'</samp>, или <samp>`''</samp>, но
не просто <samp>`''</samp>.

<LI>

Использование символа экранирования <samp>`\'</samp>.

<LI>

Команда <code>SET</code> (see section <A HREF="manual.ru_MySQL_Optimisation.html#SET_OPTION">5.5.6  Синтаксис команды <code>SET</code></A>).

<LI>

Нет необходимости называть имена всех выбранных столбцов в части <code>GROUP
BY</code>. Это дает лучшую производительность для некоторых очень
специфических, но вполне нормальных запросов (see section <A HREF="manual.ru_Reference.html#Group_by_functions">6.3.7  Функции, используемые в операторах <code>GROUP BY</code></A>).

<LI>

Можно указывать <code>ASC</code> и <code>DESC</code> с <code>GROUP BY</code>.

<LI>

Чтобы упростить работу для пользователей, привыкших к иным условиям
среды SQL, в сервере MySQL поддерживаются псевдонимы для многих
функций. Например, для всех строковых функций поддерживается синтаксис
как ANSI SQL, так и ODBC.

<LI>

Сервер MySQL понимает операторы <code>||</code> и <code>&#38;&</code> для обозначения логических ИЛИ
(<code>OR</code>) и И (<code>AND</code>), как это принято в языке программирования C. В сервере
MySQL <code>||</code> и ИЛИ (<code>OR</code>) являются синонимами, так же, как <code>&#38;&</code> и И (<code>AND</code>).
Благодаря этому удобному синтаксису, в сервере MySQL не поддерживается
оператор ANSI SQL <code>||</code> для конкатенации строк: вместо него используется
функция <code>CONCAT()</code>. Поскольку функция <code>CONCAT()</code> принимает любое
количество аргументов, то в сервере MySQL можно легко модифицировать
использование оператора <code>||</code>.

<LI>

<code>CREATE DATABASE</code> или <code>DROP DATABASE</code> (see section <A HREF="manual.ru_Reference.html#CREATE_DATABASE">6.5.1  Синтаксис оператора <code>CREATE DATABASE</code></A>).

<A NAME="IDX125"></A>
<LI>

Оператор <code>%</code> является синонимом для <code>MOD()</code>. Т.е. <code>N % M</code> эквивалентно
<code>MOD(N,M)</code>. Оператор <code>%</code> поддерживается для программистов на C и для
совместимости с PostgreSQL.

<LI>

Операторы <code>=</code>, <code>&#60;&#62;</code>, <code>&#60;=</code>,<code>&#60;</code>, <code>&#62;=</code>,<code>&#62;</code>, <code>&#60;&#60;</code>, <code>&#62;&#62;</code>, <code>&#60;=&#62;</code>, <code>AND</code>, <code>OR</code> или <code>LIKE</code> могут
использоваться при сравнении столбцов слева от <code>FROM</code> в командах <code>SELECT</code>.
Например:


<pre>
mysql&#62; SELECT col1=1 AND col2=2 FROM tbl_name;
</pre>

<LI>

Функция <code>LAST_INSERT_ID()</code> (see section <A HREF="manual.ru_Clients.html#mysql_insert_id">8.4.3.130  <code>mysql_insert_id()</code></A>).

<LI>

Операторы <code>REGEXP</code> и <code>NOT REGEXP</code> расширенных регулярных выражений.

<LI>

<code>CONCAT()</code> или <code>CHAR()</code> с одним аргументом или более чем с двумя
аргументами (в сервере MySQL эти функции могут принимать любое
количество аргументов).

<LI>

Функции <code>BIT_COUNT()</code>, <code>CASE</code>, <code>ELT()</code>, <code>FROM_DAYS()</code>, <code>FORMAT()</code>, <code>IF()</code>,
<code>PASSWORD()</code>, <code>ENCRYPT()</code>, <code>MD5()</code>, <code>ENCODE()</code>, <code>DECODE()</code>, <code>PERIOD_ADD()</code>,
<code>PERIOD_DIFF()</code>, <code>TO_DAYS()</code> или <code>WEEKDAY()</code>.

<LI>

Использование функции <code>TRIM()</code> для усечения подстрок. В ANSI SQL
поддерживается только удаление единичных символов.

<LI>

Операция <code>GROUP BY</code> для функций <code>STD()</code>, <code>BIT_OR()</code> и <code>BIT_AND()</code>.

<LI>

Использование <code>REPLACE</code> вместо <code>DELETE</code> + <code>INSERT</code> (see section <A HREF="manual.ru_Reference.html#REPLACE">6.4.8  Синтаксис оператора <code>REPLACE</code></A>).

<LI>

Команды <code>FLUSH</code>, <code>RESET</code> и <code>DO</code>.

<LI>

Возможность устанавливать переменные в команде с помощью <code>:=</code>:


<pre>
SELECT @a:=SUM(total),@b=COUNT(*),@a/@b AS avg FROM test_table;
SELECT @t1:=(@t2:=1)+@t3:=4,@t1,@t2,@t3;
</pre>

</ul>



<H3><A NAME="Differences_from_ANSI" HREF="manual.ru_toc.html#Differences_from_ANSI">1.9.4  Отличия MySQL от ANSI SQL92</A></H3>

<P>
Наши усилия направлены на то, чтобы сервер MySQL соответствовал стандартам
ANSI SQL и ODBC SQL, но в некоторых случаях сервер MySQL функционирует
по-другому. Ниже приведен перечень таких отличий:

</P>

<ul>
<LI>

Для столбцов <code>VARCHAR</code> при хранении величины концевые пробелы удаляются
(see section <A HREF="manual.ru_Introduction.html#Bugs">1.9.5  Известные ошибки и недостатки проектирования в MySQL</A>).

<LI>

В некоторых случаях столбцы <code>CHAR</code> без уведомления изменяются на столбцы
<code>VARCHAR</code> (see section <A HREF="manual.ru_Reference.html#Silent_column_changes">6.5.3.1  Молчаливые изменения определений столбцов</A>).

<LI>

Привилегии для таблицы не аннулируются автоматически при удалении
таблицы; чтобы удалить привилегии для таблицы, необходимо явно вызвать
<code>REVOKE</code> (see section <A HREF="manual.ru_MySQL_Database_Administration.html#GRANT">4.3.1  Синтаксис команд <code>GRANT</code> и <code>REVOKE</code></A>).

<LI>

<code>NULL AND FALSE</code> будет трактоваться как <code>NULL</code>, а не как <code>FALSE</code>. Причина
здесь в том, что мы не считаем необходимым оценивать множество
дополнительных условий для этого случая.
</ul>

<P>
Если вас интересует, когда к серверу MySQL будут добавляться новые
расширения, необходимо обратиться к онлайновому списку перспективных задач
к выполнению, в котором дан их перечень в порядке приоритетности. Он
находится по адресу
<a HREF="http://www.mysql.com/doc/en/TODO.html">http://www.mysql.com/doc/en/TODO.html</a>. Это самая
последняя версия списка задач к выполнению (TODO list) в  данном 
руководстве (see section <A HREF="manual.ru_Introduction.html#TODO">1.10  MySQL и будущее (что предстоит сделать)</A>).

</P>


<H4><A NAME="ANSI_diff_Sub-selects" HREF="manual.ru_toc.html#ANSI_diff_Sub-selects">1.9.4.1  Вложенные <code>SELECT</code>ы</A></H4>

<P>
<A NAME="IDX126"></A>
<A NAME="IDX127"></A>
<A NAME="IDX128"></A>

</P>
<P>
В сервер MySQL поддерживает вложенные запросы вида <code>INSERT ... SELECT ...</code>
и  <code>REPLACE ... SELECT ...</code>. В других контекстах можно использовать
и функцию <code>IN()</code>. 

</P>
<P>
Вложенные операции выборки реализованы в версии 4.1.

</P>
<P>
Между тем, во многих случаях можно переписать запрос, чтобы не
использовать вложенную выборку. Например, запрос:

</P>

<pre>
SELECT * FROM table1 WHERE id IN (SELECT id FROM table2);
</pre>

<P>
можно переписать следующим образом:

</P>

<pre>
SELECT table1.* FROM table1,table2 WHERE table1.id=table2.id;
</pre>

<P>
Запросы:

</P>

<pre>
SELECT * FROM table1 WHERE id NOT IN (SELECT id FROM table2);
SELECT * FROM table1 WHERE NOT EXISTS (SELECT id FROM table2
         WHERE table1.id=table2.id);
</pre>

<P>
эквивалентны следующему:

</P>

<pre>
SELECT table1.* FROM table1 LEFT JOIN table2 ON table1.id=table2.id
                WHERE table2.id IS NULL;
</pre>

<P>
Для более сложных подзапросов часто можно создать временные таблицы,
содержащие данный подзапрос. Иногда, однако, этот способ не годится, чаще
всего для команд <code>DELETE</code>, для которых в стандарте SQL не поддерживаются
объединения (за исключением вложенных выборок). В этой ситуации возможны
два временных (пока вложенные запросы не поддерживаются сервером MySQL)
варианта решения проблемы.

</P>
<P>
Первый вариант следующий: при помощи какого-либо
процедурно-ориентированного языка программирования (такого как Perl или
PHP) делается запрос <code>SELECT</code> для получения первичных ключей тех записей,
которые должны быть удалены, а затем полученные величины используются для
составления команды <code>DELETE (DELETE FROM ... WHERE ... IN (key1, key2,
...))</code>.

</P>
<P>
Второй вариант предполагает применение диалогового SQL для автоматического
создания набора команд <code>DELETE</code> с использованием расширения MySQL <code>CONCAT()</code>
(вместо стандартного оператора <code>||</code>). Например:

</P>

<pre>
SELECT CONCAT('DELETE FROM tab1 WHERE pkid = ', "'", tab1.pkid, "'", ';')
       FROM tab1, tab2
       WHERE tab1.col1 = tab2.col2;
</pre>

<P>
Можно поместить этот запрос в файл скрипта, перенаправить  стандартный 
вход клиента  командной  строки  с  этого  файла, а стандартный  выход - на 
еще  один  экземпляр  клиента  командной  строки:

</P>

<pre>
shell&#62; mysql --skip-column-names mydb &#60; myscript.sql | mysql mydb
</pre>

<P>
Сервер версии MySQL 4.0 поддерживает многотабличные удаления - эту функцию
можно использовать для эффективного удаления строк как из одной таблицы,
так и из нескольких одновременно

</P>


<H4><A NAME="ANSI_diff_SELECT_INTO_TABLE" HREF="manual.ru_toc.html#ANSI_diff_SELECT_INTO_TABLE">1.9.4.2  Оператор  <code>SELECT INTO TABLE</code></A></H4>

<P>
<A NAME="IDX129"></A>

</P>
<P>
Для сервера MySQL пока не реализована поддержка расширения Oracle SQL:
<code>SELECT ... INTO TABLE ...</code>. Вместо этого сервер MySQL поддерживает
синтаксис ANSI SQL <code>INSERT INTO ... SELECT ...</code>, который, по существу,
представляет собой то же самое (see section <A HREF="manual.ru_Reference.html#INSERT_SELECT">6.4.3.1  Синтаксис оператора <code>INSERT ... SELECT</code></A>).

</P>

<pre>
INSERT INTO tblTemp2 (fldID) SELECT tblTemp1.fldOrder_ID
       FROM tblTemp1 WHERE tblTemp1.fldOrder_ID &#62; 100;
</pre>

<P>
Можно также использовать выражения  <code>SELECT INTO OUTFILE...</code> или <code>CREATE
TABLE ... SELECT</code>.

</P>


<H4><A NAME="ANSI_diff_Transactions" HREF="manual.ru_toc.html#ANSI_diff_Transactions">1.9.4.3  Транзакции и атомарные операции</A></H4>

<P>
<A NAME="IDX130"></A>
<A NAME="IDX131"></A>
<A NAME="IDX132"></A>
<A NAME="IDX133"></A>
<A NAME="IDX134"></A>
<A NAME="IDX135"></A>
<A NAME="IDX136"></A>
<A NAME="IDX137"></A>
<A NAME="IDX138"></A>

</P>

<P>
Поддержка транзакций в сервере MySQL реализуется при помощи обработчиков
транзакционных таблиц типов <code>InnoDB</code> и <code>BDB</code> (see section <A HREF="manual.ru_Table_types.html#Table_types">7  Типы  таблиц MySQL</A>).
Таблицы <code>InnoDB</code> обеспечивают соответствие требованиям <code>ACID</code>.

</P>
<P>
Однако для таблиц нетранзакционных типов, таких как <code>MyISAM</code>, в MySQL
используется иная парадигма обеспечения целостности данных, получившая
название ``<code>атомарные операции</code>''. Атомарные операции в сравнении с
транзакциями часто обеспечивают такую же или даже лучшую целостность при
более высокой производительности. Поскольку сервер MySQL поддерживает обе
парадигмы, пользователь может выбирать между скоростью, которую
обеспечивают атомарные операции, и транзакционными возможностями для своих
приложений. Такой выбор может быть сделан для каждой таблицы отдельно.

</P>
<P>
Рассмотрим, как используются возможности сервера MySQL для обеспечения
строгой целостности и каковы эти возможности в сравнении с транзакционной
парадигмой.

</P>

<ol>
<LI>

Транзакционная парадигма обеспечивает следующие возможности: если
приложения написаны таким образом, что в критических ситуациях зависят
от вызова <code>ROLLBACK</code> вместо <code>COMMIT</code>, то транзакции предпочтительней
атомарных операций. Транзакции также обеспечивают гарантию того, что
незаконченные обновления или искаженные действия не будут
фиксироваться в базе данных; серверу предоставляется возможность
выполнить автоматический откат, и база данных будет сохранена. Почти
во всех случаях при работе с сервером MySQL решить возможные проблемы
можно путем включения простых проверок перед обновлениями и запуска
простых скриптов, которые выполняют проверку баз данных на нарушение
целостности с автоматическим исправлением повреждений или выдачей
предупреждения, если такое нарушение возникает. Отметим, что
полноценное выявление и устранение ошибок в таблицах без потери
целостности данных можно обеспечить, просто используя системный журнал
MySQL или добавив еще один дополнительный журнал.

<LI>

Во многих случаях транзакционные обновления можно переписать как
атомарные. В общем случае все проблемы, которые решаются с помощью
транзакций, можно решить с помощью <code>LOCK TABLES</code> или атомарных <code>UPDATE</code>,
при гарантии того, что в базе данных никогда не произойдет
автоматического прерывания (что является часто встречающейся проблемой
для транзакционных баз данных).

<LI>

Даже в транзакционной системе возможна потеря данных в случае
внезапной остановки сервера (если сервер ``упадет''). Разница между
различными системами состоит только в том, насколько мал промежуток
времени, в течение которого данные могут быть потеряны. Ни одна
система не является надежной на 100%, только ``достаточно надежной''.
Даже для сервера Oracle (эта база данных считается наиболее надежной
транзакционной базой данных), по сообщениям, в подобных ситуациях
иногда возможна потеря данных. Что же касается использования сервера
MySQL, то в любом случае, независимо от того, применяются или нет
транзакционные таблицы, для обеспечения безопасности необходимо только
иметь резервные копии и включенную регистрацию обновлений. Благодаря
этим мерам в MySQL, так же как и в  других транзакционных базах
данных, можно восстановить информацию в любой ситуации. Резервные
копии вообще хорошо иметь всегда, независимо от того, какая база
данных используется.
</ol>

<P>
Транзакционная парадигма имеет свои достоинства и свои недостатки. Для
многих пользователей и разработчиков приложений решающее значение имеет
простота кодирования в проблемных ситуациях, в которых может произойти или
неизбежно аварийное прерывание. Однако даже если парадигма атомарных
операций для вас нова или вы привыкли к транзакциям, все же следует
принимать во внимание выигрыш в скорости, который могут обеспечить
нетранзакционные таблицы (порядка от трех до пяти раз по сравнению со
скоростью наиболее быстрых и оптимально настроенных транзакционных
таблиц).

</P>
<P>
В ситуациях, где целостность данных чрезвычайно важна, сервер MySQL
обеспечивает даже для нетранзакционных таблиц надежность и целостность
данных уровня транзакций или лучше. При блокировании таблиц с помощью <code>LOCK
TABLES</code> все обновления останавливаются до тех пор, пока не будут выполнены
все проверки на целостность. При наличии только блокировки чтения (в
противоположность блокировке записи) операции чтения и вставки, тем не
менее, производятся. Новые внесенные записи не будут видны никому из
имеющих блокировку чтения клиентов до освобождения этих блокировок. С
iомощью <code>INSERT DELAYED</code> вставки становятся в очередь и находятся там до тех
пор, пока не будут сняты все блокировки. При этом клиент не вынужден
ждать, пока отработает <code>INSERT</code> (see section <A HREF="manual.ru_Reference.html#INSERT_DELAYED">6.4.4  Синтаксис оператора <code>INSERT DELAYED</code></A>).

</P>
<P>
То, что мы подразумеваем под термином ``атомарные'', не означает ничего
сверхъестественного. Имеется в виду лишь следующее: гарантируется, что при
выполнении каждого конкретного обновления никакой другой пользователь не
может повлиять на него и никогда не произойдет автоматического отката
(который возможен на транзакционных таблицах, если не приняты должные меры
предосторожности). Сервер MySQL также гарантирует, что не случится
грязного чтения (dirty read)".

</P>
<P>
Ниже описаны некоторые технические приемы работы с нетранзакционными
таблицами:

</P>

<ul>
<LI>

Циклы, для которых требуются транзакции, обычно могут кодироваться с
помощью <code>LOCK TABLES</code>, причем нет необходимости в указателях при
динамическом обновлении записей.

<LI>

Чтобы избежать применения <code>ROLLBACK</code>, можно использовать следующую
стратегию:


<ul>
<LI>

Применить <code>LOCK TABLES ...</code> для блокирования всех таблиц, к которым
необходим доступ.

<LI>

Проверить условия.

<LI>

Обновить, если все в порядке.

<LI>

Использовать <code>UNLOCK TABLES</code> для освобождения произведенных
блокировок.
</ul>

Обычно этот метод обеспечивает намного более высокую скорость, чем
использование транзакций с возможными откатами, хотя и не всегда. Это
решение не годится только для одной ситуации - когда кто-либо уничтожает
потоки посреди обновления. В этом случае все блокировки будут сняты, но
некоторые обновления могут не выполниться.

<LI>

Для обновления записей в рамках одиночной операции можно также
использовать функции. Применяя приведенные ниже технические приемы, вы
получите очень эффективное приложение:


<ul>
<LI>Поля модифицируются относительно их текущей величины.

<LI>Обновляются только те поля, которые действительно изменились.

</ul>

Например, при выполнении обновлений информации некоторого заказчика мы
обновляем только те данные этого заказчика, которые изменялись, и делаем
проверку только на предмет того, модифицировались ли изменяемые данные или
зависящие от них по сравнению с исходной строкой. Проверка на то,
изменялись или нет данные, выполняется с помощью выражения <code>WHERE</code> в команде
<code>UPDATE</code>. Если данную запись обновить не удалось, то клиент получает
сообщение: "Некоторые данные, которые вы изменяли, были модифицированы
другим пользователем". После этого в окне выводится старая версия, чтобы
пользователь мог решить, какую версию записи заказчика он должен
использовать. Такой алгоритм обеспечивает нечто похожее на блокирование
столбцов, но реально он даже лучше, поскольку мы обновляем только часть
столбцов, используя величины, соответствующие их текущим значениям. Это
означает, что типичные команды <code>UPDATE</code> выглядят примерно как приведенные
ниже:


<pre>
UPDATE tablename SET pay_back=pay_back+'relative change';
UPDATE customer
  SET
    customer_date='current_date',
    address='new address',
    phone='new phone',
    money_he_owes_us=money_he_owes_us+'new_money'
  WHERE
    customer_id=id AND address='old address' AND phone='old phone';
</pre>

Как можно видеть, этот способ очень эффективно и работает, даже если
другой клиент изменит величины в столбцах <code>pay_back</code> или <code>money_he_owes_us</code>.

<LI>

<A NAME="IDX139"></A>
<A NAME="IDX140"></A>
Во многих случаях пользователи хотят применять <code>ROLLBACK</code> и/или <code>LOCK
TABLES</code> для управления уникальными идентификаторами для разных таблиц.
Того же результата можно добиться намного более эффективно, используя
столбец <code>AUTO_INCREMENT</code> и либо SQL-функцию <code>LAST_INSERT_ID()</code>, либо
функцию C API <code>mysql_insert_id()</code> (see section <A HREF="manual.ru_Clients.html#mysql_insert_id">8.4.3.130  <code>mysql_insert_id()</code></A>). 

<A NAME="IDX141"></A>
<A NAME="IDX142"></A>
<A NAME="IDX143"></A>

В общем случае можно написать код и для блокирования на уровне строк.  Для
некоторых ситуаций это действительно необходимо, но таких случаев очень мало.
Блокировка на уровне строк поддерживается в таблицах <code>InnoDB</code>. Для типа
<code>MyISAM</code> можно использовать флаговые столбцы в таблице и выполнять
запросы, подобные следующему:


<pre>
UPDATE tbl_name SET row_flag=1 WHERE id=ID;
</pre>

MySQL возвращает 1 в качестве количества подвергнутых воздействию строк,
если данная строка была найдена, а <code>row_flag</code> в исходной строке не был уже
равен 1. Это можно себе представить так, как будто сервер MySQL изменяет
предшествующий запрос на:


<pre>
UPDATE tbl_name SET row_flag=1 WHERE id=ID AND row_flag &#60;&#62; 1;
</pre>

</ul>



<H4><A NAME="ANSI_diff_Triggers" HREF="manual.ru_toc.html#ANSI_diff_Triggers">1.9.4.4  Хранимые процедуры и триггеры</A></H4>

<P>
<A NAME="IDX144"></A>
<A NAME="IDX145"></A>
<A NAME="IDX146"></A>

</P>
<P>
Хранимые процедуры представляют собой набор команд SQL, которые могут
компилироваться и храниться на сервере. Таким образом, вместо того, чтобы
хранить часто используемый запрос, клиенты могут ссылаться на
соответствующую хранимую процедуру. Это обеспечивает лучшую
производительность, поскольку данный запрос должен анализироваться только
однажды и уменьшается трафик между сервером и клиентом. Концептуальный
уровень можно также повысить за счет создания на сервере библиотеки
функций.

</P>
<P>
Триггер представляет собой хранимую процедуру, которая активизируется при
наступлении определенного события. Например, можно задать хранимую
процедуру, которая срабатывает каждый раз при удалении записи из
транзакционной таблицы - таким образом обеспечивается автоматическое
удаление соответствующего заказчика из таблицы заказчиков, когда все его
транзакции удаляются.

</P>
<P>
Возможность  работы  с  хранимыми процедурами  будет  обеспечивать 
планируемый  язык  обновлений. Наша цель - ввести хранимые процедуры
приблизительно в версию сервера MySQL 5.0. Мы работаем также и над
триггерами.

</P>


<H4><A NAME="ANSI_diff_Foreign_Keys" HREF="manual.ru_toc.html#ANSI_diff_Foreign_Keys">1.9.4.5  Внешние ключи</A></H4>

<P>
<A NAME="IDX147"></A>
<A NAME="IDX148"></A>

</P>
<P>
Следует учитывать, что в SQL внешние ключи используются не для объединения
таблиц, а главным образом для проверки целостности ссылочных данных
(ограничения внешних ключей). Если необходимо получить результаты из
большого количества таблиц от команды <code>SELECT</code>, следует делать это через
объединение таблиц:

</P>

<pre>
SELECT * FROM table1,table2 WHERE table1.id = table2.id;
</pre>

<P>
См. разделы section <A HREF="manual.ru_Reference.html#JOIN">6.4.1.1  Синтаксис оператора <code>JOIN</code></A> и See section <A HREF="manual.ru_Tutorial.html#example-Foreign_keys">3.5.6  Использование внешних ключей</A>.

</P>
<P>
В версии сервера MySQL 3.23.44 и выше таблицы InnoDB поддерживают проверку
ограничений внешних ключей (see section <A HREF="manual.ru_Table_types.html#InnoDB">7.5  Таблицы <code>InnoDB</code></A>). Для таблиц других
типов сервер MySQL производит анализ синтаксиса <code>FOREIGN KEY</code> в командах
<code>CREATE TABLE</code>, но без выполнения дальнейших действий.

</P>
<P>
Синтаксис <code>FOREIGN KEY</code> без <code>ON DELETE ...</code> главным образом применяется для
целей документирования. В некоторых ODBC-приложениях его можно
использовать для автоматического создания выражений <code>WHERE</code>, но обычно это
легко сделать вручную. <code>FOREIGN KEY</code> иногда используется в качестве
проверки ограничений, но на практике такая проверка не является
необходимой, если строки вносятся в таблицу в правильном порядке.

</P>
<P>
В сервере MySQL можно обойти проблему отсутствия реализации <code>ON DELETE ...</code> 
добавлением соответствующей команды <code>DELETE</code> в приложение, когда удаляются
записи из таблицы, имеющей внешний ключ. На практике при этом достигается
почти такая же скорость (в некоторых случаях еще быстрее), как и при
использование внешних ключей, и намного большая переносимость.

</P>
<P>
В версии сервера MySQL 4.0 можно использовать многотабличное удаление,
чтобы удалить строки из многих таблиц одной командой (see section <A HREF="manual.ru_Reference.html#DELETE">6.4.6  Синтаксис оператора <code>DELETE</code></A>).

</P>
<P>
В ближайшем будущем мы расширим реализацию <code>FOREIGN KEY</code> таким образом, что
информация будет сохраняться в специальном файле таблицы и ее можно будет
извлечь с помощью <code>mysqldump</code> и ODBC. На следующем этапе мы внедрим
ограничения внешних ключей для приложений, в которых не так просто
обойтись без них.

</P>
<P>
Следует иметь в виду, что внешние ключи часто применяются неправильно, что
может вызывать большие проблемы. Даже если они использованы
соответствующим образом, то не являются магическим решением для проблемы
целостности ссылочных данных, хотя в некоторых случаях действительно
упрощают ситуацию.

</P>
<P>
Некоторые преимущества внедрения внешних ключей:

</P>

<ul>
<LI>

При условии, что связи спроектированы правильно, ограничения внешних
ключей сделают более сложным для программиста введение
противоречивости в базу данных.

<LI>

Использование каскадных обновлений и удалений может упростить код
клиента.

<LI>

Должным образом разработанные правила внешних ключей помогают в
документировании отношений между таблицами.
</ul>

<P>
Недостатки:

</P>

<ul>
<LI>

Ошибки, которые легко сделать в проектировании отношений ключей, могут
вызывать сложные проблемы: например, зацикленные правила или ложные
комбинации каскадных удалений.

<LI>

Правильно написанное приложение будет само по себе обеспечивать
отсутствие нарушения целостности ссылочных данных перед началом работы
запроса. Таким образом, дополнительные проверки на уровне базы данных
только понизят производительность для такого приложения.

<LI>

Администраторы баз данных часто создают такую сложную топологию
связей, при которой затруднительно, а зачастую и вовсе невозможно
получить резервную копию или восстановить единичные таблицы.
</ul>



<H4><A NAME="ANSI_diff_Views" HREF="manual.ru_toc.html#ANSI_diff_Views">1.9.4.6  Представления</A></H4>

<P>
<A NAME="IDX149"></A>

</P>
<P>
Представления планируется реализовать примерно в версии сервера MySQL 5.0.

</P>
<P>
Представления полезны в основном для случая, когда требуется предоставлять
пользователям доступ к набору связей как к одной таблице (только в режиме
чтения). Во многих базах данных SQL не обеспечивается возможность
обновлять какие-либо строки в представлении - такие обновления необходимо
выполнять в отдельных таблицах.

</P>
<P>
Поскольку сервер MySQL применяется в основном в приложениях и
веб-системах, где разработчик приложения имеет полный контроль над
использованием базы данных, большинство из наших пользователей не считают
представления достаточно важной функциональной возможностью (по крайней
мере, никто не заинтересовался ими настолько, чтобы выразить готовность
финансировать реализацию представлений).

</P>
<P>
Для сервера MySQL нет необходимости в применении представлений для
ограничения доступа к столбцам, так как в нем реализована хорошо
продуманная система привилегий (see section <A HREF="manual.ru_MySQL_Database_Administration.html#Privilege_system">4.2  Общие проблемы безопасности и система привилегий доступа MySQL</A>).

</P>


<H4><A NAME="ANSI_diff_comments" HREF="manual.ru_toc.html#ANSI_diff_comments">1.9.4.7  Символы `--' как начало комментария</A></H4>

<P>
<A NAME="IDX150"></A>
<A NAME="IDX151"></A>

</P>
<P>
В некоторых отличных от MySQL базах данных SQL символы <samp>`--'</samp> используются
как начальные символы комментариев. В сервере MySQL символом начала
комментариев является <samp>`#'</samp>. Для сервера MySQL можно также использовать
стиль комментирования из C: <code>/* this is a comment */</code> (see section <A HREF="manual.ru_Reference.html#Comments">6.1.6  Синтаксис  комментариев</A>).

</P>
<P>
В версии сервера MySQL 3.23.3 и выше поддерживается комментирование с
помощью символов <samp>`--'</samp> - при условии, что за комментарием следует пробел.
Это объясняется тем, что данный стиль комментирования вызвал много проблем
при автоматической генерации SQL-запросов, в которых присутствовал код,
подобный приведенному ниже (величина платежа вставляется в выражение
<code>!payment!</code> автоматически):

</P>

<pre>
UPDATE tbl_name SET credit=credit-!payment!
</pre>

<P>
Давайте представим себе, что произойдет в случае, если величина <code>payment</code>
окажется отрицательной. Поскольку выражение <code>1--1</code> в SQL является
допустимым, то просто страшно себе вообразить последствия в случае, если
будут разрешены комментарии, начинающиеся с <samp>`--'</samp>,

</P>
<P>
Использование нашей реализации этого метода комментирования в версии
сервера MySQL 3.23.3 и выше - в форме <code>1-- This is a comment</code> - является
действительно безопасным.

</P>
<P>
Существует еще один безопасный способ решения этой проблемы. Он
заключается в том, что клиент командной строки <code>mysql</code> удаляет все строки,
начинающиеся с <samp>`--'</samp>.

</P>
<P>
Приведенная ниже информация относится только к работе более ранних, чем
3.23.3, версий MySQL.

</P>
<P>
Если ваша SQL-программа представлена в виде текстового файла, содержащего
комментарии <samp>`--'</samp>, необходимо использовать:

</P>

<pre>
shell&#62; replace " --" " #" &#60; text-file-with-funny-comments.sql \
	| mysql database
</pre>

<P>
вместо обычного:

</P>

<pre>
shell&#62; mysql database &#60; text-file-with-funny-comments.sql
</pre>

<P>
Можно также отредактировать сам командный файл, заменив комментарии <samp>`--'</samp>
комментариями <samp>`#'</samp>:

</P>

<pre>
shell&#62; replace " --" " #" -- text-file-with-funny-comments.sql
</pre>

<P>
Привести эти комментарии к первоначальному виду можно с помощью следующей
команды:

</P>

<pre>
shell&#62; replace " #" " --" -- text-file-with-funny-comments.sql
</pre>



<H3><A NAME="Bugs" HREF="manual.ru_toc.html#Bugs">1.9.5  Известные ошибки и недостатки проектирования в MySQL</A></H3>

<P>
<A NAME="IDX152"></A>
<A NAME="IDX153"></A>
<A NAME="IDX154"></A>
<A NAME="IDX155"></A>

</P>



<H4><A NAME="Errors_in_3.23" HREF="manual.ru_toc.html#Errors_in_3.23">1.9.5.1  Ошибки, известные в 3.23 и исправленные в более поздних версиях MySQL</A></H4>

<P>
Следующие ошибки не исправлены в MySQL 3.23, поскольку исправление их
требует слишком значительных изменений кода, которые могут повлечь 
создание еще большего количества ошибок. Эти ошибки классифицированы 
как "не фатальные" и "переносимые". 

</P>

<ul>
<LI>

Можно получить взаимоблокировку при помощи <code>LOCK TABLE</code> на множестве таблиц,
а затем выполнив в том же соединениии <code>DROP TABLE</code> одной из таблиц, пока другой поток
пытается получить блокировку на таблицу. Однако можно уничтожить (<code>KILL</code>) эти
потоки с тем, чтобы ситуация была исправлена. Исправлено в 4.0.12. 
<LI>

<code>SELECT MAX(key_column) FROM t1,t2,t3...</code>  где одна из таблиц является
пустой не вернет <code>NULL</code>, но вместо этого вернет максимальное значение для столбца. 
Исправлено в 4.0.11.
</ul>



<H4><A NAME="Open_bugs" HREF="manual.ru_toc.html#Open_bugs">1.9.5.2  Открытые ошибки / особенности строения MySQL</A></H4>

<P>
Устранение следующих из выявленных проблем относится к числу
первоочередных задач:

</P>

<ul>
<LI>

<code>ANALYZE TABLE</code> на таблицах <code>BDB</code> в некоторых случаях может сделать
таблицу недоступной для использования, пока не произойдет перезапуск
<code>mysqld</code>. При этом в файле ошибок MySQL можно будет увидеть ошибки,
подобные следующим:


<pre>
001207 22:07:56 bdb: log_flush: LSN past current end-of-log
</pre>

<LI>

Не следует выполнять <code>ALTER TABLE</code> на таблицах <code>BDB</code>, на которых
осуществляются многокомандные транзакции, пока все эти транзакции не
завершатся (возможно, данные транзакции будут проигнорированы).

<LI>

<code>ANALYZE TABLE</code>, <code>OPTIMIZE TABLE</code> и <code>REPAIR TABLE</code> могут вызвать проблемы на
таблицах, для которых используется <code>INSERT DELAYED</code>.

<LI>

Выполнение <code>LOCK TABLE ...</code> и <code>FLUSH TABLES ...</code> не гарантирует, что на
данной таблице нет исполняемых в текущий момент незаконченных
транзакций.

<LI>

Открытие таблиц <code>BDB</code> происходит несколько медленно. Если база данных
содержит много таблиц <code>BDB</code>, то потребуется значительное время для
использования клиента <code>mysql</code> на этой базе данных, если не применять
опцию <code>-A</code> или если использовать <code>rehash</code>. Это особенно заметно при
наличии большого табличного кэша.

</ul>

<P>
Следующие проблемы также известны и будут устранены в свое время:

</P>

<ul>

<LI>

При использовании функции <code>RPAD</code>, или любой другой строковой функции, 
добавляющией пробелы в правую часть строки, в запросе, для которого MySQL 
будет создавать временные таблицы для его выполнения, все результирующие
строки будут в результате обработаны RTRIM'ом (RTRIM'ed).  Вот пример запроса: 

<code>SELECT    RPAD(t1.field1, 50, ' ') AS f2,    RPAD(t2.field2, 50, '
') AS f1  FROM    table1 as t1     LEFT JOIN table2 AS t2 ON
t1.record=t2.joinID ORDER BY t2.record;</code> 

В результате невозможно получить пробелы в правой части результирующего столбца. 

Такое поведение присутствует во всех версиях MySQL.

Причина заключается в том, что HEAP-таблицы, которые в первую очередь используются для временных 
таблиц, неспособны работать с VARCHAR-столбцами. 

Такое поведение будет исправлено в одной из версий 4.1. 

<LI>

При использовании <code>SET CHARACTER SET</code> нельзя использовать
преобразованные символы в именах базы данных, таблицы и столбца.

<LI>

Нельзя использовать <code>_</code> или <code>%</code> с <code>ESCAPE</code> в <code>LIKE
... ESCAPE</code>.

<LI>

<LI>

Если в столбце <code>DECIMAL</code> число хранится в различных форматах (+01.00,
1.00, 01.00), то <code>GROUP BY</code> может рассматривать каждую величину как
самостоятельную.

<LI>

<code>DELETE FROM merge_table</code> при использовании без <code>WHERE</code> будет очищать
только отображение для этой таблицы, а не удалять все данные в
отображенных таблицах.

<LI>

При использовании потоков MIT-pthreads нельзя расположить сервер в
ином каталоге. Поскольку для решения данной проблемы требуются
изменения для потоков MIT-pthreads, маловероятно, что мы ее устраним
(see section <A HREF="manual.ru_Installing.html#MIT-pthreads">2.3.6  Замечания по потокам MIT-pthreads</A>).

<LI>

Не обеспечивается ``надежное'' применение величин <code>BLOB</code> в <code>GROUP BY</code> или
<code>ORDER BY</code> или <code>DISTINCT</code>. В этих случаях при сравнении величин <code>BLOB</code>
используются только первые <code>max_sort_length</code> байтов (по умолчанию 1024).
Это можно изменить с помощью опции <code>-O max_sort_length</code> для <code>mysqld</code>.
Обходной путь для большинства случаев заключается в использовании
подстроки: <code>SELECT DISTINCT LEFT(blob,2048) FROM tbl_name</code>.

<LI>

В сервере MySQL вычисления производятся в форматах типов <code>BIGINT</code> или
<code>DOUBLE</code> (оба типа обычно имеют длину 64 бита). Это зависит от того,
какую точность обеспечивает применяемая функция. Общее правило состоит
в том, что битовые функции работают с точностью <code>BIGINT</code>, функции <code>IF</code> и
<code>ELT()</code> - с точностью <code>BIGINT</code> или <code>DOUBLE</code>, а остальные - с точностью
<code>DOUBLE</code>. Следует избегать применения беззнаковых величин двойной
точности, если они могут превысить 63 бита (9223372036854775807), для
каких-либо величин, кроме битовых полей! В версии сервера MySQL 4.0
реализована лучшая обработка <code>BIGINT</code>, чем в 3.23.

<LI>

Во всех строковых столбцах, исключая <code>BLOB</code> и <code>TEXT</code>  при извлечении
данных автоматически удаляются все концевые пробелы. Для типов <code>CHAR</code>
это хорошо и может рассматриваться как свойство, соответствующее ANSI
SQL92. Ошибка заключается в том, что в сервере MySQL столбцы <code>VARCHAR</code>
трактуются тем же самым образом.

<LI>

В одной таблице может быть только до 255 столбцов типа <code>ENUM</code> и <code>SET</code>.

<LI>

В <code>MIN()</code>, <code>MAX()</code> и других групповых функциях, MySQL сейчас
сравнивает <code>ENUM</code> и <code>SET</code>-столбцы по их строковому значению, а не по
относительной позиции строки в множестве.  

<LI>

При указании параметра <code>safe_mysqld</code> все сообщения из <code>mysqld</code>
направляются в журнал данного потока <code>mysqld</code>. Одна из проблем
заключается в том, что если вы исполняете <code>mysqladmin refresh</code> для того,
чтобы закрыть и заново открыть журнал, то <code>stdout</code> и <code>stderr</code> будут все
еще по-прежнему направлены в старый журнал. При активном использовании
<code>--log</code> следует отредактировать <code>safe_mysqld</code>, чтобы записи велись в
<tt>``hostname`.err'</tt>, а не в <tt>``hostname`.log'</tt>, с тем, чтобы вы могли очищать
пространство, удаляя старые журналы и вызывая <code>mysqladmin refresh</code>.

<LI>

При выполнении команды <code>UPDATE</code> столбцы обновляются слева направо. При
ссылке на обновленный столбец вместо исходной величины будет получена
обновленная величина. Например:


<pre>
mysql&#62; UPDATE tbl_name SET KEY=KEY+1,KEY=KEY+1;
</pre>

Эта команда обновит <code>KEY</code> со значением 2 вместо значения 1.

<LI>

В одном и том же запросе нельзя использовать временные таблицы более
чем один раз. Например, следующая команда выполнена не будет:


<pre>
mysql&#62; SELECT * FROM temporary_table, temporary_table AS t2;
</pre>

<LI>

<code>RENAME</code> не работает с временными таблицами или при использовании
таблицы <code>MERGE</code>.

<LI>

Оптимизатор может обрабатывать <code>DISTINCT</code> по-разному, в зависимости от
того, используются или нет в объединении ``скрытые'' столбцы. В
объединении скрытые столбцы считаются частью результата (даже если они
не показываются), в то время как в обычных запросах скрытые столбцы не
участвуют в сравнении <code>DISTINCT</code>. Возможно, в будущем мы изменим это
правило таким образом, чтобы при выполнении <code>DISTINCT</code> скрытые столбцы
никогда не сравнивались. Например:


<pre>
SELECT DISTINCT mp3id FROM band_downloads
       WHERE userid = 9 ORDER BY id DESC;
</pre>

и


<pre>
SELECT DISTINCT band_downloads.mp3id
       FROM band_downloads,band_mp3
       WHERE band_downloads.userid = 9
       AND band_mp3.id = band_downloads.mp3id
       ORDER BY band_downloads.id DESC;
</pre>

Во втором случае в версии сервера MySQL 3.23.x можно получить две
идентичных строки в результирующем наборе данных (поскольку скрытый
столбец <code>id</code> может варьироваться). Заметьте, что это случается только с
запросами, где в результате отсутствуют столбцы <code>ORDER BY</code>, что не
разрешается делать в ANSI SQL.

<LI>

Поскольку сервер MySQL обеспечивает возможность работать с типами
таблиц, которые не поддерживают транзакции и, следовательно, не
допускают отката данных, то поведение сервера MySQL в некоторых
аспектах отличается от других серверов SQL. Это делается, чтобы
гарантировать, что сервер MySQL никогда не будет нуждаться в откате
SQL-команд. Такое поведение временами может быть несколько неудобным,
так как вследствие этого величины столбцов должны проверяться в
приложении. Однако благодаря такому решению вы получаете действительно
хорошее увеличение скорости, поскольку для сервера MySQL
обеспечивается возможность производить определенные оптимизации, что в
противном случае было бы очень трудно сделать. При попытке установить
столбец в некорректную величину сервер MySQL вместо выполнения отката
будет сохранять в данном столбце ``наиболее вероятную величину'':


<ul>
<LI>

При попытке сохранить в числовом столбце величину, выходящую за
допустимые пределы, сервер MySQL вместо нее будет сохранять в
этом столбце наименьшую или наибольшую допустимую величину.

<LI>

При попытке сохранить в числовом столбце строку, которая
начинается не с числа, сервер MySQL будет сохранять в нем 0.

<LI>

При попытке сохранить <code>NULL</code> в числовом столбце, который не
принимает значения величины <code>NULL</code>, сервер MySQL вместо <code>NULL</code> будет
сохранять 0 или <code>''</code> (пустая строка) (однако это поведение можно
изменить с помощью опции компиляции <code>-DDONT_USE_DEFAULT_FIELDS</code>).

<LI>

MySQL обеспечивает возможность сохранять некоторые ошибочные величины даты в
столбцах <code>DATE</code> и <code>DATETIME</code> (такие как 2000-02-31 или 2000-02-00).
Идея заключается в том, что задача проверки валидности даты не входит в круг
обязанностей сервера баз данных. Если MySQL может сохранить и корректно
воспроизвести какие-либо значение даты, пусть и неправильное - MySQL будет
сохранять такое значение. Если дата полностью неправильна, сервер MySQL будет
сохранять в этом столбце специальную величину даты 0000-00-00.

<LI>

Если устанавливать столбец <code>ENUM</code> в неподдерживаемую величину, то
он будет устанавливаться в значение ошибки <code>empty string</code> с
числовым значением 0.

<LI>

Если устанавливать столбец <code>SET</code> в неподдерживаемую величину, то
эта величина будет игнорироваться.

</ul>

<LI>

При выполнении <code>PROCEDURE</code> на запросе, возвращающем пустой набор, в
некоторых случаях <code>PROCEDURE</code> не будет преобразовывать столбцы.

<LI>

При создании таблицы типа <code>MERGE</code> не происходит проверки, если лежащие в
ее основе таблицы имеют совместимые типы.

<LI>

Сервер MySQL пока еще не может обрабатывать величины <code>NaN</code>, <code>-Inf</code> и <code>Inf</code> с
двойной точностью. Их использование вызовет проблемы при попытке
экспорта или импорта данных. В качестве промежуточного решения мы
должны изменить <code>NaN</code> на <code>NULL</code> (если возможно) и <code>-Inf</code> и <code>Inf</code> на
минимальную или, соответственно, максимально возможную величину
двойной точности.

<LI>

<code>LIMIT</code> на отрицательных числах трактуются как большие положительные
числа.

<LI>

Если <code>ALTER TABLE</code> используется для того, чтобы сначала добавить индекс
<code>UNIQUE</code> к таблице, которая входит в таблицу <code>MERGE</code>, а затем - чтобы
добавить обычный индекс к таблице <code>MERGE</code>, то в случае, если существовал
старый ключ, который не был уникальным в данной таблице, порядок
ключей для таблиц будет различным. Это обусловлено тем, что <code>ALTER
TABLE</code> помещает уникальные ключи перед обычными ключами, чтобы
обеспечить возможность определять дублирующиеся ключи как можно
раньше.
</ul>

<P>
В более ранних версиях MySQL известны следующие ошибки:

</P>

<ul>
<LI>

Можно получить зависший поток при выполнении <code>DROP TABLE</code> на таблице,
которая является одной из числа многих таблиц, заблокированных с
помощью <code>LOCK TABLES</code>.

<LI>

В следующем случае может произойти аварийное завершение процесса:


<ul>
<LI>

Обработчик задержанных вставок имеет незаконченные вставки в
таблицу.

<LI>

<code>LOCK table</code> с помощью <code>WRITE</code>.

<LI>

<code>FLUSH TABLES</code>.
</ul>

<LI>

В версиях сервера MySQL до 3.23.2 команда <code>UPDATE</code>, которая обновляла
ключ с помощью <code>WHERE</code> на тот же самый ключ, может оказаться неудачной,
поскольку данный ключ использовался для поиска записей и одна и та же
строка может быть найдена много раз:


<pre>
UPDATE tbl_name SET KEY=KEY+1 WHERE KEY &#62; 100;
</pre>

Обходным решением является использование:


<pre>
mysql&#62; UPDATE tbl_name SET KEY=KEY+1 WHERE KEY+0 &#62; 100;
</pre>

Эта команда будет работать, поскольку сервер MySQL не будет
использовать индекс на выражениях в утверждении <code>WHERE</code>.

<LI>

До версии сервера MySQL 3.23 все числовые типы трактовались как поля с
фиксированной точкой. Это означает, что необходимо было указывать,
сколько десятичных знаков должно содержать поле с плавающей точкой.
Все результаты возвращались с правильным количеством десятичных
знаков.
</ul>

<P>
В отношении ошибок, связанных со спецификой различных платформ, см. разделы
о компилировании и переносе.

</P>


<H2><A NAME="TODO" HREF="manual.ru_toc.html#TODO">1.10  MySQL и будущее (что предстоит сделать)</A></H2>

<P>
<A NAME="IDX156"></A>
<A NAME="IDX157"></A>

</P>

<P>
В этом разделе приведен список возможностей, которые планируется
реализовать в MySQL.

</P>
<P>
Разработка приведенных в списке пунктов будет проходить примерно в порядке
их перечисления. Если вы считаете, что это порядок следует изменить, то,
пожалуйста, зарегистрируйте лицензию или окажите поддержку MySQL АВ и
сообщите нам, что желательно было бы разработать побыстрее.
See section <A HREF="manual.ru_Introduction.html#Licensing_and_Support">1.6  Лицензии и поддержка MySQL</A>.

</P>
<P>
Планируется, что в будущем стандарт ANSI SQL99 будет поддерживаться
полностью, но с большим числом полезных расширений. Проблема заключается в
том, чтобы сделать все намеченное, не жертвуя скоростью и без компромиссов
при кодировании.

</P>


<H3><A NAME="TODO_MySQL_4.0" HREF="manual.ru_toc.html#TODO_MySQL_4.0">1.10.1  Что планируется реализовать в версии в 4.0</A></H3>

<P>
Уже все сделано. Сейчас мы только исправляем обнаруженные ошибки в MySQL 4.0. See section <A HREF="manual.ru_News.html#News-4.0.x">D.2  Изменения в версии 4.0.x (В разработке; Альфа)</A>.
Сейчас ведется разработка версий 4.1 и 5.0. 

</P>


<H3><A NAME="TODO_MySQL_4.1" HREF="manual.ru_toc.html#TODO_MySQL_4.1">1.10.2  Что планируется реализовать в версии 4.1</A></H3>

<P>
Следующие возможности планируются для реализации в MySQL 4.1. 
Список того, что уже сделано, можно найти в See section <A HREF="manual.ru_News.html#News-4.1.x">D.1  Изменения в версии 4.1.x (Alpha)</A>. 

</P>

<ul>
<LI>

Стабильная поддержка OpenSSL (MySQL 4.0 поддерживает базовую, не 100%-протестированную
поддержку OpenSSL). 
<LI>

Схема перекодировки и синтаксис для поддержки множества разных кодировок. 
<LI>

Встроенная помощь для всех команд из клиента командной строки.
<LI>

Больше тестирования подготовленных выражений и множественных кодировок
для одной таблицы.
</ul>



<H3><A NAME="TODO_MySQL_5.0" HREF="manual.ru_toc.html#TODO_MySQL_5.0">1.10.3  Что планируется реализовать в версии 5.0</A></H3>

<P>
Перечисленные ниже функции планируется реализовать в MySQL 5.0. 

</P>
<P>
Отметим также, что поскольку у нас над новыми проектами работает большое
количество разработчиков, появятся и дополнительные возможности.
Существует - хотя и очень небольшая - вероятность, что эти возможности
будут введены уже в MySQL 4.1.
Список того, что уже сделано в 4.1, можно найти в See section <A HREF="manual.ru_News.html#News-4.1.x">D.1  Изменения в версии 4.1.x (Alpha)</A>.

</P>

<ul>
<LI>

Хранимые процедуры
<LI>

Поддержка внешних ключей для всех типов таблиц.
<LI>

Новый текстовый формат файлов определения структуры таблиц (<tt>`.frm'</tt>-файлы) и 
табличный кэш для определений таблиц. Это позволит нам быстрее получать информацию
о структуре таблиц и более качественно поддерживать внешние ключи. 
<LI>

<code>SHOW COLUMNS FROM table_name</code> (используемый клиентом <code>mysql</code> для
получения информации о столбцах) не должен открывать таблицы, а только 
файл определения структуры. Это занимает меньше памяти и будет работать быстрее. 
<LI>

Отказобезопасная репликация. 
<LI>

Резервное копирование без остановки работы системы с очень малыми
затратами на выполнение. Резервное копирование без остановки работы
системы позволит добавлять новый подчиненный сервер репликации без
демонтажа головного сервера.
<LI>

<code>ROLLUP</code> и <code>CUBE</code> OLAP (Online Analytical Processing) опции группировки для 
приложения хранения данных (Data warehousing). 
<LI>

Обеспечить возможность для <code>DELETE</code>, работающей с <code>MyISAM</code>-таблицами,
использовать кэш записей. Чтобы осуществить это, нам необходимо
обновлять кэш записей потока при обновлении <tt>`.MYD'</tt>-файла.
<LI>

При использовании <code>SET CHARACTER SET</code> мы должны преобразовать весь запрос целиком, а не
только строки. Это позволит пользователям использовать сконвертированные символы в 
именах баз данных, таблиц и столбцов. 
<LI>

Решить проблему, заключающуюся в том, что оператор <code>RENAME TABLE</code>,
использующийся для активной <code>MERGE</code>-таблицы, может повредить таблицу.
<LI>

Добавить к клиент-серверному протоколу возможность получения
информации о прогрессе выполнения для сложных и длительных запросов.
<LI>

Реализовать <code>RENAME DATABASE</code>. Чтобы сделать эту команду безопасной для
всех обработчиков таблиц, она будет работать следующим образом:

<ul>
<LI>

Создавать новую базу данных.
<LI>

Переименовывать каждую таблицу, помещаемую в новую базу данных, как
это обычно делается командой <code>RENAME</code>.
<LI>

Удалять старую базу данных.
<LI>

Добавить корректную поддержку <code>VARCHAR</code> (такая поддержка уже имеется для
<code>MyISAM</code>).
</ul>

<LI>

Оптимизировать тип <code>BIT</code>, чтобы он занимал 1 бит (сейчас 1 символ).
<LI>

Новое изменение внутреннего файлового интерфейса. Это позволит сделать
обработку всех файлов более однотипной и упростит добавление такой
функциональности, как <code>RAID</code> (текущая реализация - это просто хак).
<LI>

Улучшенные таблицы в памяти (<code>HEAP</code>):

<ul>
<LI>

Записи динамического размера
<LI>

Более быстрая обработка строк (сокращение операций копирования)
</ul>

</ul>



<H3><A NAME="TODO_future" HREF="manual.ru_toc.html#TODO_future">1.10.4  Что должно быть сделано в ближайшем будущем</A></H3>


<ul>
<LI>

Не разрешать более чем определенному количеству потоков одновременно
заниматься восстановлением <code>MyISAM</code>-таблиц.
<LI>

Изменение <code>INSERT ... SELECT</code> с целью оптимального использования
одновременных вставок.
<LI>

Возвращать истинные типы полей при выполнении <code>SELECT MIN(столбец) 
GROUP BY</code>.
<LI>

Множественные результаты.
<LI>

Сделать возможным задание <code>long_query_time</code> с градацией в микросекундах.
<LI>

Cлинковать код <code>myisampack</code> прямо в сервер.
<LI>

Перенос кода MySQL на QNX.
<LI>

Перенос кода MySQL на BeOS.
<LI>

Перенос MySQL-клиентов на LynxOS.
<LI>

Добавление временного буферного кэша ключей во время выполнения
<code>INSERT</code>/<code>DELETE</code>/<code>UPDATE</code>, чтобы обеспечить изящное восстановление в
случае, если индексный файл окажется полностью заполненным.
<LI>

Если выполняется работа <code>ALTER TABLE</code> над таблицей, которая имеет
символическую ссылку на другой диск, создавать временные таблицы на
этом диске.
<LI>

Реализация типа <code>DATE</code>/<code>DATETIME</code> с корректной обработкой информации о
временных зонах, чтобы упростить работу с форматом даты для различных
временных зон.
<LI>

FreeBSD и MIT-pthreads; отнимают ли спящие потоки время процессора?
<LI>

Проверить, занимают ли блокированные потоки время процессора.
<LI>

Исправить <code>configure</code> так, чтобы можно было компилировать все библиотеки
(подобно <code>MyISAM</code>) без потоков.
<LI>

Добавить опцию периодического сброса на диск страниц ключей для таблиц
с запрещенными, в случае, если они некоторое время не использовались.
<LI>

Возможность связывания по частям ключа (проблема оптимизации).
<LI>

<code>INSERT SQL_CONCURRENT</code> и <code>mysqld --concurrent-insert</code> для выполнения
одновременной вставки в конец файла, если файл закрыт для чтения.
<LI>

Серверные курсоры.
<LI>

Проверить, работает ли <code>lockd</code> с современными ядрами Linux; если нет, то
внести исправления в <code>lockd</code>! Чтобы это протестировать, необходимо
запустить <code>mysqld</code> с <code>--enable-locking</code> и выполнить различные наборы
тестов на <code>fork*</code>. Они не должны выявить никаких ошибок, если <code>lockd</code>
работает.
<LI>

Возможность использования SQL-переменных в <code>LIMIT</code>, как, например, в
<code>LIMIT @a,@b</code>.
<LI>

Возможность обновления переменных в операторах <code>UPDATE</code>. Например:
<code>UPDATE TABLE foo SET @a=a+b,a=@a, b=@a+c</code>.
<LI>

Изменение: если пользовательские переменные обновляются, то сделать
так, чтобы их можно было использовать с <code>GROUP BY</code>, как в следующем
примере: <code>SELECT id, @a:=COUNT(*), SUM(sum_col)/@a FROM table_name
GROUP BY id</code>.
<LI>

Запретить автоматическое внесение <code>DEFAULT</code>-значений (значений по
умолчанию) в столбцы. Выдавать ошибку в случае использования <code>INSERT</code>,
не содержащего столбца, для которого не определено значение по
умолчанию.
<LI>

Исправить <code>libmysql.c</code> так, чтобы две команды <code>mysql_query()</code>, идущие
подряд, могли работать без чтения результатов или с выдачей хорошего
сообщения об ошибке, если это все-таки происходит.
<LI>

Проверка, почему функция <code>ctime()</code> потоков MIT-pthreads не работает на
некоторых FreeBSD системах.
<LI>

Добавление опции <code>IMAGE</code> опции к <code>LOAD DATA INFILE</code>, чтобы не обновлять
поля <code>TIMESTAMP</code> и <code>AUTO_INCREMENT</code>.
<LI>

Добавляемый  синтаксис  <code>LOAD DATE INFILE ... UPDATE</code>.
<LI>

Для таблиц с первичными ключами: если данные содержат первичный ключ,
строки, соответствующие этому первичному ключу, обновляются остальными
столбцами. Столбцы, которых нет во входных данных,  остаются без
изменений.
<LI>

Для таблиц с первичными ключами, для которых отсутствует некоторая
часть ключа во входном потоке данных или которые не имеют первичного
ключа, входные данные интерпретируются сейчас как <code>LOAD DATA INFILE ...
REPLACE INTO</code>.
<LI>

Сделать понятный синтаксис <code>LOAD DATA INFILE</code>, подобно следующему:

<pre>
LOAD DATA INFILE 'file_name.txt' INTO TABLE tbl_name
     TEXT_FIELDS (text_field1, text_field2, text_field3)
     SET table_field1=CONCAT(text_field1, text_field2),
         table_field3=23
     IGNORE text_field3
</pre>

Такой синтаксис может быть использован для пропуска лишних столбцов в
текстовом файле или для обновления столбцов на основе выражений,
построенных по прочитанным данным.

<LI>

<code>LOAD DATA INFILE 'file_name' INTO TABLE 'table_name' ERRORS TO
err_table_name</code>. Этот оператор задает запись всех ошибок и
предупреждений в таблицу <code>err_table_name</code>, которая будет иметь
структуру, подобную следующей:

<pre>
line_number   - номер строки в файле данных
error_message - сообщение об ошибке/предупреждение
  и, возможно
data_line     - строка из файла данных
</pre>

<LI>

Автоматический вывод из <code>mysql</code> в Netscape.
<LI>

<code>LOCK DATABASES</code> (с различными опциями.)
<LI>

Функции: <code>ADD_TO_SET(value,set)</code> и <code>REMOVE_FROM_SET(value,set)</code>.
<LI>

Добавить использование <code>t1 JOIN t2 ON ... и t1 JOIN t2 USING ...</code> В
данное время можно использовать этот синтаксис только с <code>LEFT JOIN</code>.
<LI>

Намного большее количество переменных для <code>SHOW STATUS</code>. Фиксирование
операций чтения и обновления. Выборки по 1 таблице и выборки по
связям. Среднее число таблиц в выборке. Большое число запросов <code>ORDER
BY</code> и <code>GROUP BY</code>.
<LI>

Если вы прерываете выполнение запроса в середине, необходимо открыть
другое соединение и убить старый выполнявшийся запрос. В свою очередь,
сервер должен распознавать это на своей стороне.
<LI>

Добавить интерфейс обработчика для табличных данных таким образом,
чтобы была возможность использовать его как системную таблицу. Это
будет работать несколько медленно в случае запрашивания информации обо
всех таблицах, но очень гибко. Должен быть реализован <code>SHOW INFO FROM
tbl_name</code> для основных данных о таблицах.
<LI>

Сделать  возможным  <code>SELECT a FROM crash_me LEFT JOIN crash_me2 USING
(a)</code>; в  данном  случае  подразумевается, что  <code>a</code>  будет  браться  из 
таблицы  <code>crash_me</code>.
<LI>

Oracle-подобный <code>CONNECT BY PRIOR ...</code> для изучения иерархических
структур.
<LI>

<code>mysqladmin copy database new-database</code>; требуется добавить команду <code>COPY</code>
в <code>mysqld</code>.
<LI>

Список процессов должен показывать количество запросов/потоков.
<LI>

<code>SHOW HOSTS</code> для распечатки информации о кэше имен хостов.
<LI>

Опции <code>DELETE</code> и <code>REPLACE</code> для оператора <code>UPDATE</code> (оператор с этими опциями
будет удалять строки при получении ошибки дублирующихся ключей во
время обновления).
<LI>

Изменить формат <code>DATETIME</code>, чтобы сохранять  порции в секундах.
<LI>

Добавить все недостающие типы ANSI92 и ODBC 3.0.
<LI>

Изменить имена таблиц с пустых строк на <code>NULL</code> для вычисляемых столбцов.
<LI>

Не использовать <code>Item_copy_string</code> для числовых значений во избежание
преобразований число-&#62;строка-&#62;число в случае: <code>SELECT COUNT(*)*(id+0)
FROM table_name GROUP BY id</code> 
<LI>

Сделать возможным использование новой библиотеки <code>GNU regexp</code> вместо
текущей (библиотека <code>GNU</code> должна быть намного быстрее, чем предыдущая).
<LI>

Сделать так, чтобы <code>ALTER TABLE</code> не срывал работу <code>INSERT DELAYED</code>.
<LI>

Сделать следующее исправление: если на столбцы есть ссылки в выражении
<code>UPDATE</code>, они будут содержать значения, хранившиеся там до запуска
процесса обновления.
<LI>

Добавить эмуляцию <code>pread()</code>/<code>pwrite()</code> под Windows, чтобы сделать
возможными одновременные вставки.
<LI>

Разработать анализатор файла журнала для анализа и выдачи информации о
том, какие таблицы используются наиболее часто, насколько часто
выполняются мультитабличные связи и т.д. Это помогло бы пользователям
выбирать такую конструкцию таблиц и областей, которая могла бы быть
оптимизирована для выполнения наиболее эффективных запросов.
<LI>

Добавить <code>SUM(DISTINCT)</code>.
<LI>

Добавить групповые функции <code>ANY()</code>, <code>EVERY()</code> и <code>SOME()</code>. В ANSI SQL эти
функции работают только с булевыми столбцами, но мы можем расширить
эти функции, чтобы они работали с любыми столбцами/выражениями,
применив: <code>value == 0 -&#62; FALSE</code> и <code>value &#60;&#62; 0 -&#62; TRUE</code>.
<LI>

Добиться, чтобы тип для <code>MAX(column)</code> был таким же как и тип столбцов:

<pre>
mysql&#62; CREATE TABLE t1 (a DATE);
mysql&#62; INSERT INTO t1 VALUES (NOW());
mysql&#62; CREATE TABLE t2 SELECT MAX(a) FROM t1;
mysql&#62; SHOW COLUMNS FROM t2;
</pre>

<LI>

Придумать хороший синтаксис для оператора, который будет выполнять <code>UPDATE</code>
над строкой при наличии таковой, и <code>INSERT</code> новой строки, если строка
отсутствует (подобно тому, как <code>REPLACE</code> работает с <code>INSERT</code> / <code>DELETE</code>).
</ul>



<H3><A NAME="TODO_sometime" HREF="manual.ru_toc.html#TODO_sometime">1.10.5  То, что надо сделать когда-нибудь</A></H3>


<ul>
<LI>

Реализовать  функцию: <code>get_changed_tables(timeout,table1,table2,...)</code>.
<LI>

Изменить чтение таблиц так, чтобы везде, где возможно. использовалась
memmap. Сейчас memmap используется только для уплотненных таблиц.
<LI>

Сделать лучше автоматический код временных меток (timestamp).
Добавлять временные метки в журнал обновлений при помощи <code>SET
TIMESTAMP=#;</code>.
<LI>

Использовать в некоторых местах семафор чтения/записи для увеличения
скорости.
<LI>

Обеспечить полную поддержку внешних ключей в <code>MyISAM</code>-таблицах
(возможно, после реализации хранимых процедур с триггерами).
<LI>

Подготовить простые обзоры (сначала по одной таблице, позднее по
любому выражению).
<LI>

Реализовать автоматическое закрытие некоторых таблиц, если таблица,
временная таблица или временные файлы получат ошибку 23 (недостаточно
открытых файлов).
<LI>

Если обнаружится поле=#, заменить все местонахождения поля на #.
Сейчас такое делается только для некоторых простых случаев.
<LI>

Заменить все константные выражения вычисляемыми, если возможно.
<LI>

Реализовать оптимизацию ключ=выражение. К данному моменту делается
оптимизация только для ключ=поле или ключ=константа.
<LI>

Связывать некоторые функции копирования для улучшения кода.
<LI>

Заменить <code>sql_yacc.yy</code> внутритекстовым синтаксическим анализатором,
чтобы уменьшить ее размер и получать лучшие сообщения об ошибке (5
дней).
<LI>

Изменить собственный синтаксический анализатор так, чтобы он
использовал только одно правило для различного количества аргументов в
функции.
<LI>

Использовать полные вычисляемые имена в части сортировки (для
ACCESS97).
<LI>

<code>MINUS</code>, <code>INTERSECT</code> и  <code>FULL OUTER JOIN</code> (в настоящее время поддерживаются
<code>UNION</code> [в 4.0] и <code>LEFT OUTER JOIN</code>).
<LI>

<code>SQL_OPTION MAX_SELECT_TIME=#</code>, чтобы устанавливать ограничения по
времени для запроса.
<LI>

Сделать так, чтобы обновляемый журнал записывался в базу данных..
<LI>

Сделать добавления в <code>LIMIT</code>, чтобы можно было делать восстановление
данных с конца результирующего набора.
<LI>

Сигналы предупреждений для функций соединения/чтения/записи клиента.
<LI>

Необходимо обратить внимание на изменения на <code>safe_mysqld</code>; согласно
FSSTND (которому пытается следовать Debian) PID-файлы должны
помещаться в <tt>`/var/run/&#60;progname&#62;.pid'</tt>, a файлы журналов - в <tt>`/var/log'</tt>.
Было бы хорошо, если бы было можно поместить "<tt>`DATADIR'</tt>" в первое
объявление "<tt>`pidfile'</tt>" и "<tt>`log'</tt>", чтобы местоположение этих файлов можно было
изменить одним оператором.
<LI>

Разрешать клиенту запрашивать ведение журналов.
<LI>

Добавить использование <code>zlib()</code> для <code>gzip</code>-файлов в <code>LOAD DATA INFILE</code>.
<LI>

Исправить сортировку и группирование <code>BLOB</code>-столбцов (сейчас проблема
частично решена).
<LI>

Хранимые процедуры. Рассматриваются также триггеры.
<LI>

Простой (атомарный) язык обновления, который может быть использован
для написания циклов и т.п. в MySQL-сервере.
<LI>

Произвести изменения для того, чтобы пользоваться семафорами при
подсчете потоков. Но сначала нужно реализовать библиотеку семафоров
для потоков MIT-pthreads.
<LI>

Не устанавливать новое значение во время установки колонки в 0. вместо
этого использовать <code>NULL</code>.
<LI>

Добавить полную поддержку круглых скобок для <code>JOIN</code>.
<LI>

В качестве альтернативы одному потоку/соединению управлять пулом
потоков при обработке запросов.
<LI>

Обеспечить возможность получать более чем одну блокировку при помощи
<code>GET_LOCK</code>. Когда это будет реализовано, потребуется еще сделать
обработку возможных тупиковых ситуаций, которые привнесет данное
изменение.
</ul>

<P>
Время отводится согласно объемам работ, а не реальному времени.

</P>


<H3><A NAME="TODO_unplanned" HREF="manual.ru_toc.html#TODO_unplanned">1.10.6  То, чего не планируется делать</A></H3>


<ul>
<LI>

Такого не существует; мы стремимся к полной совместимости с ANSI
92/ANSI 99.
</ul>



<H2><A NAME="Comparisons" HREF="manual.ru_toc.html#Comparisons">1.11  Сравнение MySQL с другими СУБД</A></H2>

<P>
<A NAME="IDX158"></A>
<A NAME="IDX159"></A>

</P>
<P>
Наши пользователи провели исследование скорости работы нескольких обычных
серверов баз данных и серверов баз данных с открытым кодом. Нам известно о
проводившихся сравнениях MySQL с сервером Oracle, сервером DB/2, Microsoft
SQL Server и другими коммерческими программными продуктами. Однако по
причинам юридического характера опубликовать результаты некоторых из этих
сравнений в документации не представляется возможным.

</P>
<P>
В данном разделе приведены результаты сравнения с mSQL (проводившегося по
историческим причинам) и с PostgreSQL (так как эта СУБД также
распространяется как ПО с открытым кодом). Если у вас имеются результаты
подобного тестирования, которые мы могли бы опубликовать, просьба
связаться с нами по адресу <a HREF="mailto:benchmarks@mysql.com">benchmarks@mysql.com</a>.

</P>
<P>
Сравнения всех имеющихся функций и типов а также данные о пределах
возможностей различных СУБД вы найдете на веб-странице <code>crash-me</code>,
расположенной по адресу  <a HREF="http://www.mysql.com/information/crash-me.php">http://www.mysql.com/information/crash-me.php</a>.

</P>



<H3><A NAME="Compare_mSQL" HREF="manual.ru_toc.html#Compare_mSQL">1.11.1  Сравнение MySQL и mSQL</A></H3>

<P>
<A NAME="IDX160"></A>

</P>
<DL COMPACT>

<DT><strong>Производительность</strong>
<DD>
Точные результаты сравнения скорости работы можно найти в постоянно
пополняющейся библиотеке проведенных тестов по MySQL (see section <A HREF="manual.ru_MySQL_Optimisation.html#MySQL_Benchmarks">5.1.4  Набор тестов MySQL (The MySQL Benchmark Suite)</A>).

СУБД mSQL, благодаря отсутствию затрат дополнительных
ресурсов на создание потоков, а также за счет компактности синтаксического
анализатора, небольшого количества функций и упрощенной системы
безопасности, должна выигрывать в скорости выполнения:


<ul>
<LI>

тестов на выполнение циклов соединение-отсоединение, при каждом
соединении выполняющих какой-нибудь простой запрос

<LI>

операций <code>INSERT</code> над простыми таблицами, содержащими небольшое
количество столбцов и ключей

<LI>

<code>CREATE TABLE</code>  и  <code>DROP TABLE</code>

<LI>

операций <code>SELECT</code> чего-нибудь, кроме индексов (очень просто выполняется
просмотр таблицы)
</ul>

Поскольку такие операции очень просты, при больших затратах ресурсов на
начальном этапе выиграть в скорости их выполнения достаточно сложно.
Поэтому лучшие результаты MySQL может показать лишь после установки
соединения. С другой стороны, MySQL значительно превосходит mSQL (и
большинство других реализаций SQL) при:


<ul>
<LI>

выполнении сложных операций <code>SELECT</code>.

<LI>

загрузке объемных результатов (протокол, применяющийся в MySQL,
превосходит другие по качеству, скорости и безопасности).

<LI>

работе с таблицами, имеющими строки переменной длины, так как
обработка данных в MySQL реализована более эффективно и в нем
допускается создание индексов для столбцов с типом <code>VARCHAR</code>.

<LI>

обработке таблиц, содержащих большое количество столбцов.

<LI>

обработке таблиц с длинными записями.

<LI>

выполнении операций <code>SELECT</code> с несколькими выражениями.

<LI>

выполнении операций <code>SELECT</code> над объемными таблицами.

<LI>

одновременной работе с несколькими соединениями. Архитектура MySQL
Server является полностью многопоточной. Для каждого соединения
создается отдельный поток и, таким образом, ни одному из них не
приходится ожидать завершения другого (если, конечно, один из потоков
не занимается изменением таблицы, доступ к которой требуется другому
потоку). В mSQL же после установки одного соединения остальным
приходится ожидать его завершения, вне зависимости от сложности и
времени выполнения примененного в этом соединении запроса. По
завершении первого соединения начинает обслуживаться второе, а все
остальные снова ждут своей очереди.

<LI>

связывании таблиц. При изменении порядка таблиц в вызове <code>SELECT</code>,
скорость работы mSQL может упасть ниже всяких допустимых пределов. При
выполнении комплекта тестов производительности выполнение такой
операции заняло в 15000 раз больше времени, чем у MySQL.
Причиной столь плачевно низкой производительности является отсутствие
в mSQL оптимизатора связей, который обеспечивал бы оптимальность
используемого порядка соединения таблиц. Однако если в mSQL2
расположить таблицы в правильном порядке, не перегружать оператор
<code>WHERE</code> и использовать индексные столбцы, связывание будет выполнено
относительно быстро! (see section <A HREF="manual.ru_MySQL_Optimisation.html#MySQL_Benchmarks">5.1.4  Набор тестов MySQL (The MySQL Benchmark Suite)</A>).

<LI>

<code>ORDER BY</code>  и  <code>GROUP BY</code>.

<LI>

<code>DISTINCT</code>.

<LI>

работе со столбцами с типами <code>TEXT</code> или <code>BLOB</code>.
</ul>

<DT><strong>Возможности SQL</strong>
<DD>

<ul>
<LI><code>GROUP BY</code> и <code>HAVING</code>.

В mSQL функция <code>GROUP BY</code> отсутствует вовсе. В MySQL
Server же <code>GROUP BY</code> имеется и работает как с <code>HAVING</code>, так и со следующими
функциями: <code>COUNT()</code>, <code>AVG()</code>, <code>MIN()</code>, <code>MAX()</code>, <code>SUM()</code>и <code>STD()</code>. 
Работа оператора
<code>COUNT(*)</code> оптимизирована в расчете на быстрый возврат результатов, если
оператор <code>SELECT</code> берет данные из одной таблицы, не используя никаких других
столбцов и выражения <code>WHERE</code>. Функции <code>MIN()</code> и <code>MAX()</code> могут принимать
строковые аргументы.

<LI>

<code>INSERT</code> и <code>UPDATE</code> с вычислениями. MySQL может выполнять
вычисления непосредственно в теле вызова <code>INSERT</code> или <code>UPDATE</code>. Вот 
пример:


<pre>
mysql&#62; UPDATE SET x=x*10+y WHERE x&#60;20;
</pre>

<LI>

Псевдонимы. В MySQL имеется возможность определения псевдонимов
столбцов.

<LI>

Квалификация имен столбцов. В MySQL, при условии уникальности
имени столбца среди таблиц, использующихся при выполнении запроса, нет
необходимости приводить его полный квалификатор.

<LI>

<code>SELECT</code> с функциями. Функций в MySQL много (даже слишком много,
чтобы их можно было перечислить здесь; see section <A HREF="manual.ru_Reference.html#Functions">6.3  Функции, используемые в операторах <code>SELECT</code> и <code>WHERE</code></A>).
</ul>

<DT><strong>Эффективность использования дискового пространства</strong>
<DD>
Можно ли уменьшить таблицы, и если да, то насколько? В MySQL 
имеются очень точные типы данных, а с их помощью можно создавать таблицы,
занимающие минимум пространства. Примером чрезвычайно полезного типа
данных MySQL может служить <code>MEDIUMINT</code>, длина значений которого составляет 3
байта. При наличии 100 миллионов записей значение экономии даже одного
байта на каждой из них трудно переоценить. Выбор типов столбцов в mSQL2
значительно беднее, и поэтому снизить размеры таблиц заметно трудней.

<DT><strong>Стабильность</strong>
<DD>
Объективно оценить этот параметр трудно. Подробно вопрос стабильности
MySQL рассмотрен в разделе section <A HREF="manual.ru_Introduction.html#Stability">1.4.3  Насколько стабильным является MySQL?</A>. Данных и опыта,
позволяющих судить о стабильности mSQL, у нас не имеется.

<DT><strong>Стоимость</strong>
<DD>
Цена лицензии является немаловажным фактором. По гибкости лицензии MySQL
Server превосходит mSQL, да и стоит меньше. Вне зависимости от того, какой
из продуктов вы выберете, не забудьте принять во внимание стоимость
лицензии или технической поддержки по электронной почте.

<DT><strong>Perl-интерфейсы</strong>
<DD>
Perl-интерфейсы MySQL практически идентичны своим аналогам из mSQL,
хотя и обладают некоторыми дополнительными возможностями.

<DT><strong>JDBC (Java)</strong>
<DD>
В настоящее время для MySQL разработано много разнообразных
<code>JDBC</code>-драйверов:


<ul>
<LI>

MySQL Connector/J - родной драйвер для Java. 
Версия 3.x выпускается под двойным лицензированием (GPL и коммерческая лицензия). 

<LI>

Драйвер Resin: коммерческий JDBC-драйвер, распространяющийся как ПО с
открытым кодом. <a HREF="http://www.caucho.com/projects/jdbc-mysql/index.xtp">http://www.caucho.com/projects/jdbc-mysql/index.xtp</a> 

<LI>

Драйвер gwe: Java-интерфейс, разработанный компанией GWE technologies
(более не поддерживается).

<LI>

Драйвер jms: улучшенная версия драйвера gwe, разработанная Кельвином
Заоку Жу (Xiaokun Kelvin ZHU, <a HREF="mailto:X.Zhu@brad.ac.uk">X.Zhu@brad.ac.uk</a>) (более не
поддерживается).

<LI>

Драйвер twz: JDBC-драйвер типа 4, разработанный Терренсом В. Зеллерсом
(Terrence W. Zellers <a HREF="mailto:zellert@voicenet.com">zellert@voicenet.com</a>). Это коммерческий продукт,
но в частном порядке и для образовательных целей им можно пользоваться
бесплатно (более не поддерживается).
</ul>

Рекомендуется использование драйвера mm. Драйвер Resin тоже, возможно,
неплох (по крайней мере, результаты тестов выглядят хорошо), но
достаточного количества информации по нему у нас пока нет. Мы знаем, что в
mSQL имеется JDBC-драйвер, но для сравнения у нас не хватает опыта работы
с ним.

<DT><strong>Скорость разработки</strong>
<DD>
Основная команда разработчиков MySQL немногочисленна, но мы
привыкли писать код на C и C++ очень быстро. Так как потоки, функции,
оператор <code>GROUP BY</code> и т.п. в mSQL все еще не реализованы, этой системе еще
долго придется догонять нас. Более точное представление о положении вещей
вы сможете получить, прочитав файл <tt>`HISTORY'</tt> от mSQL за последний год, и
сравнив его с разделом новостей (News) MySQL Reference Manual (see section <A HREF="manual.ru_News.html#News">D  История изменений и обновлений MySQL</A>). 
После этого сомнений относительно того, какая
система развивалась быстрее, остаться не должно.

<DT><strong>Инструментальные программы</strong>
<DD>
Как для mSQL, так и для MySQL сторонними разработчиками было
создано множество интересных инструментальных средств. Поскольку перенос
программ из mSQL в MySQL сложностей не представляет, почти все
интересные приложения, разработанные первоначально для mSQL,имеются и в
вариантах для MySQL. В комплект поставки MySQL входит
простая программа <code>msql2mysql</code>, исправляющая различия в написании наиболее
популярных функций C API между mSQL и MySQL. Вызовы функции
<code>msqlConnect()</code>, например, она заменяет на <code>mysql_connect()</code>. Обычно для
перевода клиентской программы из mSQL в MySQL оказывается
достаточно минимальных усилий.
</DL>



<H4><A NAME="Using_mSQL_tools" HREF="manual.ru_toc.html#Using_mSQL_tools">1.11.1.1  Как конвертировать инструментальные средства mSQL в MySQL</A></H4>

<P>
<A NAME="IDX161"></A>
<A NAME="IDX162"></A>

</P>
<P>
Согласно нашему опыту, переделать такие инструментальные программы, как
<code>msql-tcl</code> и <code>msqljava</code>, созданные на основе C API mSQL для работы с C API
MySQL, несложно.

</P>
<P>
Сделать это можно так:

</P>

<ol>
<LI>

Пропустите исходный файл через сценарий оболочки <code>msql2mysql</code>. Для этого
необходима программа <code>replace</code>, распространяющаяся вместе с MySQL
Server.

<LI>

Откомпилируйте.

<LI>

Исправьте все найденные компилятором ошибки.
</ol>

<P>
Различия между реализациями C API в mSQL и MySQL заключаются в следующем:

</P>

<ul>
<LI>

В качестве типа в MySQL используется структура <code>MYSQL</code> (в mSQL в этом
качестве применяется <code>int</code>).

<LI>

Оператор <code>mysql_connect()</code> принимает в качестве параметра указатель на
структуру <code>MYSQL</code>. Такую структуру можно легко объявить как глобальную
или создать ее с помощью <code>malloc()</code>. Кроме того, <code>mysql_connect()</code> 
принимает еще два параметра, в которых указываются имя пользователя и
его пароль. Для использования данной структуры по умолчанию этим
параметрам нужно присвоить значения <code>NULL</code>, <code>NULL</code>.

<LI>

<code>mysql_error()</code> принимает в качестве параметра структуру <code>MYSQL</code>. При
переносе старого кода достаточно добавить параметр в вызов
<code>msql_error()</code>.

<LI>

Для всех ошибок MySQL возвращает номер ошибки и текстовое
сообщение. mSQL же возвращает только текстовое сообщение об ошибке.

<LI>

Существует некоторая несовместимость, обусловленная тем, что в MySQL
Server можно создавать несколько соединений с сервером из одного и того же
процесса.
</ul>



<H4><A NAME="Protocol_differences" HREF="manual.ru_toc.html#Protocol_differences">1.11.1.2  Различия в клиент-серверных коммуникационных протоколах mSQL и MySQL</A></H4>

<P>
<A NAME="IDX163"></A>
<A NAME="IDX164"></A>
<A NAME="IDX165"></A>

</P>
<P>
Различий здесь имеется более чем достаточно для того, чтобы поддержку
обоих протоколов одновременно обеспечить было невозможно (или, по меньшей
мере, очень сложно).

</P>
<P>
Ниже приведены наиболее заметные различия между коммуникационными
протоколами MySQL и mSQL:

</P>

<ul>
<LI>

В буфере сообщения может находиться несколько столбцов результатов.

<LI>

Буферы сообщений динамически увеличиваются, если запрос или результат
не умещаются в их текущем объеме, ограничение на объем буфера
устанавливается сервером и клиентом.

<LI>

Все пакеты нумеруются, что позволяет обнаружить среди них
повторяющиеся или пропуски.

<LI>

Все значения столбцов отправляются в виде ASCII. Длины строк и
столбцов посылаются в упакованном виде в двоичном виде (1, 2 или 3
байта).

<LI>

MySQL может считывать результаты без буферизации (без необходимости
сохранения всех данных в клиенте).

<LI>

Если одна операция считывания/записи занимает более 30 секунд, сервер
закрывает соединение.

<LI>

Если соединение бездействует в течение 8 часов, сервер его закрывает.
</ul>



<H4><A NAME="Syntax_differences" HREF="manual.ru_toc.html#Syntax_differences">1.11.1.3  Различия в синтаксисе SQL между mSQL 2.0 и MySQL</A></H4>

<P>
<strong>Типы  столбцов</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Имеются следующие дополнительные типы (не считая остальных; see section <A HREF="manual.ru_Reference.html#CREATE_TABLE">6.5.3  Синтаксис оператора <code>CREATE TABLE</code></A>):

<ul>
<LI>

<code>ENUM</code> - тип для одного набора строк.
<LI>

<code>SET</code> - тип для нескольких наборов строк.
<LI>

<code>BIGINT</code> - тип для 64-битовых целых чисел.
</ul>

<DT><code></code>
<DD>
Кроме того, MySQL поддерживает следующие атрибуты дополнительных
типов:

<ul>
<LI>

<code>UNSIGNED</code> - опция для целочисленных столбцов и столбцов чисел с
плавающей запятой.
<LI>

<code>ZEROFILL</code> - опция для целочисленных столбцов.
<LI>

<code>AUTO_INCREMENT</code> - опция для целочисленных столбцов, являющихся
первичными ключами. See section <A HREF="manual.ru_Clients.html#mysql_insert_id">8.4.3.130  <code>mysql_insert_id()</code></A>.
<LI>

<code>DEFAULT</code> - значение для всех столбцов.
</ul>

<DT><code>mSQL2</code>
<DD>
Типы столбцов в mSQL соответствуют приведенным в таблице типам MySQL:
<TABLE BORDER WIDTH="100%">
<TR><TD><strong>Тип в mSQL</strong> </TD><TD> <strong>Соответствующий тип в MySQL</strong>
</TD></TR>
<TR><TD><code>CHAR(len)</code> </TD><TD> <code>CHAR(len)</code>
</TD></TR>
<TR><TD><code>TEXT(len)</code> </TD><TD> <code>TEXT(len)</code>. <code>len</code> - максимальная  длина. Работает <code>LIKE</code>.
</TD></TR>
<TR><TD><code>INT</code> </TD><TD> <code>INT</code>. Со множеством опций!
</TD></TR>
<TR><TD><code>REAL</code> </TD><TD> <code>REAL</code>. Или  <code>FLOAT</code>. Имеются как 4-битовые, так и 8-битовые варианты.
</TD></TR>
<TR><TD><code>UINT</code> </TD><TD> <code>INT UNSIGNED</code>
</TD></TR>
<TR><TD><code>DATE</code> </TD><TD> <code>DATE</code>. Использует формат ANSI  SQL, а не собственный формат mSQL.
</TD></TR>
<TR><TD><code>TIME</code> </TD><TD> <code>TIME</code>
</TD></TR>
<TR><TD><code>MONEY</code> </TD><TD> <code>DECIMAL(12,2)</code>. Значение с фиксированной точкой и двумя знаками после нее.
</TD></TR>
</TABLE>
</DL>

<P>
<strong>Создание индексов</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Индексы могут указываться во время создания таблицы при помощи оператора
<code>CREATE TABLE</code>.
<DT><code>mSQL</code>
<DD>
Индексы создаются после создания таблицы с помощью операторов <code>CREATE
INDEX</code>.
</DL>

<P>
<strong>Вставка уникального идентификатора в таблицу</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Для указания типа столбца достаточно использовать <code>AUTO_INCREMENT</code>. See section <A HREF="manual.ru_Clients.html#mysql_insert_id">8.4.3.130  <code>mysql_insert_id()</code></A>.
<DT><code>mSQL</code>
<DD>
Необходимо создать в таблице <code>SEQUENCE</code> и выбрать столбец <code>_seq</code>.
</DL>

<P>
<strong>Получение уникального идентификатора для строки</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Следует добавить к таблице первичный или уникальный ключ и использовать
его. Новое в версии 3.23.11: если ключ <code>PRIMARY</code> или <code>UNIQUE</code> состоит только
из одного целочисленного столбца, к нему можно обращаться и как к <code>_rowid</code>.
<DT><code>mSQL</code>
<DD>
Следует использовать столбец <code>_rowid</code>. Нельзя забывать о том, что <code>_rowid</code>
может, в зависимости от множества факторов, со временем измениться.
</DL>

<P>
<strong>Получение времени последнего изменения столбца</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Нужно вставить в таблицу столбец <code>TIMESTAMP</code>. Этому столбцу автоматически
присваиваются текущая дата и время при вызове операторов <code>INSERT</code> или
<code>UPDATE</code>, если ему не присвоить определенного значения или присвоить
значение <code>NULL</code>.
<DT><code>mSQL</code>
<DD>
Следует использовать столбец <code>_timestamp</code>.
</DL>

<P>
<strong>Сравнение значений <code>NULL</code></strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
MySQL соответствует стандарту ANSI SQL, поэтому сравнение с <code>NULL</code>
всегда возвращает результат <code>NULL</code>.
<DT><code>mSQL</code>
<DD>
В mSQL выражение <code>NULL = NULL</code> имеет значение TRUE. Поэтому при переводе
старого кода из mSQL в MySQL <code>=NULL</code> необходимо заменить на <code>IS NULL</code>,
а <code>&#60;&#62;NULL</code> - на <code>IS NOT NULL</code>.
</DL>

<P>
<strong>Сравнение строк</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Обычно сравнение строк проводится без учета регистра символов, с порядком
сортировки, который определяется текущим набором символов (ISO-8859-1
Latin1 по умолчанию). Если вам это не подходит, необходимо установить при
объявлении столбцов атрибут <code>BINARY</code>, тогда сравнение будет проводиться в
соответствии с ASCII-порядком, установленным на сервере MySQL.
<DT><code>mSQL</code>
<DD>
Все сравнения строк проводятся с учетом регистра символов в ASCII-порядке
сортировки.
</DL>

<P>
<strong>Поиск без учета регистра символов</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
<code>LIKE</code> может быть как чувствительным, так и нечувствительным к регистру
оператором, в зависимости от столбцов, к которым он применяется. По
возможности MySQL использует индексы, если аргумент <code>LIKE</code> не начинается с
шаблонного символа.
<DT><code>mSQL</code>
<DD>
Следует использовать <code>CLIKE</code>.
</DL>

<P>
<strong>Обработка концевых пробелов</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Все пробелы в конце столбцов <code>CHAR</code> и <code>VARCHAR</code> удаляются. Если такое
поведение нежелательно, используйте столбцы <code>TEXT</code>.
<DT><code>mSQL</code>
<DD>
Концевые пробелы сохраняются.
</DL>

<P>
<strong>Операторы WHERE</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
MySQL правильно определяет приоритеты действий (<code>AND</code> имеет приоритет перед
<code>OR</code>). Заставить MySQL вести себя так, как mSQL, можно при помощи
скобок (как можно видеть в соответствующем примере).
<DT><code>mSQL</code>
<DD>
Все действия производятся слева направо. А это значит, что некоторые
логические вычисления, в которых наличествует более трех аргументов, не
могут быть выполнены вообще. Кроме того, это означает, что при переносе в
MySQL некоторые запросы необходимо менять. Это довольно просто
сделать при помощи скобок. Возьмем, к примеру, следующий запрос mSQL:

<pre>
mysql&#62; SELECT * FROM table WHERE a=1 AND b=2 OR a=3 AND b=4;
</pre>

Чтобы MySQL вычислил результат этого запроса так же, как это сделал
бы mSQL, нужно расставить скобки:

<pre>
mysql&#62; SELECT * FROM table WHERE (a=1 AND (b=2 OR (a=3 AND (b=4))));
</pre>

</DL>

<P>
<strong>Ограничения доступа</strong>

</P>
<DL COMPACT>

<DT><code>MySQL</code>
<DD>
Для хранения привилегий для каждого пользователя, удаленного компьютера и
базы имеются соответствующие таблицы. See section <A HREF="manual.ru_MySQL_Database_Administration.html#Privileges">4.2.6  Как работает система привилегий</A>.
<DT><code>mSQL</code>
<DD>
Имеется файл <tt>`mSQL.acl'</tt>, в котором можно определить привилегии
чтения/записи для пользователей.
</DL>



<H3><A NAME="Compare_PostgreSQL" HREF="manual.ru_toc.html#Compare_PostgreSQL">1.11.2  Сравнение MySQL c PostgreSQL</A></H3>

<P>
<A NAME="IDX166"></A>

</P>
<P>
Читая этот раздел, помните о том, что оба программных продукта находятся в
постоянном развитии. Мы (разработчики MySQL) и разработчики PostgreSQL
постоянно заняты улучшением наших СУБД, поэтому обе системы являются
серьезными альтернативами любым коммерческим СУБД.

</P>
<P>
Приведенное ниже сравнение проводилось в MySQL AB. Мы старались быть как
можно более точными и объективными, однако, зная MySQL наизусть, мы
не можем похвастаться таким же знанием возможностей PostgreSQL, поэтому в
чем-то могли и ошибиться. Однако мы будем тут же исправлять все замеченные
неточности.

</P>
<P>
Прежде всего хотелось бы отметить, что PostgreSQL и MySQL являются широко
используемыми программными продуктами, которые разрабатывались с разными
целями (хотя создатели обоих и стремятся довести их до полной
совместимости со стандартом ANSI SQL). Это значит, что для решения одних
задач больше подходит MySQL, для других же - PostgreSQL. Выбирая
СУБД, проверьте, соответствуют ли ее возможности требованиям,
предъявляемым решаемой задачей. Если требуется максимальная скорость
работы, лучше всего, вероятно, будет остановить свой выбор на MySQL
Server. Если же вам необходимы дополнительные возможности, имеющиеся
только у <code>PostgreSQL</code>, этой СУБД и стоит пользоваться.

</P>



<H4><A NAME="MySQL-PostgreSQL_goals" HREF="manual.ru_toc.html#MySQL-PostgreSQL_goals">1.11.2.1  Стратегии развития MySQL и PostgreSQL</A></H4>

<P>
<A NAME="IDX167"></A>

</P>
<P>
Расширяя возможности MySQL мы всегда стараемся принять оптимальное
решение. Код должен быть настолько хорош, чтобы в обозримом будущем в нем
не понадобилось ничего менять. Кроме того, мы не считаем целесообразным
ради расширения возможностей приносить в жертву скорость, а вместо этого
стараемся в каждом случае обеспечить максимально возможную
производительность. В итоге несколько увеличивается время разработки, но
результаты того стоят. Разработка в таком ключе возможна потому, что все
новые фрагменты серверного кода перед включением в состав MySQL 
проверяются несколькими разработчиками.

</P>
<P>
Мы считаем, что лучшим средством предоставления нашим пользователям новых
возможностей является частый выпуск новых версий. Поэтому примерно раз в
три недели у нас выходит несколько обновленная версия системы, а раз в
год - полностью новая. Все версии проходят полное тестирование с помощью
наших инструментальных средств на множестве платформ.

</P>
<P>
Система PostgreSQL основана на ядре, созданном множеством разработчиков. В
подобных случаях разумно сосредоточиться на оснащении системы новыми
возможностями, но не заниматься оптимальным их воплощением, так как в
случае возникновения необходимости всегда можно будет вернуться к
оптимизации соответствующих участков кода.

</P>
<P>
Еще одно значительное отличие MySQL от PostgreSQL заключается в
том, что практически весь содержащийся в MySQL код создан разработчиками,
работающими в MySQL AB и постоянно занятыми совершенствованием кода
сервера. Исключением из этого правила являются системы транзакций и
библиотека регулярных выражений <code>regexp</code>.

</P>
<P>
Большая же часть кода PostgreSQL написана множеством разработчиков, никак
друг с другом не связанных. Не так давно разработчики PostgreSQL объявили
о том, что у их команды наконец-то хватило времени на просмотр всего кода,
вошедшего в состав очередной версии PostgreSQL.

</P>
<P>
У обоих вышеупомянутых методов разработки есть достоинства и недостатки.
Мы, сотрудники MySQL AB, разумеется, считаем, что наша модель лучше, так
как обеспечивает большую логичность кода, оптимальность и возможность его
повторного использования, а также - меньшее количество ошибок. Будучи
авторами кода сервера MySQL, мы с большим успехом можем координировать
включение в систему новых возможностей и выход ее новых версий.

</P>


<H4><A NAME="MySQL-PostgreSQL_features" HREF="manual.ru_toc.html#MySQL-PostgreSQL_features">1.11.2.2  Сравнение возможностей MySQL и PostgreSQL</A></H4>

<P>
<A NAME="IDX168"></A>

</P>
<P>
На странице <code>crash-me</code> (<a HREF="http://www.mysql.com/information/crash-me.php">http://www.mysql.com/information/crash-me.php</a>)
приведен список ограничений и особенностей СУБД, которые могут быть
обнаружены автоматически с помощью специальных программ. Однако не стоит
забывать о том, что многие ограничения могут быть изменены настройкой
соответствующих баз данных. Впрочем, эта web-страница оказывается очень
кстати, если необходимо, чтобы создаваемое приложение нормально работало с
несколькими СУБД или для перевода приложения с одной СУБД в другую.

</P>
<P>
MySQL обладает следующими преимуществами перед PostgreSQL:

</P>

<ul>
<LI>

<code>MySQL</code> обычно намного превосходит PostgreSQL по скорости работы. Кроме
того, в MySQL 4.0 реализован кэш запросов. Он позволяет во много раз
увеличить скорость обработки запросов для сайтов, на которых
преобладают неоднократно повторяющиеся запросы на чтение.

<LI>

По количеству пользователей MySQL также намного превосходит
PostgreSQL. Поэтому код тестируется значительно более придирчиво и
опытным путем доказана большая его надежность, нежели у PostgreSQL.
MySQL чаще, чем PostgreSQL, используется на производстве, в
основном потому, что компания MySQL AB (ранее - TCX DataKonsult AB)
предоставляет высококачественную коммерческую техническую поддержку
MySQL с момента появления этой системы на рынке, а у PostgreSQL
до самого последнего времени никакой поддержки не было.

<LI>

MySQL работает в среде Windows лучше, чем PostgreSQL. MySQL
Server запускается как настоящее (родное) Windows-приложение (в
NT/2000/XP - сервис), в то время как PostgreSQL запускается в среде
эмуляции, <code>Cygwin</code>. Нам доводилось слышать о недостаточной стабильности
работы PostgreSQL в среде Windows, но самостоятельно эти сведения до
сих пор мы проверить не могли.

<LI>

MySQL оснащен большим количеством API для других языков и
поддерживается большим количеством существующих программ, нежели
PostgreSQL. See section <A HREF="manual.ru_Contrib.html#Contrib">B  Привнесенные программы</A>.

<LI>

MySQL работает на высоконадежных промышленных системах 24/7
(включенных 24 часа в сутки 7 дней в неделю). В большинстве случаев
никаких ``чисток'' в MySQL производить не требуется. PostgreSQL же
пока что не может работать в таких системах, так как иногда приходится
запускать <code>VACUUM</code> для освобождения занятого последствиями работы команд
<code>UPDATE</code> и <code>DELETE</code> пространства и проводить статистический анализ,
необходимый для достижения максимальной производительности PostgreSQL.
Запускать <code>VACUUM</code> необходимо и после каждого добавления к таблице
нескольких столбцов. На напряженно работающих системах <code>VACUUM</code> нужно
запускать более часто, в худших случаях - по несколько раз в день. А
ведь во время работы <code>VACUUM</code> (а ее работа может продолжаться часы, если
база данных достаточно велика) база практически ``мертва''. Впрочем, в
PostgreSQL версии 7.2 выполнение основных функций этой программы
больше не приводит к блокировке базы, и пользователи могут продолжать
нормально работать с ней. Новая команда <code>VACUUM FULL</code> берется за дело
более серьезно: она, как и в старых версиях, блокирует таблицу и
сжимает копию таблицы на диске.

<LI>

Репликация MySQL отлично протестирована и используется в таких сайтах,
как:

<ul>
<LI>

Yahoo Finance (<a HREF="http://finance.yahoo.com/">http://finance.yahoo.com/</a>)
<LI>

Mobile.de (<a HREF="http://www.mobile.de/">http://www.mobile.de/</a>)
<LI>

Slashdot (<a HREF="http://www.slashdot.org/">http://www.slashdot.org/</a>)
</ul>

<LI>

В комплект поставки MySQL входят два тестовых пакета, <code>mysql-test-run</code> и
<code>crash-me</code> (<a HREF="http://www.mysql.com/information/crash-me.php">http://www.mysql.com/information/crash-me.php</a>), а также
пакет для замеров производительности. Тестовая система постоянно
обновляется, в нее добавляется код для тестирования всех новых
возможностей и почти всех воспроизводимых ошибок, которые попали в
поле нашего зрения. Перед выпуском каждой новой версии мы используем
эти пакеты для тестирования MySQL на нескольких платформах.
Наши тесты значительно превосходят по своим возможностям все
существующие в PostgreSQL аналоги, и обеспечивают высокое качество
кода MySQL.

<LI>

Книг о MySQL вышло значительно больше, нежели о PostgreSQL.
Книги о MySQL выпустили издательства O'Reilly, SAMS, Que и New Riders.
Все возможности MySQL детально описаны в документации, так как это
является обязательным условием включения новых возможностей в код.

<LI>

MySQL поддерживает больше стандартных функций ODBC, чем
<code>PostgreSQL</code>.

<LI>

MySQL обладает значительно более мощной реализацией <code>ALTER
TABLE</code>.

<LI>

В MySQL предусмотрена возможность создания таблиц без
транзакций, что необходимо приложениям, требующим максимально
возможной скорости работы. Эти таблицы могут храниться в памяти,
относиться к типу <code>HEAP</code>-таблиц или дисковых <code>MyISAM</code>. See section <A HREF="manual.ru_Table_types.html#Table_types">7  Типы  таблиц MySQL</A>.

<LI>

MySQL может работать с двумя поддерживающими транзакции
обработчиками таблиц, а именно - <code>InnoDB</code> и <code>BerkeleyDB</code>. Так как все
системы поддержки транзакций в разных условиях работают по-разному,
это дает разработчику возможность найти наилучшее решение для условий,
в которых будет работать его система. See section <A HREF="manual.ru_Table_types.html#Table_types">7  Типы  таблиц MySQL</A>.

<LI>

Команда слияния таблиц MERGE предоставляет в ваше распоряжение
уникальную возможность создать представление нескольких идентичных
таблиц и работать с ними как с одной. Это особенно удобно для работы с
журналами, разбитыми, например, по месяцам. See section <A HREF="manual.ru_Table_types.html#MERGE">7.2  Таблицы <code>MERGE</code></A>.

<LI>

Возможность сжатия доступных только для чтения таблиц, не отменяющая
прямого доступа к их записям, повышает производительность системы,
снижая количество операций считывания с диска. Это особенно полезно
при архивировании. See section <A HREF="manual.ru_MySQL_Database_Administration.html#myisampack">4.7.4  <code>myisampack</code>, MySQL-генератор сжатых таблиц (только для чтения)</A>.

<LI>

В MySQL реализован полнотекстовый поиск. See section <A HREF="manual.ru_Reference.html#Fulltext_Search">6.8  Полнотекстовый поиск в MySQL</A>.

<LI>

Имеется возможность работы с несколькими базами через одно соединение
(разумеется, в зависимости от привилегий пользователя).

<LI>

Система MySQL с самого начала разрабатывалась в расчете на
многопоточность, а PostgreSQL использует процессы. Переключение
контекстов и доступ к общим данным несколькими потоками осуществляется
значительно быстрее, нежели отдельными процессами. Таким образом MySQL
Server в многопользовательских приложениях получает неплохое
преимущество в производительности, а кроме того, таким образом MySQL
Server удается значительно эффективней пользоваться преимуществами,
предоставляемыми симметричными мультипроцессорными системами (SMP).

<LI>

В MySQL реализована значительно более мощная система
привилегий, нежели в PostgreSQL. В то время как PostgreSQL
обеспечивает лишь привилегии <code>INSERT</code>, <code>SELECT</code> и <code>UPDATE</code>/<code>DELETE</code> над базой
или таблицей, MySQL предоставляет возможность определения
полного набора разнообразных привилегий на уровне базы, таблицы и
столбца. Кроме того, MySQL позволяет задавать привилегии для
комбинаций хост/пользователь. See section <A HREF="manual.ru_MySQL_Database_Administration.html#GRANT">4.3.1  Синтаксис команд <code>GRANT</code> и <code>REVOKE</code></A>.

<LI>

В MySQL используется протокол связи между клиентом и сервером
со сжатием данных, что увеличивает производительность системы в
условиях низкоскоростных каналов связи.

<LI>

Насколько нам известно, только в реляционной системе баз данных MySQL
Server используется концепция ``обработчика таблиц''. Благодаря этому
создается возможность работы с различными низкоуровневыми типами
таблиц из ядра MySQL, причем каждая таблица может быть оптимизирована
для различных характеристик производительности.

<LI>

Все типы таблиц в MySQL (кроме <code>InnoDB</code>) реализованы в виде файлов (по
одной таблице в файле), что значительно облегчает создание резервных
копий, перенос, удаление и даже создание символьных ссылок между
базами данных и таблицами, даже если сервер находится в нерабочем
состоянии.

<LI>

Наличие утилиты для восстановления и оптимизации таблиц <code>MyISAM</code>
(наиболее распространенного типа таблиц в MySQL). Ее использование
требуется только в случае физического повреждения файла данных
(например, в результате аппаратного сбоя). Позволяет восстановить
большую часть данных.

<LI>

Обновление (апгрейд) MySQL проходит совершенно ``безболезненно''. При
модернизации MySQL нет нужды в сохранении/восстановлении
данных, что приходится делать при установке большинства обновлений
PostgreSQL.
</ul>

<P>
Недостатки MySQL по сравнению с PostgreSQL:

</P>

<ul>
<LI>

Поддержка транзакций в MySQL пока что не настолько хорошо
проверена, как в системе PostgreSQL.

<LI>

Так как MySQL основан на использовании потоков (threads), пока
что еще не безошибочно работающих в некоторых ОС, для обеспечения
стабильной работы приходится либо использовать один из
откомпилированных пакетов, доступных по адресу
<a HREF="http://www.mysql.com/downloads/">http://www.mysql.com/downloads/</a>, либо точно выполнять содержащиеся в
section <A HREF="manual.ru_Installing.html#Installing_source">2.3  Установка исходного дистрибутива MySQL</A> инструкции.

<LI>

Блокировка таблиц, применяющаяся в нетранзакционных таблицах <code>MyISAM</code>,
во многих случаях работает быстрее, нежели блокировки на уровне
страниц, строк или контроль версий. Недостаток этого подхода в том,
что если не учитывать механизм работы блокирования таблиц, один
длительный запрос может надолго заблокировать таблицу. Обычно этого
эффекта можно избежать, приняв соответствующие меры при разработке
приложения. Если это не удастся, всегда можно изменить тип таблицы и
сделать ее транзакционной. See section <A HREF="manual.ru_MySQL_Optimisation.html#Table_locking">5.3.2  Вопросы блокирования таблиц</A>.

<LI>

При помощи <code>UDF</code> (<code>user-defined functions</code>, определяемые пользователем
функции) возможности MySQL можно расширить и дополнить обычными
SQL-функциями или их объединениями. Но это сделать не так просто, да и
система не настолько гибка в этом отношении, как PostgreSQL. See section <A HREF="manual.ru_Extending_MySQL.html#Adding_functions">9.2  Добавление новых функций в MySQL</A>.

<LI>

В MySQL сложнее организовывались обновления, затрагивающие
несколько таблиц сразу. Впрочем, это было исправлено в MySQL 4.0.2
реализацией многотабличного <code>UPDATE</code> и в MySQL 4.1 - с помощью
подзапросов. В MySQL 4.0 можно одновременно удалять данные из
нескольких таблиц. See section <A HREF="manual.ru_Reference.html#DELETE">6.4.6  Синтаксис оператора <code>DELETE</code></A>.
</ul>

<P>
Ниже перечислены преимущества PostgreSQL по сравнению с MySQL на
сегодняшний день.

</P>
<P>
Так как нам известен план разработки новых версий MySQL, мы включили в
приведенную ниже таблицу версии MySQL, в которых будет реализована
поддержка соответствующих возможностей. К сожалению, в сопоставлении мы
сделать этого не могли, так как план разработки PostgreSQL нам неизвестен.

</P>
<TABLE BORDER WIDTH="100%">
<TR><TD><strong>Возможность</strong> </TD><TD> <strong>Версия MySQL</strong>
</TD></TR>
<TR><TD>Подзапросы </TD><TD> 4.1
</TD></TR>
<TR><TD>Внешние ключи </TD><TD> 5.0 (3.23 с InnoDB)
</TD></TR>
<TR><TD>Представления </TD><TD> 5.0
</TD></TR>
<TR><TD>Хранимые процедуры </TD><TD> 5.0
</TD></TR>
<TR><TD>Триггеры </TD><TD> 5.0
</TD></TR>
<TR><TD>Объединения </TD><TD> 4.0
</TD></TR>
<TR><TD>Полные связи </TD><TD> 4.1
</TD></TR>
<TR><TD>Ограничения </TD><TD> 4.1 или 5.0
</TD></TR>
<TR><TD>Курсоры </TD><TD> 4.1 или 5.0
</TD></TR>
<TR><TD>R-деревья </TD><TD> 4.1 (для таблиц MyISAM)
</TD></TR>
<TR><TD>Наследование таблиц </TD><TD> Не планируется
</TD></TR>
<TR><TD>Расширяемая система типов </TD><TD> Не планируется
</TD></TR>
</TABLE>

<P>
Другие причины, по которым можно предпочесть PostgreSQL:

</P>

<ul>
<LI>

В некоторых случаях PostgreSQL оказывается ближе к ANSI SQL.

<LI>

Работу PostgreSQL можно ускорить, выполняя код в виде хранимых
процедур.

<LI>

При хранении географических данных R-деревья дают PostgreSQL
преимущество перед MySQL (примечание: в MySQL версии 4.1 для
таблиц <code>MyISAM</code> реализована поддержка R-деревьев).

<LI>

Оптимизатор PostgreSQL в некоторых случаях способен дать лучший в
сравнении с существующим на сегодняшний день оптимизатором MySQL
результат. Особенно это заметно при слиянии таблиц без соответствующих
ключей или при слиянии с использованием разных ключей в сочетании с
логическим оператором <code>OR</code>. Набор результатов тестов скорости MySQL,
расположенный по адресу
<a HREF="http://www.mysql.com/information/benchmarks.html">http://www.mysql.com/information/benchmarks.html</a> покажет, каких
конструкций следует избегать при работе с различными базами данных.

<LI>

Команда разработчиков PostgreSQL, пишущих код для сервера, больше.
</ul>

<P>
Недостатки PostgreSQL по сравнению с MySQL:

</P>

<ul>
<LI>

<code>VACUUM</code> затрудняет использование PostgreSQL в постоянно работающих
системах.

<LI>

Наличие только транзакционных таблиц.

<LI>

Значительно более медленная работа команд <code>INSERT</code>, <code>DELETE</code> и <code>UPDATE</code>.
</ul>

<P>
Полный список недостатков приведен в первой таблице настоящего раздела.

</P>


<H4><A NAME="MySQL-PostgreSQL_benchmarks" HREF="manual.ru_toc.html#MySQL-PostgreSQL_benchmarks">1.11.2.3  Тестирование скорости работы MySQL и PostgreSQL</A></H4>

<P>
<A NAME="IDX169"></A>

</P>
<P>
Единственная тестовая система с открытым кодом, способная тестировать
скорость работы как MySQL  Server, так и PostgreSQL (а также других СУБД),
о существовании которой нам известно, - наша собственная разработка. Ее
можно найти по адресу <a HREF="http://www.mysql.com/information/benchmarks.html">http://www.mysql.com/information/benchmarks.html</a>.

</P>
<P>
Мы много раз просили разработчиков PostgreSQL и некоторых пользователей
PostgreSQL помочь нам расширить эту систему и превратить ее в совершенный
инструмент тестирования скорости работы СУБД, но, к сожалению,
безрезультатно.

</P>
<P>
По этой причине разработчики MySQL потратили много времени, пытаясь выжать
(для тестирования) из PostgreSQL все возможное, но из-за недостаточно
совершенного знания PostgreSQL мы наверняка что-то упустили. На страничке
тестов производительности проведенное нами исследование полностью
задокументировано, так что любой может легко повторить его и проверить
результаты.

</P>
<P>
Обычно тесты запускаются без ключа <code>--fast</code>. При запуске с этим ключом
используются все трюки, позволяющие заставить сервер работать как можно
быстрее. Идея состоит в том, чтобы в обычном режиме тест показал, как
сервер будет работать при настройках по умолчанию, в режиме <code>--fast</code>, - как
производительность изменится, если разработчик приложения воспользуется
расширениями сервера для ускорения его работы.

</P>
<P>
При тестировании PostgreSQL в режиме <code>--fast</code> мы запускаем <code>VACUUM</code> после
каждой операции <code>UPDATE</code> и <code>DROP TABLE</code>, чтобы обеспечить отличное состояние
базы для последующих операторов <code>SELECT</code>. Время, уходящее на работу <code>VACUUM</code>,
измеряется отдельно.

</P>
<P>
Однако при тестировании PostgreSQL 7.1.1 мы не смогли запустить программу
в режиме <code>--fast</code>, так как во время теста <code>INSERT</code>, <code>postmaster</code> (демон
PostgreSQL) дал сбой и база данных была повреждена настолько, что
перезапустить демон не удалось. Когда это случилось дважды, мы решили
отложить тестирование в режиме <code>--fast</code> до выхода следующей версии
PostgreSQL. Подробную информацию о компьютере, на котором выполнялись
тесты, вы найдете на странице тестов.

</P>
<P>
Перед тем как переходить к описанию других известных нам тестов, мы дадим
побольше информации о таких тестах вообще.

</P>
<P>
Нет ничего проще, чем написать тест, доказывающий, что любая СУБД является
лучшей в мире, для этого достаточно ограничиться измерением результатов
операций, с которыми эта СУБД справляется хорошо, и деликатно забыть об
остальных. А если еще после этого выдать обобщенный график, то все
становится еще проще.

</P>
<P>
Это то же самое, если бы мы решили сравнить скорость работы MySQL  Server
и PostgreSQL просто сравнив общие результаты тестов MySQL, приведенных на
нашей странице. По таким результатам MySQL  Server оказался бы более чем в
40 раз быстрее PostgreSQL, а это, конечно, неверно. Можно было бы подлить
масла в огонь, избрав для тестирования PostgreSQL тесты, на которые эта
система тратит больше всего времени, - и утверждать что MySQL  Server
более чем в 2000 раз быстрее PostgreSQL.

</P>
<P>
Дело тут в том, что MySQL оптимизирует многое из того, чего не
оптимизирует PostgreSQL. И наоборот. SQL-оптимизатор вообще очень сложная
штука, и можно потратить годы исключительно на его улучшение.

</P>
<P>
Исследуя результаты тестов, нужно искать задачи, которые должно выполнять
ваше приложение, и результаты их выполнения использовать для принятия
решения о выборе СУБД. Результаты тестов позволяют определить и задачи, с
решением которых выбранная СУБД справляется не слишком хорошо, - таким
образом можно определить, чего следует избегать и обходить в своих
программах.

</P>
<P>
Нам известно о двух тестах, утверждающих, что PostgreSQL по
производительности превосходит MySQL  Server. Оба они -
многопользовательские, а у сотрудников MySQL  AB пока что не нашлось
времени написать такой тест. Основная причина - довольно сложно сделать
это так, чтобы не поставить ни одну из СУБД в заведомо проигрышное
положение.

</P>
<P>
Один из этих тестов был заказан компанией Great Bridge, которая в течение
16 месяцев пыталась построить бизнес на основе PostgreSQL, но в конце
концов прекратила свою деятельность. Вероятно, это худший из когда-либо
проводившихся кем-либо тестов. Он не только принимает во внимание лишь те
области, в которых PostgreSQL оказывается ``на коне'', но и ставит
абсолютно все остальные СУБД в заведомо проигрышное положение.

</P>
<P>
<strong>Примечание</strong>: Нам стало известно о том, что даже некоторым ключевым
разработчикам PostgreSQL отнюдь не понравилось то, как фирма Great  Bridge
проводила свое тестирование, так что команду разработчиков PostgreSQL мы в
связи с этим тестом ни в чем не обвиняем.

</P>
<P>
Упомянутый тест осуждался во многих сообщениях и телеконференциях, так что
мы просто коротко перечислим его недостатки.

</P>

<ul>
<LI>

Тесты выполнялись дорогой коммерческой программой, что сделало задачу
проверки их результатов невыполнимой для <code>Open Source</code>-компании,
каковой мы являемся; мы даже не можем выяснить, как же на самом деле
проводились эти тесты. Причем сама программа, даже не является
специализированной утилитой для тестирования производительности - она
представляет из себя универсальный инструмент для настройки и
тестирования приложений. Называть ее ``стандартным'' тестом - это уж
слишком большая натяжка.

<LI>

Компания Great Bridge признала, что база данных PostgreSQL была
оптимизирована (а перед проведением теста была запущена программа
<code>VACUUM</code>) и специально настроена для проведения тестов, чего не делалось
ни для одной другой СУБД, участвовавшей в тестировании. Они заявили
буквально следующее: ``Этот процесс оптимизирует индексы и
высвобождает немного дискового пространства. Оптимизированные индексы
в некоторой степени повышают производительность.'' Проведенные нами
тесты недвусмысленно свидетельствуют о том, что разница в скорости
выполнения большого количества выборок (SELECT'ов) из базы данных,
прошедшей чистку <code>VACUUM</code>, и не прошедшей ее, может быть десятикратной.

<LI>

Результаты тестов тоже вызывают сомнения. В тестовой документации
<code>AS3AP</code> упоминается о том, что при тестировании выполняются ``выборки,
простые связи, проекции, аггрегация, обновления с одним набором
значений для атрибута и массовые обновления''.

PostgreSQL отлично выполняет операции <code>SELECT</code> и <code>JOIN</code> (особенно после
<code>VACUUM</code>), но отнюдь не здорово справляется с <code>INSERT</code> или <code>UPDATE</code>. А
результаты показывают, что выполнялись только операции <code>SELECT</code> (или
операций обновления выполнялось очень мало). Это правдоподобно объясняет
отличные результаты, показанные PostgreSQL в данном тесте. А причина, по
которой MySQL показал неважные результаты, станет понятной несколько ниже.

<LI>

Так называемый тест запускался с компьютера, работающего под
управлением Windows и связывавшегося с Linux через ODBC, а такая
конфигурация никакому нормальному пользователю СУБД, особенно при
работе с многопользовательским приложением, даже в голову не придет. В
этом случае тестируется не СУБД, а ODBC-драйвер и Windows-протокол,
связывающие клиентов.

<LI>

При связи базы с Oracle и MS-SQL (Great  Bridge косвенно указала на
примененные в тесте СУБД) использовался не соответствующий им
протокол, а ODBC. Любой, кто когда-либо имел дело с Oracle, знает, что
во всех настоящих приложениях используется не ODBC, а ``родной''
интерфейс. Проводить тесты через ODBC и утверждать, что они имеют
какое-либо отношение к использованию СУБД в реальной работе, попросту
нечестно. Нужно было провести два теста, с ODBC и без него, чтобы
получить истинные факты (причем все СУБД перед проведением тестов
должны были бы настраиваться специалистами).

<LI>

Представители компании постоянно говорят о TPC-C тестах, но нигде не
упоминают о том, что проведенный ими тест вовсе не относился к TPC-C,
а проводить TPC-C они просто не имели права. TPC-C может проводиться
только по правилам, утвержденным комитетом TPC Council
(<a HREF="http://www.tpc.org/">http://www.tpc.org/</a>). Great Bridge в комитет не обращалась. Не
сделав этого, она не только вступила в конфликт с торговой маркой TPC,
но и дискредитировала свои тесты. Установленные комитетом TPC  Council
правила очень строги, чтобы никто не мог выдавать ложных результатов
или делать недоказуемые заявления. Очевидно, у Great  Bridge не было
желания следовать этим правилам.

<LI>

После проведения первого теста мы связались с Great  Bridge и сообщили
ее представителям о наиболее очевидных из допущенных при тестировании
MySQL  Server ошибок:


<ul>
<LI>

Использование отладочной версии нашего ODBC-драйвера

<LI>

Запуск сервера под управлением ОС Linux, не оптимизированной для
работы с потоками.

<LI>

Использование старой версии MySQL, хотя уже существовала более
современная

<LI>

Отказ от запуска MySQL  Server с соответствующими настройками для
работы с большим количеством пользователей (по умолчанию после
установки MySQL  Server настраивается для минимального использования
ресурсов)
</ul>

Great  Bridge провела новый тест, с нашим оптимизированным драйвером ODBC
и лучшей настройкой MySQL  Server, но отказалась применить обновленную 
библиотеку <code>glibc</code> или нашу стандартную бинарную поставку (ее используют 80%
наших пользователей), которая была статически слинкована с конкретной
glibc. Насколько нам известно, компания Great  Bridge не сделала абсолютно
ничего для правильной настройки других СУБД при тестировании. Впрочем, мы
уверены, что в Oracle или Microsoft они за советом не обращались. ;)

<LI>

Тестирование было оплачено Great  Bridge, и эта компания решила
опубликовать не все результаты, а только выборочно - те, что были ей
выгодны.
</ul>

<P>
Тим Пердью (Tim  Perdue), преданный обожатель PostgreSQL и не слишком
большой любитель MySQL, опубликовал свое сравнение на сайте PHPbuilder
(<a HREF="http://www.phpbuilder.com/columns/tim20001112.php3">http://www.phpbuilder.com/columns/tim20001112.php3</a>).

</P>
<P>
Узнав об этом, мы связались с Тимом по телефону с тем, чтобы обсудить
некоторые странности в полученных им результатах. Он, например, утверждал,
что MySQL  Server в его тестах с трудом справлялся с обслуживанием пяти
пользователей, хотя нам были известны пользователи с примерно такими же,
как у Тима, компьютерами, работающие с MySQL  Server при 2000 активных
соединениях, выдающих до 400 запросов в секунду (причем в данном случае
производительность ограничивалась каналом связи с web, а не базой данных).

</P>
<P>
Похоже было, что Тим работал с ядром Linux, не умеющим нормально
обрабатывать большое количество потоков, как, например, ядра до версии
2.4, у которых возникали серьезные проблемы с обработкой большого
количества потоков на мультипроцессорных компьютерах. В настоящем
руководстве мы описали решение этой проблемы, и Тим должен был об этом
знать.

</P>
<P>
Существует еще одна возможная причина возникновения проблем: Тим мог
воспользоваться старой библиотекой <code>glibc</code> или не загрузить
откомпилированный исполняемый файл MySQL (слинкованный с исправленной
библиотекой <code>glibc</code>) с нашего сайта, но скомпилировал его сам. В любом из
этих случаев симптомы были бы именно такими, как описал Тим.

</P>
<P>
Мы спросили Тима, может ли он предоставить нам его данные с тем, чтобы мы
могли повторить тест, а также попросили его проверить свою версию MySQL и
сообщить нам. Пока что он этого не сделал.

</P>
<P>
Из за этого его тесту мы тоже не можем доверять. :(

</P>
<P>
Все течет, все изменяется, и старые тесты теряют актуальность. Теперь
MySQL обзавелся парой новых обработчиков таблиц, которые
обеспечивают совершенно разные характеристики в разрезе
скорости/параллелизма. See section <A HREF="manual.ru_Table_types.html#Table_types">7  Типы  таблиц MySQL</A>. Было бы интересно
узнать, какие результаты показали бы вышеупомянутые тесты с разными типами
транзакционных таблиц в MySQL. Конечно, в PostgreSQL с тех пор тоже
появились новые возможности. Так как эти тесты недоступны общественности,
выяснить, как СУБД показала бы себя в них сегодня, мы не можем.

</P>
<P>
Заключение:

</P>
<P>
Единственные существующие на сегодня тесты, позволяющие сравнить MySQL 
Server и PostgreSQL, которые любой может загрузить и запустить, - это
тесты из комплекта MySQL. Мы, сотрудники MySQL  AB, считаем, что Open 
Source-СУБД должны тестироваться при помощи Open  Source-инструментов!
Только так можно получить гарантии того, что никто не сможет провести
невоспроизводимые тесты и на основе их результатов утверждать, что одна
СУБД лучше другой. Не зная всех фактов, подтвердить или опровергнуть
подобные утверждения просто невозможно.

</P>
<P>
Нам кажется странным, что невоспроизводимые тесты с участием PostgreSQL
показывают преимущество этой системы, в то время как наши тесты, которые
может повторить любой, четко доказывают обратное. Этим мы вовсе не хотим
сказать, что PostgreSQL не годится для решения многих задач (еще как
годится!) или что при определенных условиях эта система не обгонит MySQL 
Server. Но нам просто хотелось бы для разнообразия увидеть честный тест, в
котором PostgreSQL покажет отличные результаты, - исключительно с целью
поддержания товарищеской конкуренции!

</P>
<P>
Дополнительную информацию о нашей тестовой системе вы можете получить из
раздела section <A HREF="manual.ru_MySQL_Optimisation.html#MySQL_Benchmarks">5.1.4  Набор тестов MySQL (The MySQL Benchmark Suite)</A>.

</P>
<P>
Мы занимаемся разработкой еще лучшего комплекса тестов, в состав которого
будут включены многопользовательские тесты, а также более подробное
описание того, что собственно делает каждый отдельный тест и как расширить
комплекс.
<P><HR><P>
Go to the first, previous, <A HREF="manual.ru_Installing.html">next</A>, <A HREF="manual.ru_Concept_Index.html">last</A> section, <A HREF="manual.ru_toc.html">table of contents</A>.
 </BODY>
 </HTML>
