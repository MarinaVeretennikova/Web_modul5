<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0031)http://jsp.newmail.ru/les27.htm -->
<HTML><HEAD><TITLE>Урок 27</TITLE>
<META content="text/html; charset=windows-1251" http-equiv=Content-Type>
<META 
content="Самое толковое руководство по основам javascript на русском языке. Слайд шоу." 
name=Description>
<SCRIPT language=javascript>
<!--
if (document.images) {
ar_r = new Image(33,33); ar_r.src = "i/ar_r.gif"; 
ar_r1 = new Image(33,33); ar_r1.src = "i/ar_r1.gif"; 
none = new Image(79,35); none.src = "i/none.gif"; 
next = new Image(79,35); next.src = "i/next.gif"; 
prev = new Image(79,35); prev.src = "i/prev.gif";
ar_l = new Image(33,33); ar_l.src = "i/ar_l.gif";
ar_l1 = new Image(79,35); ar_l1.src = "i/ar_l1.gif";
}
function swap(imgName,imgObjName) {
if (document.images) {
  document.images[imgName].src = eval(imgObjName + ".src");
}}
function toc() {
OpenWindow=window.open('toc.html', 'toc', config='width=300,scrollbars=1,resizable=1,status=1')
self.name="one"
}
//-->
</SCRIPT>
<LINK href="les27.files/blue.css" rel=STYLESHEET type=text/css>
<META content="MSHTML 5.00.2614.3500" name=GENERATOR></HEAD>
<BODY background=les27.files/Life_blue.gif bgColor=#253354 text=#334775>
<DIV 
style="HEIGHT: 35px; LEFT: 10px; POSITION: absolute; TOP: 10px; WIDTH: 160px"><A 
href="http://jsp.newmail.ru/les26.htm" 
onmouseout="swap('left','ar_l');swap('none','none')" 
onmouseover="swap('left','ar_l1');swap('none','prev')"><IMG border=0 height=33 
name=left src="les27.files/ar_l.gif" width=33></A>&nbsp;<A href="" 
onmouseout="swap('left','ar_l');swap('right','ar_r')" 
onmouseover="swap('left','ar_l1');swap('right','ar_r1')"><IMG border=0 height=35 
name=none src="les27.files/none.gif" width=79></A>&nbsp;<A 
href="http://jsp.newmail.ru/les28.htm" 
onmouseout="swap('right','ar_r');swap('none','none')" 
onmouseover="swap('right','ar_r1');swap('none','next')"><IMG border=0 height=33 
name=right src="les27.files/ar_r.gif" width=33></A> </DIV>
<H1 align=right>Урок 27<BR>Как сложить все вместе: слайд-шоу</H1>
<P align=right><B><FONT color=#fb4462>красным цветом даны примечания 
переводчика</FONT></B><BR><A 
href="http://jsp.newmail.ru/les27.htm#concept">Концепция</A>__<A 
href="http://jsp.newmail.ru/les27.htm#script">Скрипт</A>__<A 
href="http://jsp.newmail.ru/les27.htm#effect">Эффект</A>__<A 
href="http://jsp.newmail.ru/les27.htm#decon">Разбор скрипта</A>__<A 
href="http://jsp.newmail.ru/les27.htm#assig">Задание</A> </P>
<P align=right><A href="http://jsp.newmail.ru/les27.htm#" 
onclick=toc()>Оглавление (в новом окне)</A></P>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD bgColor=#cef3fd height=22 vAlign=top width="50%"><IMG height=13 
      src="les27.files/b_t_l.gif" width=13></TD>
    <TD bgColor=#cef3fd height=22 vAlign=top width="30%">
      <P align=right><IMG height=13 src="les27.files/b_t_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd colSpan=2 
    style="PADDING-LEFT: 10pt; PADDING-RIGHT: 10pt" vAlign=top width="85%">
      <H2><A name=concept>Концепция</A></H2>
      <P align=justify><B>Т</B>ри последних урока посвящены тому, как сложить 
      все вместе.</P>
      <P align=justify>Посмотрите на скрипт и попробуйте сами разобраться, как и 
      что он делает. А лучше всего постарайтесь изменить его. В сегодняшнем 
      примере пользователь щелкает по ссылке и переходит к следующей картинке. 
      Мы воспользуемся командой <B>If</B> и переменной <B>num</B>. Ничего 
      нового? Не совсем!</P>
      <H2><A name=script>Скрипт</A></H2>
      <P class=cou>&lt;HTML&gt;<BR>&lt;HEAD&gt;<BR>&lt;SCRIPT 
      LANGUAGE="JavaScript"&gt;<BR>&nbsp; var num=1<BR>&nbsp; img1 = new Image 
      ()<BR>&nbsp; img1.src = "leo.gif"<BR>&nbsp; img2 = new Image ()<BR>&nbsp; 
      img2.src = "dino.gif"<BR>&nbsp; img3 = new Image ()<BR>&nbsp; img3.src = 
      "rhino.gif"&nbsp; <BR>function slideshow()<BR>&nbsp; {<BR>&nbsp;&nbsp; 
      num=num+1<BR>&nbsp;&nbsp; if (num==4)<BR>&nbsp;&nbsp;&nbsp; 
      {num=1}<BR>document.animal.src=eval("img"+num+".src")<BR>&nbsp;&nbsp; 
      }<BR>&lt;/SCRIPT&gt;<BR>&lt;/HEAD&gt;<BR>&lt;BODY&gt;<BR>&lt;CENTER&gt;<BR>&lt;IMG 
      SRC="leo.gif" NAME="animal" BORDER=0&gt;<BR>&lt;p&gt;<BR><BR>&lt;A 
      HREF="JavaScript:slideshow()"&gt;<BR>&nbsp;&nbsp; Щелкните, чтобы увидеть 
      следующую 
      картинку&lt;/A&gt;<BR><BR>&lt;/CENTER&gt;<BR>&lt;/BODY&gt;<BR>&lt;/HTML&gt;</P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd vAlign=bottom width="50%"><IMG height=13 
      src="les27.files/b_b_l.gif" width=12></TD>
    <TD bgColor=#cef3fd vAlign=bottom width="30%">
      <P align=right><IMG height=13 src="les27.files/b_b_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR></TBODY></TABLE>
<P>&nbsp;</P>
<DIV align=right>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="85%">
  <TBODY>
  <TR>
    <TD bgColor=#cef3fd height=30 vAlign=top width="50%"><IMG height=13 
      src="les27.files/b_t_l.gif" width=13></TD>
    <TD bgColor=#cef3fd vAlign=top width="50%">
      <P align=right><IMG height=13 src="les27.files/b_t_r.gif" 
  width=13></P></TD></TR>
  <TR>
    <TD bgColor=#cef3fd colSpan=2 
    style="PADDING-LEFT: 10pt; PADDING-RIGHT: 10pt" vAlign=top width="85%">
      <H2><A name=effect>Эффект</A> </H2>
      <P align=center>
      <SCRIPT language=JavaScript>
     var num=1
     img1 = new Image ()
     img1.src = "i/leo.gif"
     img2 = new Image ()
     img2.src = "i/dino.gif"
     img3 = new Image ()
     img3.src = "i/rhino.gif"  
     function slideshow()
     {
        num=num+1
        if (num==4)
           {num=1}
       document.animal.src=eval("img"+num+".src")
     }
 </SCRIPT>
      <IMG border=0 height=83 name=animal src="les27.files/leo.gif" 
      width=138></P>
      <P align=center><A href="javascript:slideshow()" id=l>Щелкните, чтобы 
      увидеть<BR>следующую картинку</A></P></TD></TR>
  <TR>
    <TD bgColor=#cef3fd height=13 vAlign=bottom width="50%"><IMG height=13 
      src="les27.files/b_b_l.gif" width=13></TD>
    <TD bgColor=#cef3fd height=13 vAlign=bottom width="50%">
      <P align=right><IMG height=13 src="les27.files/b_b_r.gif" 
  width=13></P></TD></TR></TBODY></TABLE></DIV>
<P>&nbsp;</P>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD bgColor=#cef3fd height=22 vAlign=top width="50%"><IMG height=13 
      src="les27.files/b_t_l.gif" width=13></TD>
    <TD bgColor=#cef3fd height=22 vAlign=top width="30%">
      <P align=right><IMG height=13 src="les27.files/b_t_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd colSpan=2 
    style="PADDING-LEFT: 10pt; PADDING-RIGHT: 10pt" vAlign=top width="85%"><A 
      name=decon>
      <H2>Разбор скрипта</A> </H2>
      <P align=justify>Разобьем его на две части:</P>
      <BLOCKQUOTE>
        <P class=cou>&lt;SCRIPT 
        LANGUAGE="javascript"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        var num=1<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; img1 
        = new Image ()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        img1.src = 
        "leo.gif"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; img2 
        = new Image ()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        img2.src = 
        "dino.gif"<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        img3 = new Image 
        ()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; img3.src = 
        "rhino.gif" &nbsp;</P></BLOCKQUOTE>
      <UL>
        <LI>Вот кое-что новое! <B>num=1</B> не находится внутри функции. Да и 
        вообще ни одна команда не находится внутри функции. <B>num</B> — это 
        переменная. Указывая ее в начале скрипта вне функции, мы делаем ее 
        глобальной переменной, то есть доступной для любой функции.<BR>
        <LI><B>img1 = new Image()</B> объявляет новый объект image <FONT 
        color=red>(рисунок)</FONT>. <B>img1.src=</B> источник объекта, файл, в 
        котором хранится картинка. Это стандартная схема. <B>img1 
        </B>хранится<B> в leo.gif</B> ; <B>img2</B> хранится в 
        <B>dino.gif</B>.<BR>
        <LI><B>(В скобках)</B> содержится информация о ширине и высоте рисунка. 
        Это не обязательно, но желательно.<BR>
        <LI>Рисунки тоже доступны для любой функции. Таким образом, программа 
        загружает рисунки в память компьютера. Для следующего примера это будет 
        еще важнее. Пользователь не хочет ждать, пока каждая картинка будет 
        загружаться с сервера. </LI></UL>
      <P>Теперь часть №2:</P>
      <BLOCKQUOTE>
        <P class=cou>function slideshow()<BR>{<BR>num=num+1<BR>if 
        (num==4)<BR>&nbsp; 
        {num=1}<BR>document.animal.src=eval("img"+num+".src")<BR>}<BR>&lt;/script&gt;<BR>&lt;/head&gt;<BR>&lt;body&gt;</P></BLOCKQUOTE>
      <UL>
        <LI>Первоначальное значение<B> num</B> равно 1. Это было еще в первом 
        фрагменте. Когда пользователь щелкает по строчке текста, запускается 
        функция <B>slideshow</B>.<BR>
        <LI><B>slideshow()</B> прибавляет к num единицу. Когда num доходит до 4, 
        то возвращается к 1. <B>document.animal.src</B> меняется на img плюс 
        значение num и плюс .src. Например, если num = 1, то 
        <B>document.animal.src</B> становится <B>img1.src</B>. 
        <LI>Обратите внимание, что команда <B>eval()</B> преобразует 
        <B>img1.src</B> в указание на источник изображения. Без нее это был бы 
        простой набор букв. </LI></UL>
      <P>И наконец:</P>
      <BLOCKQUOTE>
        <P class=cou>&lt;a href="JavaScript:slideshow()"&gt;Щелкните,<BR>чтобы 
        увидеть следующую картинку&lt;/a&gt;</P></BLOCKQUOTE>
      <UL>
        <LI>Тут кое-что новенькое. Видите, вызывается не функция, а JavaScript? 
        Так используются все части скрипта, а не только те, что стоят внутри 
        функции. Если вы напишете функцию по обычной схеме, то у вас не будет 
        рисунков, потому что они останутся за скобками. </LI></UL>
      <BLOCKQUOTE>
        <P><FONT color=#fb4462>В Эксплорере работает и обычная схема, то 
        есть:<BR>&lt;a href="" 
        onClick="slideshow()"&gt;Щелкайте&lt;/a&gt;</FONT></P></BLOCKQUOTE>
      <H2><A name=assig>Ваше задание</A></H2>
      <P align=justify><B>П</B>ерепишите сегодняшний скрипт. Покажите первым 
      <B>leo.gif</B>, как в примере. Однако дальше новый cкрипт должен показать 
      <B>img3.src</B> (num=3), потом <B>img2.src</B>, потом <B>img1.src</B>. 
      Когда <B>num</B>=0, измените <B>num</B> на 3.</P>
      <P align=justify>В общем, перепишите скрипт задом наперед.</P>
      <P>Возможный ответ <A href="http://jsp.newmail.ru/assig27.htm" 
      id=l>здесь</A></P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd vAlign=bottom width="50%"><IMG height=13 
      src="les27.files/b_b_l.gif" width=12></TD>
    <TD bgColor=#cef3fd vAlign=bottom width="30%">
      <P align=right><IMG height=13 src="les27.files/b_b_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR></TBODY></TABLE>
<P align=right><A 
href="http://jsp.newmail.ru/les27.htm#concept">Концепция</A>__<A 
href="http://jsp.newmail.ru/les27.htm#script">Скрипт</A>__<A 
href="http://jsp.newmail.ru/les27.htm#effect">Эффект</A>__<A 
href="http://jsp.newmail.ru/les27.htm#decon">Разбор скрипта</A>__<A 
href="http://jsp.newmail.ru/les27.htm#assig">Задание</A> </P>
<P align=right><FONT size=5><A href="http://jsp.newmail.ru/les28.htm">Вперед, на 
Урок 28</A></FONT></P>
<DIV align=right>
<TABLE width="75%">
  <TBODY>
  <TR>
    <TD><FONT color=#cef3fd>
      <P align=justify class=small>авторы <A 
      href="http://www.htmlgoodies.com/primers/jsp/me.html">Джо Бернс</A> и 
      Эндри Грауни. <A href="http://www.htmlgoodies.com/">Оригинал и многое 
      другое на английском языке</A> © <A 
      href="http://www.earthweb.com/">EarthWeb Inc.</A> <BR>Перевод, оформление 
      и верстка © Татьяна.</FONT></P></TD></TR></TBODY></TABLE></DIV><!-- HotLog -->
<SCRIPT language=javascript>
hotlog_js="1.0";hotlog_d=document; hotlog_n=navigator;hotlog_rn=Math.random();
hotlog_n_n=(hotlog_n.appName.substring(0,3)=="Mic")?0:1;
hotlog_r=""+hotlog_rn+"&s=15862&r="+escape(hotlog_d.referrer)+"&pg="+
escape(window.location.href);
hotlog_d.cookie="hotlog=1"; hotlog_r+="&c="+(hotlog_d.cookie?"Y":"N");
hotlog_d.cookie="hotlog=1; expires=Thu, 01-Jan-70 00:00:01 GMT"</SCRIPT>

<SCRIPT language=javascript1.1>
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")</SCRIPT>

<SCRIPT language=javascript1.2>
hotlog_js="1.2";hotlog_s=screen;
hotlog_r+="&wh="+hotlog_s.width+'x'+hotlog_s.height+"&px="+((hotlog_n_n==0)?
hotlog_s.colorDepth:hotlog_s.pixelDepth)</SCRIPT>

<SCRIPT language=javascript1.3>hotlog_js="1.3"</SCRIPT>

<SCRIPT language=javascript>hotlog_r+="&js="+hotlog_js;
hotlog_d.write("<img src=\"http://hit2.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&\" border=0 width=1 height=1>")</SCRIPT>
<NOSCRIPT><IMG border=0 height=1 src="les27.files/count" width=1></NOSCRIPT> <!-- /HotLog --><!--webbot bot="HTMLMarkup" startspan ALT="Site Meter" -->
<SCRIPT>var site="sm2jsp"</SCRIPT>

<SCRIPT language=JavaScript1.2 src="les27.files/counter.js">
</SCRIPT>
<!-- Copyright (c) 1999-2000 Site Meter --><!--webbot
bot="HTMLMarkup" endspan --></BODY></HTML>
