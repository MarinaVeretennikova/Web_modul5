<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0030)http://jsp.newmail.ru/les9.htm -->
<HTML><HEAD><TITLE>Урок 9. Создание функции</TITLE>
<META content="text/html; charset=windows-1251" http-equiv=Content-Type>
<META 
content="html javascript джаваскрипт советы для начинающих script уроки код&#13;&#10;руководство основы design дизайн веб-страницы web pages" 
name=Keywords>
<META 
content="Самое толковое руководство по основам javascript на русском языке. Создание функции" 
name=Description>
<SCRIPT language=javascript>
<!--
if (document.images) {
ar_r = new Image(33,33); ar_r.src = "i/ar_r.gif"; 
ar_r1 = new Image(33,33); ar_r1.src = "i/ar_r1.gif"; 
none = new Image(79,35); none.src = "i/none.gif"; 
next = new Image(79,35); next.src = "i/next.gif"; 
prev = new Image(79,35); prev.src = "i/prev.gif";
ar_l = new Image(33,33); ar_l.src = "i/ar_l.gif";
ar_l1 = new Image(79,35); ar_l1.src = "i/ar_l1.gif";
}
function swap(imgName,imgObjName) {
if (document.images) {
  document.images[imgName].src = eval(imgObjName + ".src");
}}
function dateinbar()
{
var d = new Date();
var y = d.getFullYear(); 
var da = d.getDate(); 
var m = d.getMonth() + 1; 
var t = da + '/' + m + '/' + y; 

defaultStatus = "Вы прибыли на страницу " + t + ".";
}
function toc() {
OpenWindow=window.open('toc.html', 'toc', config='width=300,scrollbars=1,resizable=1,status=1')
self.name="one"
}
//-->
</SCRIPT>
<LINK href="les9.files/blue.css" rel=STYLESHEET type=text/css>
<META content="MSHTML 5.00.2614.3500" name=GENERATOR></HEAD>
<BODY aLink=#d0550b background=les9.files/Life_blue.gif bgColor=#334775 
link=#fbbcac onload=dateinbar() text=#334775 vLink=#fbbcac>
<DIV 
style="HEIGHT: 35px; LEFT: 10px; POSITION: absolute; TOP: 10px; WIDTH: 160px"><A 
href="http://jsp.newmail.ru/les8.htm" 
onmouseout="swap('left','ar_l');swap('none','none')" 
onmouseover="swap('left','ar_l1');swap('none','prev')"><IMG border=0 height=33 
name=left src="les9.files/ar_l.gif" width=33></A>&nbsp;<A href="" 
onmouseout="swap('left','ar_l');swap('right','ar_r')" 
onmouseover="swap('left','ar_l1');swap('right','ar_r1')"><IMG border=0 height=35 
name=none src="les9.files/none.gif" width=79></A>&nbsp;<A 
href="http://jsp.newmail.ru/les10.htm" 
onmouseout="swap('right','ar_r');swap('none','none')" 
onmouseover="swap('right','ar_r1');swap('none','next')"><IMG border=0 height=33 
name=right src="les9.files/ar_r.gif" width=33></A> </DIV>
<H1 align=right>Урок 9<BR>Создание функции</H1>
<P align=right><B><FONT color=#fb4462>красным цветом даны примечания 
переводчика</FONT></B><BR><A 
href="http://jsp.newmail.ru/les9.htm#concept">Концепция</A>__<A 
href="http://jsp.newmail.ru/les9.htm#script">Скрипт</A>__<A 
href="http://jsp.newmail.ru/les9.htm#effect">Эффект</A>__<A 
href="http://jsp.newmail.ru/les9.htm#decon">Разбор скрипта</A>__<A 
href="http://jsp.newmail.ru/les9.htm#assig">Задание</A></P>
<P align=right><A href="http://jsp.newmail.ru/les9.htm#" 
onclick=toc()>Оглавление (в новом окне)</A></P>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD bgColor=#cef3fd height=22 vAlign=top width="50%"><IMG height=13 
      src="les9.files/b_t_l.gif" width=13></TD>
    <TD bgColor=#cef3fd height=22 vAlign=top width="30%">
      <P align=right><IMG height=13 src="les9.files/b_t_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd colSpan=2 
    style="PADDING-LEFT: 10pt; PADDING-RIGHT: 10pt" vAlign=top width="85%">
      <H2><A name=concept>Концепция</A></H2>
      <P align=justify><B>C</B>оздавая переменную, вы присваиваете имя 
      результату команды или события JavaScript. Создавая <B>функцию</B>, вы 
      делаете почти то же самое, только имя присваивается целой серии команд. 
      Множество команд JavaScript вы комбинируете в одну.</P>
      <H2><A name=script>Скрипт</A></H2>
      <P align=justify><B>С</B>ам скрипт состоит из двух частей: собственно 
      функции и команды onLoad, которая ее запускает.<BR>Вот обе части:</P>
      <P class=cou>&lt;SCRIPT LANGUAGE="javascript"&gt;</P>
      <P class=cou>&lt;!-- Скрыть от браузеров, не читающих Javascript</P>
      <P class=cou>function dateinbar()<BR>{<BR>var d = new Date();<BR>var y = 
      d.getFullYear(); <BR>var da = d.getDate(); <BR>var m = d.getMonth() + 1; 
      <BR>var t = da + '/' + m + '/' + y; <BR><BR>defaultStatus = "Вы прибыли на 
      страницу " + t + ".";<BR>}<BR>// не скрывать --&gt;</P>
      <P class=cou>&lt;/SCRIPT&gt;</P>
      <P><I>...и команда onLoad в &lt;BODY&gt;:</I></P>
      <P class=cou>&lt;BODY BGCOLOR="хххххх" onLoad="dateinbar()"&gt;</P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd vAlign=bottom width="50%"><IMG height=13 
      src="les9.files/b_b_l.gif" width=12></TD>
    <TD bgColor=#cef3fd vAlign=bottom width="30%">
      <P align=right><IMG height=13 src="les9.files/b_b_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR></TBODY></TABLE>
<P>&nbsp;</P>
<DIV align=right>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="85%">
  <TBODY>
  <TR>
    <TD bgColor=#cef3fd height=30 vAlign=top width="50%"><IMG height=13 
      src="les9.files/b_t_l.gif" width=13></TD>
    <TD bgColor=#cef3fd vAlign=top width="50%">
      <P align=right><IMG height=13 src="les9.files/b_t_r.gif" 
  width=13></P></TD></TR>
  <TR>
    <TD bgColor=#cef3fd colSpan=2 
    style="PADDING-LEFT: 10pt; PADDING-RIGHT: 10pt" vAlign=top width="85%">
      <H2><A name=effect>Эффект</A> </H2>
      <P align=justify><B>Э</B>ффект скрипта можно увидеть в строке состояния. 
      Этим же скриптом мы пользовались для получения даты на прошлыx 
    уроках.</P></TD></TR>
  <TR>
    <TD bgColor=#cef3fd height=13 vAlign=bottom width="50%"><IMG height=13 
      src="les9.files/b_b_l.gif" width=13></TD>
    <TD bgColor=#cef3fd height=13 vAlign=bottom width="50%">
      <P align=right><IMG height=13 src="les9.files/b_b_r.gif" 
  width=13></P></TD></TR></TBODY></TABLE></DIV>
<P>.</P>
<TABLE border=0 cellPadding=0 cellSpacing=0 width="100%">
  <TBODY>
  <TR>
    <TD bgColor=#cef3fd height=22 vAlign=top width="50%"><IMG height=13 
      src="les9.files/b_t_l.gif" width=13></TD>
    <TD bgColor=#cef3fd height=22 vAlign=top width="30%">
      <P align=right><IMG height=13 src="les9.files/b_t_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd colSpan=2 
    style="PADDING-LEFT: 10pt; PADDING-RIGHT: 10pt" vAlign=top width="85%"><A 
      name=decon>
      <H2>Разбор скрипта</A> </H2>
      <P><B>Что это &lt;!--&nbsp; --&gt; за штуки такие?</B></P>
      <P align=justify><STRONG>Е</STRONG>ще одна команда. Возможно, она кажется 
      вам знакомой. Этими знаками вы пользуетесь для комментариев в теле 
      HTML:</P>
      <P align=center>&lt;!-- Это текст комментария, не видимый на странице 
      --&gt;</P>
      <P align=justify>Я привел их здесь, так как, хотите верьте, хотите нет, в 
      мире все еще существуют браузеры, не понимающие JavaScript. Если браузер 
      не читает JavaScript, он воспринимает его как текст, который нужно 
      напечатать на странице. Выглядит это ужасно. Но если пользоваться этими 
      командами, тогда браузер успешно проигнорирует незнакомый текст и покажет 
      страницу.</P>
      <P align=justify>Однако соблюдайте несколько правил:
      <UL>
        <LI>Команды комментария должны находиться между &lt;SCRIPT&gt; и 
        &lt;/SCRIPT&gt;. Если вы поставите их снаружи, то браузер посчитает 
        комментарием весь скрипт и ничего не выйдет. 
        <LI>Текст после команды &lt;!-- должен находиться на одной строке. 
        <LI>Перед заключительной командой --&gt; должна стоять двойная дробь //, 
        иначе JavaScript примет ее за часть скрипта. Ошибка. 
        <LI>Нет, совсем не обязательно писать текст к этим командам. Я вставил 
        его, чтобы вам проще было понять их назначение. 
        <LI>Пользуйтесь приведенной выше схемой, и у вас не будет 
      проблем.</LI></UL>
      <P><B>Вернемся к разбору</B></P>
      <P align=justify>Сначала первая часть скрипта устанавливает функцию. Потом 
      команда в строке &lt;BODY&gt; ее запускает. Давайте сначала разберем 
      функцию.</P>
      <P class=cou>function dateinbar()<BR>{<BR>var d = new Date();<BR>var y = 
      d.getFullYear();<BR>var da = d.getDate();<BR>var m = d.getMonth() + 1; 
      <BR>var t = da + '/' + m + '/' + y; <BR>defaultStatus = "Вы прибыли на 
      страницу " + t + ".";<BR>}</P>
      <P align=justify>Схема довольно понятная. Вы пишете "function" и даете ей 
      любое имя, какое вашей душе угодно, точно так же, как мы делали с 
      переменными. Оно может быть какой угодно длины, если в нем нет пробелов и 
      это слово уже не участвует в JavaScript.<BR><B>Н</B><STRONG>о обратите 
      внимание</STRONG>, что после имени функции стоят круглые скобки, как и 
      после метода. То есть, создавая функцию, я как бы создаю новый метод для 
      выполнения задачи.<BR>На этот раз я выбрал имя "dateinbar()" <FONT 
      color=red>(дата в строке состояния)</FONT>, потому что это функция и 
      делает — помещает дату в строку состояния.</P>
      <P align=justify><B>Очень важно!</B><BR>Команды, из которых состоит 
      функция, должны быть заключены в фигурные скобки {}. Видите, я поставил их 
      сразу после имени функции и в самом конце?</P>
      <P align=justify>Текст внутри фигурных скобок должен быть вам уже знаком. 
      Тот же скрипт мы использовали пару уроков назад.
      <UL>
        <LI>Создается переменная для года; 
        <LI>Еще одна для числа; 
        <LI>Еще одна для месяца; 
        <LI>Затем четвертая для даты целиком;</LI></UL>
      <P>Последняя команда новая:</P>
      <P align=center class=cou>defaultStatus = "Вы прибыли на страницу " + t + 
      ".";</P>
      <P align=justify>"defaultStatus" <FONT color=red>(строка состояния по 
      умолчанию)</FONT> — свойство объекта window. Его цель — поместить текст в 
      строку состояния внизу окна браузера. <I>Но почему не написать просто 
      window.status?</I></P>
      <P align=justify>Хороший вопрос. Этого нельзя сделать, потому что такая 
      схема используется для события, например, с командой onClick. Раз строка 
      состояния не находится внутри команды HTML, берем defaultStatus. Есть 
      только одна строка состояния — она же и по умолчанию.</P>
      <P><B>Команда "onLoad="</B></P>
      <P align=justify>Ребята, у нас новый обработчик! Команда onLoad <FONT 
      color=red>(на вход, загрузку)</FONT> (обратите внимание на заглавные 
      буквы) говорит браузеру, что, загружая страницу, он должен выполнить 
      следующее. В нашем случае следует функция dateinbar{}.<BR>Эта команда 
      почти всегда располагается в строке &lt;BODY&gt; документа HTML. И почти 
      всегда за ней следует функция, но это необязательно. Можно с таким же 
      успехом поместить туда и команду объект.метод.</P>
      <P><B>Расположение элементов</B></P>
      <P align=justify>Это имеет не последнее значение. Вы знаете, что onLoad 
      идет в строку BODY. Скрипт с функцией должен находиться между командами 
      &lt;HEAD&gt; и &lt;/HEAD&gt;. Хотя на самом деле его можно поместить где 
      угодно, но если вы расположите его после команды onLoad, он заработает 
      только после того, как загрузится вся страница. Поместив скрипт перед 
      командой onLoad, вы помещаете его в память компьютера, и когда onLoad 
      вызовет его, он будет готов к работе.</P>
      <P align=justify>Практически любой набор команд JavaScript можно записать 
      в виде функции.</P>
      <H2><A name=assig>Ваше задание</A></H2>
      <P align=justify>Сегодня не самое простое задание. Создайте функцию, 
      которая вызовет два запроса (prompt). (<I>Подсказка:</I> один следует за 
      другим с новой строки.) Первый попросит пользователя ввести свое имя, 
      второй — отчество. Затем та же функция должна вызвать окно предупреждения 
      (alert) c текстом:<BR><BR>Привет, <I>имя отчество</I>, добро пожаловать на 
      <I>адрес страницы</I>, мою замечательную страницу!</P>
      <P align=justify>Непременно создайте переменную для адреса страницы.</P>
      <P align=justify>Если хотите еще поразвлечься, пусть слова "мою 
      замечательную страницу" будут не просто вставлены в текст alert, сделайте 
      это по-другому. Присвойте переменную и этому элементу.</P>
      <P>Возможный ответ <A href="http://jsp.newmail.ru/assig9.htm" 
      id=l>здесь</A></P></TD>
    <TD width="15%"></TD></TR>
  <TR>
    <TD bgColor=#cef3fd vAlign=bottom width="50%"><IMG height=13 
      src="les9.files/b_b_l.gif" width=12></TD>
    <TD bgColor=#cef3fd vAlign=bottom width="30%">
      <P align=right><IMG height=13 src="les9.files/b_b_r.gif" width=13></P></TD>
    <TD width="15%"></TD></TR></TBODY></TABLE>
<P align=right><A 
href="http://jsp.newmail.ru/les9.htm#concept">Концепция</A>__<A 
href="http://jsp.newmail.ru/les9.htm#script">Скрипт</A>__<A 
href="http://jsp.newmail.ru/les9.htm#effect">Эффект</A>__<A 
href="http://jsp.newmail.ru/les9.htm#decon">Разбор скрипта</A>__<A 
href="http://jsp.newmail.ru/les9.htm#assig">Задание</A> </P>
<P align=right><FONT size=5><A href="http://jsp.newmail.ru/les10.htm">Вперед, на 
Урок 10</A></FONT></P>
<DIV align=right>
<TABLE width="75%">
  <TBODY>
  <TR>
    <TD><FONT color=#cef3fd>
      <P align=justify class=small>авторы <A 
      href="http://www.htmlgoodies.com/primers/jsp/me.html">Джо Бернс</A> и 
      Эндри Грауни. <A href="http://www.htmlgoodies.com/">Оригинал и многое 
      другое на английском языке</A> © <A 
      href="http://www.earthweb.com/">EarthWeb Inc.</A> <BR>Перевод, оформление 
      и верстка © Татьяна.</FONT></P></TD></TR></TBODY></TABLE></DIV><!-- HotLog -->
<SCRIPT language=javascript>
hotlog_js="1.0";hotlog_d=document; hotlog_n=navigator;hotlog_rn=Math.random();
hotlog_n_n=(hotlog_n.appName.substring(0,3)=="Mic")?0:1;
hotlog_r=""+hotlog_rn+"&s=15862&r="+escape(hotlog_d.referrer)+"&pg="+
escape(window.location.href);
hotlog_d.cookie="hotlog=1"; hotlog_r+="&c="+(hotlog_d.cookie?"Y":"N");
hotlog_d.cookie="hotlog=1; expires=Thu, 01-Jan-70 00:00:01 GMT"</SCRIPT>

<SCRIPT language=javascript1.1>
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")</SCRIPT>

<SCRIPT language=javascript1.2>
hotlog_js="1.2";hotlog_s=screen;
hotlog_r+="&wh="+hotlog_s.width+'x'+hotlog_s.height+"&px="+((hotlog_n_n==0)?
hotlog_s.colorDepth:hotlog_s.pixelDepth)</SCRIPT>

<SCRIPT language=javascript1.3>hotlog_js="1.3"</SCRIPT>

<SCRIPT language=javascript>hotlog_r+="&js="+hotlog_js;
hotlog_d.write("<img src=\"http://hit2.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&\" border=0 width=1 height=1>")</SCRIPT>
<NOSCRIPT><IMG border=0 height=1 src="les9.files/count" width=1></NOSCRIPT> <!-- /HotLog --><!--webbot bot="HTMLMarkup" startspan ALT="Site Meter" -->
<SCRIPT>var site="sm2jsp"</SCRIPT>

<SCRIPT language=JavaScript1.2 src="les9.files/counter.js">
</SCRIPT>
<!-- Copyright (c) 1999-2000 Site Meter --><!--webbot
bot="HTMLMarkup" endspan --></BODY></HTML>
