<HTML>



<!--



Author:	Paul Khramtsov



Date:	May 17, 1998



-->



<HEAD>



<title>Web-engineering (Introduction to the JavaScript. Location.)</title>



<link rel="stylesheet" type="text/css" href="page.css" tppabs="http://webclass.polyn.kiae.su/classes/css/page.css">







<!--Charset-->



<script language=JavaScript src="jsc.pgm" tppabs="http://webclass.polyn.kiae.su/classes/css/jsc.pgm"></script>

<script language=JavaScript>

<!--



function p()



{



if(window.document.table.prop.selectedIndex==0) window.document.table.r.value=window.document.links[0].href;



if(window.document.table.prop.selectedIndex==1) window.document.table.r.value=window.document.links[0].protocol;



if(window.document.table.prop.selectedIndex==2) window.document.table.r.value=window.document.links[0].hostname;



if(window.document.table.prop.selectedIndex==3) window.document.table.r.value=window.document.links[0].host;



if(window.document.table.prop.selectedIndex==4) window.document.table.r.value=window.document.links[0].port;



if(window.document.table.prop.selectedIndex==5) window.document.table.r.value=window.document.links[0].pathname;



if(window.document.table.prop.selectedIndex==6) window.document.table.r.value=window.document.links[0].search;



if(window.document.table.prop.selectedIndex==7) window.document.table.r.value=window.document.links[0].hash;



}



// -->



</script>



</HEAD>



<body style="color:navy;background-color:white;background-image:url(../images/main/rope.gif);"  onLoad="jump();">

<map name=image>



<area href="javascript:if(confirm('http://kuku.ru/r/dir/page?search  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://kuku.ru/r/dir/page?search#mark'" tppabs="http://kuku.ru/r/dir/page?search#mark">



</map>



<SCRIPT SRC="count.js" tppabs="http://counter.hotlog.ru/cgi-bin/hotlog/count.js"></SCRIPT>
<SCRIPT LANGUAGE="JavaScript">js=0</SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.1">js=1</SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.2">js=2</SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.3">js=3</SCRIPT>
<SCRIPT LANGUAGE="JavaScript">HotLOG(1686,js)</SCRIPT>
<noscript><img src="count-s=1686" tppabs="http://hit.hotlog.ru/cgi-bin/hotlog/count?s=1686" border=0 width=1 height=1></noscript>
<!-- Логотип -->



<div class=logo>

<table border=0 cellpadding=0 cellspacing=0 width=560>

<tr><td><img src="sea003.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea003.gif" width=560 height=5 border=0 hspace=0 vspace=0 align=left></td></tr>

<tr><td><img src="sea000.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea000.gif" width=560 height=15 border=0 hspace=0 vspace=0 align=left></td></tr>
<!--
<tr><td><a href=../homef.htm onMouseover="document.sea001.src='../images/main/hweb.gif';return true;" onMouseout="document.sea001.src='../images/main/sea001.gif';return true;"><img name=sea001 src=../images/main/sea001.gif width=560 height=15 border=0 hspace=0 vspace=0 align=left></a></td></tr>
-->
<tr><td><img name=sea001 src="sea001.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea001.gif" width=560 height=15 border=0 hspace=0 vspace=0 align=left></td></tr>

<tr><td><img src="sea002.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea002.gif" width=560 height=5 border=0 hspace=0 vspace=0 align=left></td></tr>

</table>

</div>



<!-- Конец логотипа -->



<!-- Главное меню -->



<div class=menu>

<table border=0 cellpadding=0 cellspacing=0 width=560>

<tr>

<td><a href="jsid.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/jsid.htm"><img src="manual.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/manual.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Конспект></a></td>

<td><img src="ref.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/ref.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Справочник></td>

<td><img src="work.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/work.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Задания></td>

<td><img src="ex.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/ex.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Примеры></td>

<td><a href="locatiot.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/test/locatiot.htm"><img src="tests.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/tests.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Контроль></a></td>

<td><img src="coach.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/coach.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Тьютор></td>

<td><a href="javascript:if(confirm('http://webclass.polyn.kiae.su/classes/fsub.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://webclass.polyn.kiae.su/classes/fsub.htm'" tppabs="http://webclass.polyn.kiae.su/classes/fsub.htm"><img src="lcheck.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/lcheck.gif" border=0 hspace=0 vspace=0 height=20 width=74 alt=Подписка></a></td>

</tr>

</table>

</div>



<!-- Конец главного меню -->



<!-- Навигационное дерево -->



<div class=navy>
<table border=0 cellspacing=0 cellpadding=0 width=560>
<tr>
<td height=15 class=tree>
<a class=tree href="javascript:if(confirm('http://webclass.polyn.kiae.su/classes/homef.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://webclass.polyn.kiae.su/classes/homef.htm'" tppabs="http://webclass.polyn.kiae.su/classes/homef.htm">Web-инжиниринг(Оглавление)</a>
</td>
<tr>
<td height=15 class=tree>
<img src="treetc-1.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main//treetc.gif" border=0 hspace=2 align=top width=15 height=15 vspace=0>
Объектная модель в World Wide Web. Динамический HTML
</td>
</tr>
<tr>
<td height=15 class=tree>
<img name=down src="treevl.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treevl.gif" border=0 hspace=2 align=top width=15 height=15 vspace=0>
<img src="treetc.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treetc.gif" border=0 hspace=2 align=top width=15 height=15 vspace=0>
<a class=tree id=current href="treejsi.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/treejsi.htm">Введение в JavaScript</a>
</td>
</tr>
</table>
</div>





<!-- Конец навигационного дерева -->



<!-- Меню последовательного просмотра -->



<div class=next>

<map name=top_menu>

<area shape=rect coords="500,0,560,15" href="history.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/history.htm">

</map>

<img src="menu_l.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/menu_l.gif" width=560 height=15 vspace=0 hspace=0 border=0 usemap=#top_menu>

</div>



<!-- Конец меню последовательного просмотра -->



<!-- Начало текста документа -->



<div class=main name=main>



<span class=myheader>Поле location</span>



<p class=just>



<span class=letter>П</span>оле location отображает URL загруженного документа. Если пользователь хочет вручную перейти к какой-либо странице(набрать ее URL), то он делает это в поле location. Поле располагается в верхней части окна браузера ниже панели инструментов, но выше панели личных предпочтений.



<p>



<center><img src="location.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/jsi/location.gif" border=0 width=443 height=215></center>



<p class=just>



Вообще говоря, location - это объект. Из-за изменений в версиях JavaScript класс location входит как подкласс и в класс window и в класс document. Мы будем рассматривать location только как window.location. Кроме того, location - это еще и подкласс класса URL, к которому относятся также объекты классов Area и Link. Location наследует все свойства URL, что позволяет легко получить доступ к любой части схемы URL.



<a name=top></a>



<p class=just>



Рассмотрим характеристики и способы использования объекта location:



<ul>



<li><a href="javascript:window.location.hash='prop';void(0);">Свойства</a>



<li><a href="javascript:window.location.hash='method';void(0);">Методы</a>



<li>Событий, характеризующих location, нет



</ul>



<p class=just>



Как видим список характеристик объекта location неполный.



<a name=prop></a>



<p><em>Свойства</em>



<p class=just>



Предположим, что браузер отображает страницу, расположенную по адресу:



<p><span class=tags>



http://kuku.ru:80/r/dir/page?search#mark



</span>



<p class=just>



Тогда свойства объекта location примут следующие значения (при выборе свойства из списка его значение отображается в текстовом поле под списком):



<form name=table>



<table border=0>



<tr>



<td>



Список свойств:<br>



<select name=prop onChange="p();">



<option selected>window.location.href



<option>window.location.protocol



<option>window.location.hostname



<option>window.location.host



<option>window.location.port



<option>window.location.pathname



<option>window.location.search



<option>window.location.hash



</select>



</td>



</tr>



<tr><td>Значение свойства:<br><input name=r size=40></td></tr>



</table>



<p class=just>



Данный пример - это небольшое лукавство. Для демонстрации свойств location был использован другой URL-объект AREA. Он не отображается браузером, т.к. в документе нет sensitive map, но при этом он реально порожден, и его свойства можно использовать. Но это не означает, что вас бессовестно обманули. <a href=#top>Меню перехода к описанию свойств и методов</a> использует объект location для перехода по гипертекстовым ссылкам: 



<p><span class=tags>



&lt;ul&gt;<br>



&lt;li&gt;&lt;a href="javascript:window.location.hash='prop';void(0);"&gt;Свойства&lt;/a&gt;<br>



&lt;li&gt;&lt;a href="javascript:window.location.hash='method';void(0);"&gt;Методы&lt;/a&gt;<br>



&lt;li&gt;Событий, характеризующих location, нет<br>



&lt;/ul&gt;



</span>



<p class=just>



Подмена была осуществлена только с одной целью: избежать перехода на другую страницу, что всегда происходит при изменении значений свойств объекта location. Такое поведение собственно и отличает location от area и link.



<!-- В начало страницы -->



<p align=right><a href=#top class=tree id=home><img src="treeup.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treeup.gif" border=0 align=top hspace=2><br>начало страницы<img src="treeru.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treeru.gif" border=0 align=top hspace=2></a><br>



<!-- Конец перехода -->



<a name=method></a>



<p><em>Методы</em>



<p class=just>



Методы location предназначены для управления загрузкой и перезагрузкой страницы. Это управление заключается в том, что можно либо перегрузить документ(reload), либо загрузить(replace) новый документ. При этом в трассу просмотра страниц(history) при выполнении этих методов информация не заносится:



<p><span class=tags>



<a href="javascript:window.location.reload(true);void(0);">window.location.reload(true);</a><br>



<a href="javascript:window.location.replace('#top');void(0);">window.location.replace('#top');</a>



</span>



<p class=just>



Метод <em>reload()</em> полностью моделирует поведение браузера при нажатии на кнопку Reload в панели инструментов. Если вызывать метод без аргумента или указать его равным true, то браузер проверит время последней модификации документа и загрузит его либо из кеша(если не был модифицирован), либо с сервера. Такое поведение соответствует простому нажатию на кнопку Reload. Если в качестве аргумента указать <a href="javascript:window.location.reload(false);void(0);">false</a>, то браузер перезагрузит текущий документ с сервера, не взирая ни на что. Такое поведение соответствует одновременному нажатию на Reload и кнопку клавиатуры shift(Reload+shift).



<p class=just>



Метод <em>replace</em> позволяет заместить текущую страницу на другую страницу таким образом, что это замещение не будет отражено в трассе просмотра html-страниц(history) и при нажатии на кнопку Back из панели инструментов пользователь всегда будет попадать на первую загруженную нормальным способом (по гипертекстовой ссылке) страницу. Напомним, что при изменении свойств location также происходит перезагрузка страниц, но в этом случае записи об их посещении в history попадают.



<!-- В начало страницы -->



<p align=right><a href=#top class=tree id=home><img src="treeup.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treeup.gif" border=0 align=top hspace=2><br>начало страницы<img src="treeru.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treeru.gif" border=0 align=top hspace=2></a><br>



<!-- Конец перехода -->



<p><!-- Конец текста документа -->



<!-- Меню последовательного просмотра(нижнее) -->



<map name=bmenu>

<area shape=rect coords="0,0,60,15" href="status.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/status.htm">

<area shape=rect coords="500,0,560,15" href="history.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/history.htm">

</map>

<p>

<img src="bottom_l.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/bottom_l.gif" boredr=0 width=560 height=15 border=0 usemap=#bmenu><br>



<!-- Конец меню последовательного просмотра(нижнее) -->



<!-- Нижний логотип -->



<a href="javascript:if(confirm('http://www.citmgu.ru/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.citmgu.ru/'" tppabs="http://www.citmgu.ru/"><img src="bottom.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/bottom.gif" border=0 width=560 height=15></a>
<!-- SpyLOG v2 f:0211 -->
<script language="javascript">
u="http://webclass.polyn.kiae.su/classes/jsi/u686.25.spylog.com";d=document;nv=navigator;na=nv.appName;p=1;
bv=Math.round(parseFloat(nv.appVersion)*100);
n=(na.substring(0,2)=="Mi")?0:1;rn=Math.random();z="p="+p+"&rn="+rn;y="";
y+="<a href='http://"+u+"/cnt?f=3&p="+p+"&rn="+rn+"' target=_blank>";
y+="<img src='http://"+u+"/cnt?"+z+"&r="+escape(d.referrer)+"&pg="+escape(window.location.href)+"' border=0  width=0 height=0  alt='SpyLOG'>";
y+="</a>"; d.write(y);if(!n) { d.write("<"+"!--"); }//--></script><noscript>
<a href="javascript:if(confirm('http://u686.25.spylog.com/cnt?f=3&p=1  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://u686.25.spylog.com/cnt?f=3&p=1'" tppabs="http://u686.25.spylog.com/cnt?f=3&p=1" target=_blank>
<img src="cnt-p=1" tppabs="http://u686.25.spylog.com/cnt?p=1" alt='SpyLOG' border='0'  width=0 height=0 >
</a></noscript><script language="javascript1.2"><!--
if(!n) { d.write("--"+">"); }//--></script>
<!-- SpyLOG  -->



<!-- Конец нижнего логотипа -->



</div>



</BODY>



</HTML>



