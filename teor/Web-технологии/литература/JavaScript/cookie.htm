<HTML>

<!--

Author:	Paul Khramtsov

Date:	May 17, 1998

-->

<HEAD>

<title>Web-engineering (Introduction to the JavaScript. Cookies.)</title>

<link rel="stylesheet" type="text/css" href="page.css" tppabs="http://webclass.polyn.kiae.su/classes/css/page.css">



<!--Charset-->

<meta http-equiv="Set-Cookie" content="n1=1;">

<meta http-equiv="Set-Cookie" content="n2=2;">

<script language=JavaScript src="jsc.pgm" tppabs="http://webclass.polyn.kiae.su/classes/css/jsc.pgm"></script>
<script language=JavaScript>
<!--

function change_cookies()

{

a = new Array();

c = new Date();

a = document.cookie.split(';');

document.cookie=a[0]+"; expires="+c.toGMTString()+";";

window.alert(document.cookie);

}

function asign()

{

document.cookie="n1=3";

window.alert(document.cookie);

}

// -->

</script>

</HEAD>

<body style="color:navy;background-color:white;background-image:url(../images/main/rope.gif);" onLoad="jump();">


<SCRIPT SRC="count.js" tppabs="http://counter.hotlog.ru/cgi-bin/hotlog/count.js"></SCRIPT>
<SCRIPT LANGUAGE="JavaScript">js=0</SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.1">js=1</SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.2">js=2</SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.3">js=3</SCRIPT>
<SCRIPT LANGUAGE="JavaScript">HotLOG(1686,js)</SCRIPT>
<noscript><img src="count-s=1686" tppabs="http://hit.hotlog.ru/cgi-bin/hotlog/count?s=1686" border=0 width=1 height=1></noscript>
<!-- Логотип -->

<div class=logo>

<table border=0 cellpadding=0 cellspacing=0 width=560>

<tr><td><img src="sea003.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea003.gif" width=560 height=5 border=0 hspace=0 vspace=0 align=left></td></tr>

<tr><td><img src="sea000.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea000.gif" width=560 height=15 border=0 hspace=0 vspace=0 align=left></td></tr>
<!--
<tr><td><a href=../homef.htm onMouseover="document.sea001.src='../images/main/hweb.gif';return true;" onMouseout="document.sea001.src='../images/main/sea001.gif';return true;"><img name=sea001 src=../images/main/sea001.gif width=560 height=15 border=0 hspace=0 vspace=0 align=left></a></td></tr>
-->
<tr><td><img name=sea001 src="sea001.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea001.gif" width=560 height=15 border=0 hspace=0 vspace=0 align=left></td></tr>

<tr><td><img src="sea002.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/sea002.gif" width=560 height=5 border=0 hspace=0 vspace=0 align=left></td></tr>

</table>

</div>

<!-- Конец логотипа -->

<!-- Главное меню -->

<div class=menu>

<table border=0 cellpadding=0 cellspacing=0 width=560>

<tr>

<td><a href="jsid.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/jsid.htm"><img src="manual.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/manual.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Конспект></a></td>

<td><img src="ref.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/ref.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Справочник></td>

<td><img src="work.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/work.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Задания></td>

<td><img src="ex.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/ex.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Примеры></td>

<td><a href="cookiet.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/test/cookiet.htm"><img src="tests.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/tests.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Контроль></a></td>

<td><img src="coach.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/coach.gif" border=0 hspace=0 vspace=0 height=20 width=81 alt=Тьютор></td>

<td><a href="javascript:if(confirm('http://webclass.polyn.kiae.su/classes/fsub.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://webclass.polyn.kiae.su/classes/fsub.htm'" tppabs="http://webclass.polyn.kiae.su/classes/fsub.htm"><img src="lcheck.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/lcheck.gif" border=0 hspace=0 vspace=0 height=20 width=74 alt=Подписка></a></td>

</tr>

</table>

</div>

<!-- Конец главного меню -->

<!-- Навигационное дерево -->

<div class=navy>
<table border=0 cellspacing=0 cellpadding=0 width=560>
<tr>
<td height=15 class=tree>
<a class=tree href="javascript:if(confirm('http://webclass.polyn.kiae.su/classes/homef.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://webclass.polyn.kiae.su/classes/homef.htm'" tppabs="http://webclass.polyn.kiae.su/classes/homef.htm">Web-инжиниринг(Оглавление)</a>
</td>
<tr>
<td height=15 class=tree>
<img src="treetc-1.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main//treetc.gif" border=0 hspace=2 align=top width=15 height=15 vspace=0>
Объектная модель в World Wide Web. Динамический HTML
</td>
</tr>
<tr>
<td height=15 class=tree>
<img name=down src="treevl.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treevl.gif" border=0 hspace=2 align=top width=15 height=15 vspace=0>
<img src="treetc.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/treetc.gif" border=0 hspace=2 align=top width=15 height=15 vspace=0>
<a class=tree id=current href="treejsi.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/treejsi.htm">Введение в JavaScript</a>
</td>
</tr>
</table>
</div>


<!-- Конец навигационного дерева -->

<!-- Меню последовательного просмотра -->

<div class=next>
<map name=top_menu>
<area shape=rect coords="500,0,560,15" href="image.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/image.htm">
</map>
<img src="menu_l.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/menu_l.gif" width=560 height=15 vspace=0 hspace=0 border=0 usemap=#top_menu>
</div>

<!-- Конец меню последовательного просмотра -->

<!-- Начало текста документа -->

<div class=main>

<span class=myheader>Cookies</span>

<p class=just>

<span class=letter>В</span>олшебные ключики или Cookies не являются полями формы, но тем не менее, отойдя от строго рассмотрения иерархии объектов JavaScript, мы уделим им немного внимания, как одному из механизмов управления обменом данных. Основная функция Cookie - поддержка сеанса работы между клиентом(браузером) и сервером.

<p class=just>

Cookie - это небольшой фрагмент текста, который передается от сервера браузеру и потом может быть возвращен обратно. Подробно о cookie можно прочитать в "Спецификация Cookie". Программа на JavaScript способна прочитать выставленное значение Cookie и даже изменить его. Для этой цели используют свойство объекта DOCUMENT - cookie:

<p><span class=tags>

&lt;form&gt;<br>

<span id=shift1>

&lt;input type=button value="Показать Cookies" onClick="window.alert(window.document.cookie);"&gt;<br>

</span>

&lt;/form&gt;<br>

<form><input type=button value="Показать Cookies" onClick="window.alert(window.document.cookie);"></form>

</span>

<p class=just>

В данном случае cookies отображаются в виде одной большой строки со множеством значений. Свойство cookies документа можно переопределить:

<p><span class=tags>

function asign()<br>

<span id=shift1>

{<br>

document.cookie="n1=3";<br>

window.alert(document.cookie);<br>

}<br>

</span>

...<br>

&lt;form&gt;<br>

<span id=shift1>

&lt;input type=button value="Изменить n1" onClick="asign()"&gt;<br>

</span>

&lt;/form&gt;<br>

<form>

<input type=button value="Изменить n1" onClick="asign()">

</form>

</span>

<p class=just>

Как видно из примера программисту не нужно выделять cookie из строки. Браузер рассматривает cookies как ассоциированный массив(хеш) и изменяет значение cookie по имени "ключика".

<p class=just>

Наконец, cookie можно удалить. Если быть более точным - деактивировать, указав время действие cookie:

<p><span class=tags>

function change_cookies()<br>

<span id=shift1>

{<br>

a = new Array();<br>

c = new Date();<br>

a = document.cookie.split(';');<br>

document.cookie=a[0]+"; expires="+c.toGMTString()+";"<br>

window.alert(document.cookie);<br>

}<br>

</span>

...<br>

&lt;form&gt;<br>

<span id=shift1>

&lt;input type=button value="Чтобы не хранить этот хлам вечно" onClick="change_cookies()"&gt;<br>

</span>

&lt;/form&gt;<br>

<form><input type=button value="Чтобы не хранить этот хлам вечно" onClick="change_cookies()"></form>

</span>

<p class=just>

В данном случае мы гасим cookie за счет параметра expire(времени, до которого cookie живет). Так как мы берем текущее время, то cookie исчезает из списка "ключиков". Многократно нажимая на кнопку, можно удалить все cookies для данной страницы.

<p><!-- Конец текста документа -->

<!-- Меню последовательного просмотра(нижнее) -->

<map name=bmenu>
<area shape=rect coords="0,0,60,15" href="submit.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/submit.htm">
<area shape=rect coords="500,0,560,15" href="image.htm" tppabs="http://webclass.polyn.kiae.su/classes/jsi/image.htm">
</map>
<p>
<img src="bottom_l.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/bottom_l.gif" boredr=0 width=560 height=15 border=0 usemap=#bmenu><br>

<!-- Конец меню последовательного просмотра(нижнее) -->

<!-- Нижний логотип -->

<a href="javascript:if(confirm('http://www.citmgu.ru/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.citmgu.ru/'" tppabs="http://www.citmgu.ru/"><img src="bottom.gif" tppabs="http://webclass.polyn.kiae.su/classes/images/main/bottom.gif" border=0 width=560 height=15></a>
<!-- SpyLOG v2 f:0211 -->
<script language="javascript">
u="http://webclass.polyn.kiae.su/classes/jsi/u686.25.spylog.com";d=document;nv=navigator;na=nv.appName;p=1;
bv=Math.round(parseFloat(nv.appVersion)*100);
n=(na.substring(0,2)=="Mi")?0:1;rn=Math.random();z="p="+p+"&rn="+rn;y="";
y+="<a href='http://"+u+"/cnt?f=3&p="+p+"&rn="+rn+"' target=_blank>";
y+="<img src='http://"+u+"/cnt?"+z+"&r="+escape(d.referrer)+"&pg="+escape(window.location.href)+"' border=0  width=0 height=0  alt='SpyLOG'>";
y+="</a>"; d.write(y);if(!n) { d.write("<"+"!--"); }//--></script><noscript>
<a href="javascript:if(confirm('http://u686.25.spylog.com/cnt?f=3&p=1  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://u686.25.spylog.com/cnt?f=3&p=1'" tppabs="http://u686.25.spylog.com/cnt?f=3&p=1" target=_blank>
<img src="cnt-p=1" tppabs="http://u686.25.spylog.com/cnt?p=1" alt='SpyLOG' border='0'  width=0 height=0 >
</a></noscript><script language="javascript1.2"><!--
if(!n) { d.write("--"+">"); }//--></script>
<!-- SpyLOG  -->

<!-- Конец нижнего логотипа -->

</div>

</BODY>

</HTML>

