<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
 <head>
  <title>Russian Apache: Installation</title>
 </head>

 <body bgcolor="#ffffff" vlink="#254d96" link="0000ff" text="#00114d">
   <!--begin of Top100-->
   <a href="http://counter.rambler.ru/top100/"><img src="http://counter.rambler.
ru/top100.cnt?29788" alt="" width=1 height=1 border=0></a>
   <!--end of Top100 code-->
<center>
   <table border="0" cellspacing="0" cellpadding="0" width=574> 
    <tr><td>
      <table border="0" cellspacing="0" cellpadding="0">
       <tr valign="top">
	<td width="436" rowspan="2" >
		<img src="/buttons/m1.gif" width=436 height=81 border=0 alt="Russian Apache"></a></td>
	<td colspan="2" width="138"><a href="/english/"><img src="/buttons/english.gif" width=138 height=28 border=0 alt="Switch to English"></a></td>
       </tr>
       <tr valign="top">
	<td><a href="/"><img src="/buttons/russian.gif" width=85 height=53 border=0 
	   alt="Switch to Russian" hspace=0 vspace=0></a></td
	 >
	<td><a href="http://apache.lexa.ru:8100/install.html"><img src="/buttons/koi8-r.gif" width=53 height=15 border=0 alt="koi8-r"></a><br>
	 <a href="http://apache.lexa.ru:8101/install.html"><img src="/buttons/windows.gif" width=53 height=13 border=0 alt="windows=1251"></a><br>
	 <a href="http://apache.lexa.ru:8102/install.html"><img src="/buttons/cp-866.gif" width=53 height=12 border=0 alt="cp-866"></a><br>
	 <a href="http://apache.lexa.ru:8103/install.html"><img src="/buttons/iso.gif" width=53 height=13 border=0 alt="iso8859-5"></a></td>
       </tr>
      </table>
    </tr>
    <tr><td>
   <table border="0" cellspacing="0" cellpadding="0" width=574>
    <TR><TD>
      <table border="0" cellspacing="0" cellpadding="0" width=574>
       <tr valign="top">
	<td width="76" height=40><a href="/index.html"><img src="/buttons/but-ra.gif" width=76 height=40 border=0 alt="Russian Apache"></a></td>
	<td width="84"><a href="/internals.html"><img src="/buttons/but-how.gif" width=84 height=40 border=0 alt="Как это работает"></a></td>
	<td width="78"><a href="/notes.html"><img src="/buttons/but-recomm.gif" width=78 height=40 border=0 alt="Рекоммендации"></a></td>
	<td width="78"><a href="/getit.html"><img src="/buttons/but-where.gif" width=78 height=40 border=0 alt="Где взять"></a></td>
	<td width="84"><a href="/install.html"><img src="/buttons/but-setup_.gif" width=84 height=40 border=0 alt="Как установить"></a></td>
	<td width="78"><a href="/configure.html"><img src="/buttons/but-config.gif" width=78 height=40 border=0 alt="Как настроить"></a></td>
	<td width="95"><a href="/support.html"><img src="/buttons/but-support.gif" width=95 height=40 border=0 alt="Статус и поддержка"></a></td>
       </tr>
       <tr valign=top>
	<td><a href="/intro.html"><img src="/buttons/but-short.gif" width=76 height=38 border=0 alt="Краткий обзор"></a></td>
	<td><a href="/faq.html"><img src="/buttons/but-faq.gif" width=84 height=38 border=0 alt="FAQ"></td>
	<td><a href="/mail-archive/"><img src="/buttons/but-archive.gif" width=78 height=38 border=0 alt="Список рассылки"></a></td>
	<td><a href="/thanks.html"><img src="/buttons/but-thanks.gif" width=78 height=38 border=0 alt="Благодарности"></a></td>
	<td><a href="/srch.mhtml"><img src="/buttons/but-search.gif" width=84 height=38 border=0 alt="Поиск по серверу"></a></td>
	<td colspan=2><a href="/powered.html"><img src="/buttons/but-power.gif" width=173 height=38 border=0 alt="Powered by Russian Apache"></a></td>
       </tr>
   </table>
      </TD>
    <TD>
    </tr>
   </table>
      </TD>
</TR></TABLE>
  </center>

  <CENTER>
   <A NAME="part3"><font size="+2">Как установить?</font></A><br>
   <img src="line.gif">
  </CENTER>

  <h4 align=center>Установка новых (сделанных на базе Apache-1.3.x) версий</h4>
  <ol>
   <LI><font size="+1">Распаковка исходных текстов.</font> 
    <ul>
     <li>Если вы перекачали себе полный архив (apache_1.3.NrusPLMM.K.tar.gz),
      просто распакуйте его программой tar:
      <pre>
tar xzvf apache-1.3.0-rusPL25.7.tar.gz
      </pre>
     <li>
      Если вы перекачивали только правки (файл patches_1.3.0...), то
      распакуйте сначала дистрибутивный Apache-1.3.0 (<code>tar xzvf apache_1.3.0.tar.gz</code>), затем перейдите в директорию apache_1.3.0 и раскройте архив с
      патчами (<code>tar xzvf /path/to/patches_1.3.0rusPLNN.M.tar.gz</code>).
      При этом распакуются все дополнительные файлы, которых нет в оригинальном
      apache и файл RA-1.3rusPLNN.M.patch в котором содержатся исправления к
      оригинальному коду. Эти исправления &quot;накладываются&quot; программой
      patch (<code>patch -p0 &lt;RA-1.3rusPLNN.M.patch</code>)
    </ul>
   <LI><font size="+1">Компиляция.</font> 
    <ul>
      Apache-1.3.x настраивается на окружение с помощью программы configure.
      Для настроек по-умолчанию запустите <code>./configure</code>, если
      умолчания хочется поменять, то все (или почти все) делается с помощью
      параметров этого скрипта (см. <code>./configure --help</code>).<p>
       Для компиляции и установки запустите <code>make &amp;&amp; make install
       </code>.
       После <code>make install</code> вам сообщат (в красивой рамочке) что
       нужно делать для запуска HTTP-сервера.
    </ul>
  </ol>

  <h4 align=center>Установка старых версий</h4>

  <OL>
   <LI><font size="+1">Распаковка исходных текстов.</font> 
    <UL>
     <LI>
      Для установки из полного архива - раскройте полученный архив с
      помощью программы tar: 
      <pre>
tar xzvf apache-1.1.3-rusPL14.tar.gz
      </pre>
     <LI>
      Для установки из дистрибутивного архива и набора патчей - раскройте
      архив и наложите патчи (вам понадобится программа patch): 
      <pre>
tar xzvf apache_1.1.3.tar.gz
cd apache_1.1.3
gzcat /path/to/patches_1.1.3rusPL15.gz | patch -p1
      </pre>
    </UL>
    <p>
   <LI><font size="+1">Настройка перед компиляцией</font>
    <ul>
      Перейдите в каталог /where/is/apache.../src и 
      отредактируйте файл Configuration в соответствии с вашими 
      реалиями. В большинстве случаев этот шаг можно безболезненно пропустить -
      Apache-1.2 снабжен достаточно мощным механизмом самоконфигурации, который
      хорошо работает на большинстве распространенных систем.<p>

  <h4>Параметры компиляции, настраиваемые в файле Configuration</h4>
  <OL>
   <LI>Для включения поддержки перекодировки в вашей конфигурации должен быть 
    указан  модуль mod_charset и включена директива препроцессора 
    USE_TRANSFER_TABLES  (-DUSE_TRANSFER_TABLES в строчке EXTRA_CFLAGS=...). 
    Эта директива включена  по-умолчанию (т.е. при использовании 
    дистрибутивного файла Configuration).
   <LI>Директива препроцессора EPOCH_EXPIRES (-DEPOCH_EXPIRES в строчке 
    EXTRA_CFLAGS) отвечает за дату в  заголовке Expires для 
    документов, которые не нужно кэшировать. При компиляции без этой 
    директивы, в заголовок Expires ставится текущее время сервера. Это 
    работает во всех случаях, кроме того, когда на клиенте или промежуточном 
    proxy-сервере стоит неправильное время. Т.к. неправильная установка 
    времени на клиентской машине и/или proxy не может быть 
    проконтролирована, то надежнее ставить время в заголовке Expires в 
    прошлом, что и делает сервер, если его скомпилировать с ключем 
    EPOCH_EXPIRES.
   <LI>
    Директива препроцессора XCYRILLIC (-DXCYRILLIC в EXTRA_CFLAGS) включает 
    распознавание мало распространенного &quot;хака&quot; программы Mosaic 
    (Accept: text/x-cyrillic-charset), сделанного Евгением Мироновым в 1994-м 
    (кажется) году. В настоящее время этот хак практически не актуален, а его
    поддержка уменьшает &quot;кэшируемость&quot; документов при использовании 
    протокола HTTP/1.1 (в заголовок Vary: добавляется не необходимое поле
    Accept), поэтому включение этой директивы не рекомендуется (а пользователи 
    &quot;хакнутой&quot; версии Mosaic могут использовать кнопки явного выбора 
    кодировки, если они конечно есть на Вашем сервере).
  </OL>
 </ul>
  <p>
   <LI><font size="+1">Компиляция.</font>
    <ul> 
      Запустите ./Configure, а затем make. Если make завершится без
      ошибок  - перейдите к шагу 4, если с ошибками - к шагу 2.
    </ul>
    <p>
     <LI><font size="+1">Начальная конфигурация</font>
      <ul>
	Создайте директорию (если ее еще нет), в которой будет находиться 
	дерево WWW-сервера. Сделайте там поддиректорию conf.
	Скопируйте в conf/ конфигурационные файлы &quot;Russian Apache&quot;,
	переименовав *.conf-dist в *.conf, отредактируйте *.conf в
	соответствии с вашими реалиями (реально нужно поправить пути и имена
	файлов)
      </ul>
      <p>
       <LI><font size="+1">Пробный запуск</font>
	<ul>
	  Попробуйте запустить все хозяйство. /path/to/httpd -d /your/www/root
	  Если сервер запустится без ошибок, то скорее всего все предшествующие
	  шаги совершены успешно.
	  <p>
	   <i>(Для версии PL17b и старше) Если у вас нет никаких готовых 
	    документов, то для тестирования можно взять документы из 
	    /path/to/apache-rus/test-squite/htdocs -
	    там есть тестовые .html/.shtml/.cgi, позволяющие понять правильно 
	    ли работает  сервер.</i>
	</ul>
       </OL>
	<hr>
<hr>
<center>
<center>
<table width=90% cellspacing=0 celpadding=0 bgcolor="#aaaaaa">
<tr><td>
<table width=100% cellspacing=4 celpadding=4 bgcolor="#eeeeee">
<tr><td ><div class=adv>
<A HREF="http://www.zagdoma.ru/2/12/">дома из оцилиндрованного бревна</A>

<a href="http://www.strahovka-news.ru/">Страхование автомобилей ОСАГО</a>

</div>
</td></tr></table>
</td></tr></table>
</center>

</center>


<br>
<br>

<center>
<table width=100%>
<tr><td align=center>
<font size="-1">
   <a href="/index.html">[ <b>Russian Apache</b> ]</a>
   <a href="/internals.html">[ Как это работает ]</a>
   <a href="/notes.html">[ Рекомендации ]</a> 
   <a href="/getit.html">[ Где взять ]</a> 
   <a href="/install.html">[ Как установить ]</a>
   <a href="/configure.html">[ Как настроить ]</a><br>
   <a href="/support.html">[ Статус и поддержка ]</a>
   <a href="/intro.html">[ Краткий обзор ]</a>
   <a href="/faq.html">[ FAQ ]</a> 
   <a href="/mail-archive/">[ Список рассылки ]</a>
   <a href="/thanks.html">[ Благодарности ]</a>
   <a href="/search.html">[ Поиск по серверу ]</a><br>
   <a href="/powered.html">[ Powered by Russian Apache ]</a><br>
</td></tr></table>
<br>

  <table width="800" border="0" cellspacing="0" cellpadding="0">
   <tr>
    <td align="CENTER">
  <font size="-1"><b>"Russian Apache"</b> includes software developed 
   by the Apache Group for use in the Apache HTTP server project 
   (http://www.apache.org/) See 
   <a href="/thanks.html#LICENSE">Apache LICENSE</a>.<br>
   Copyright (C) 1995-2001 The Apache Group. All rights reserved.<br>
   Copyright (C) 1996 Dm. Kryukov; Copyright (C)
   1997-2002 <a href="http://www.lexa.ru/">Alex Tutubalin</a>. Design (C) 1998 Max Smolev.
	    </font>
	  </td>
       <td width=10></td>   
         <td valign=top>
<a href="http://counter.rambler.ru/top100/"><FONT size=1>[AD]</FONT><AD- =0></a>
          </td>    
	</tr>
      </table>
</center>

 </body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: html3
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
End:
-->
