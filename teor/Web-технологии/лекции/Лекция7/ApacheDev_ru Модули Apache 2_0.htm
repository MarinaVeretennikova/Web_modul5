<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0060)http://www.apachedev.ru/modules.php?name=Pages&go=page&pid=9 -->
<HTML><HEAD><TITLE>ApacheDev.ru Модули Apache 2.0</TITLE>
<META content="text/html; charset=windows-1251" http-equiv=Content-Type>
<META content=0 http-equiv=EXPIRES>
<META content=DOCUMENT name=RESOURCE-TYPE>
<META content=GLOBAL name=DISTRIBUTION>
<META content=ApacheDev.ru name=AUTHOR>
<META content="Copyright (c) by ApacheDev.ru" name=COPYRIGHT>
<META 
content="Apache, apache, Апач, апач, настройка apache, разработка под apache, модули apache, module, modules, mod, скачать apache, установка apache, php, mysql, настройка сервера apache, http server, ant, cocoon, db, excalibur, forrest, geronimo, gump, incubator, xml, http сервер, http, https, apache download, apache 2.0, asp apache, сервер, server, ssh, документация apache, взлом apache, устройство apache, perl, active perl, apache win32, ssi, apache server, ssl, conf, tomcat, APR, apr, htaccess, opensll, phpmyadmin, php4, mod_perl, httpd, webalizer, webdav, php3, mod_ssl, apache2, activeperl, mod_dav, http, cgi, contents, virtual host, postgresql, redirect, localhost, allow, cocoon, jakarta, deny, 8080, tomcat, mod_gzip, standalone" 
name=KEYWORDS>
<META 
content="Это завершающая статья Райна Блума (Rayn Bloom). Она рассказывает о механизме взаимодействия модулей Apache 2.0" 
name=DESCRIPTION>
<META content="INDEX, FOLLOW" name=ROBOTS>
<META content="1 DAYS" name=REVISIT-AFTER>
<META content=GENERAL name=RATING>
<META content="MSHTML 5.00.3700.6699" name=GENERATOR><LINK 
href="ApacheDev_ru Модули Apache 2_0.files/style.css" rel=StyleSheet 
type=text/css></HEAD>
<BODY aLink=#d5ae83 bgColor=#ffffff link=#363636 text=#000000 
vLink=#363636><BR><BR>
<TABLE align=center bgColor=#ffffff border=0 cellPadding=0 cellSpacing=0 
width=750>
  <TBODY>
  <TR>
    <TD bgColor=#f3e1af><IMG 
  src="themes/Karate/images/tophighlight.gif"></TD></TR></TBODY></TABLE>
<TABLE align=center bgColor=#ffffff border=0 cellPadding=0 cellSpacing=0 
width=750>
  <TBODY>
  <TR vAlign=center>
    <TD align=left bgColor=#f3e1af width=400>&nbsp;<A 
      href="http://www.apachedev.ru/index.php" 
      style="FONT-SIZE: 12px; FONT-WEIGHT: bold; TEXT-DECORATION: none"><IMG 
      alt="Welcome to ApacheDev.ru!" 
    src="themes/ApacheDev/images/logo.gif"></A></TD></TR></TBODY></TABLE>
<TABLE align=center bgColor=#fefefe border=0 cellPadding=0 cellSpacing=0 
width=750>
  <TBODY>
  <TR>
    <TD bgColor=#000000 colSpan=4><IMG alt="" border=0 height=1 hspace=0 
      src="themes/ApacheDev/images/pixel.gif" width=1></TD></TR>
  <TR bgColor=#efce6b vAlign=center>
    <TD noWrap width="15%">
      <FORM action=modules.php?name=Search method=post><FONT class=content 
      color=#000000><B>&nbsp;Поиск </B><INPUT name=query 
    size=14></FONT></FORM></TD>
    <TD align=middle height=20 width="60%"><FONT class=content>&nbsp; </FONT>
    <TD align=right width="25%"><FONT class=content>
      <SCRIPT type=text/javascript>

<!--   // Array ofmonth Names
var monthNames = new Array( "January","February","March","April","May","June","July","August","September","October","November","December");
var now = new Date();
thisYear = now.getYear();
if(thisYear < 1900) {thisYear += 1900}; // corrections if Y2K display problem
document.write(monthNames[now.getMonth()] + " " + now.getDate() + ", " + thisYear);
// -->

</SCRIPT>
      </FONT></TD>
    <TD>&nbsp;</TD></TR>
  <TR>
    <TD bgColor=#000000 colSpan=4><IMG alt="" border=0 height=1 hspace=0 
      src="themes/ApacheDev/images/pixel.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE align=center bgColor=#ffffff border=0 cellPadding=0 cellSpacing=0 
width=750>
  <TBODY>
  <TR vAlign=top>
    <TD bgColor=#f3e1af><IMG alt="" border=0 height=3 
      src="themes/ApacheDev/images/pixel.gif" width=1></TD></TR>
  <TR vAlign=top>
    <TD bgColor=#ffffff><IMG alt="" border=0 height=5 
      src="themes/ApacheDev/images/pixel.gif" width=1></TD></TR></TBODY></TABLE><BR>
<TABLE align=center bgColor=#ffffff border=0 cellPadding=0 cellSpacing=0 
width=750>
  <TBODY>
  <TR vAlign=top>
    <TD bgColor=#eeeeee vAlign=top width=150>
      <TABLE bgColor=#000000 border=0 cellPadding=1 cellSpacing=0 width=150>
        <TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#f3e1af border=0 cellPadding=3 cellSpacing=0 
            width="100%">
              <TBODY>
              <TR>
                <TD align=left><FONT class=content 
                  color=#363636><B>Навигация</B></FONT> 
        </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <TABLE border=0 cellPadding=3 cellSpacing=0 width=150>
        <TBODY>
        <TR vAlign=top>
          <TD><STRONG><BIG>·</BIG></STRONG> <A 
            href="http://www.apachedev.ru/index.php">Главная</A><BR><STRONG><BIG>·</BIG></STRONG> 
            <A 
            href="http://www.apachedev.ru/modules.php?name=Topics">Новости</A><BR><STRONG><BIG>·</BIG></STRONG> 
            <A 
            href="http://www.apachedev.ru/modules.php?name=Pages">Статьи</A><BR><STRONG><BIG>·</BIG></STRONG> 
            <A href="http://www.apachedev.ru/modules.php?name=Files">Каталог 
            файлов</A><BR><STRONG><BIG>·</BIG></STRONG> <A 
            href="http://www.apachedev.ru/modules.php?name=Web_Links">Ссылки</A><BR><STRONG><BIG>·</BIG></STRONG> 
            <A 
            href="http://www.apachedev.ru/modules.php?name=Search">Поиск</A><BR><STRONG><BIG>·</BIG></STRONG> 
            <A 
            href="http://www.apachedev.ru/modules.php?name=Feedback">Контакт</A> 
          </TD></TR></TBODY></TABLE><BR>
      <TABLE bgColor=#000000 border=0 cellPadding=1 cellSpacing=0 width=150>
        <TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#f3e1af border=0 cellPadding=3 cellSpacing=0 
            width="100%">
              <TBODY>
              <TR>
                <TD align=left><FONT class=content 
                  color=#363636><B>Рекомендуем</B></FONT> 
        </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <TABLE border=0 cellPadding=3 cellSpacing=0 width=150>
        <TBODY>
        <TR vAlign=top>
          <TD>
            <DIV align=center>
            <SCRIPT type=text/javascript><!--
google_ad_client = "pub-1719997141905626";
google_ad_width = 120;
google_ad_height = 240;
google_ad_format = "120x240_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "000000";
google_color_bg = "F0F0F0";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></SCRIPT>

            <SCRIPT src="ApacheDev_ru Модули Apache 2_0.files/show_ads.js" 
            type=text/javascript>
</SCRIPT>
            </DIV></TD></TR></TBODY></TABLE><BR>
      <TABLE bgColor=#000000 border=0 cellPadding=1 cellSpacing=0 width=150>
        <TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#f3e1af border=0 cellPadding=3 cellSpacing=0 
            width="100%">
              <TBODY>
              <TR>
                <TD align=left><FONT class=content 
                  color=#363636><B>Правописание</B></FONT> 
          </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <TABLE border=0 cellPadding=3 cellSpacing=0 width=150>
        <TBODY>
        <TR vAlign=top>
          <TD>
            <CENTER><IFRAME frameBorder=0 height=31 id=orphus scrolling=no 
            src="ApacheDev_ru Модули Apache 2_0.files/ads.htm" 
            width=88></IFRAME><BR>Выделите в тексте ошибку и нажмите 
            Ctrl+Enter</CENTER></TD></TR></TBODY></TABLE><BR>
      <TABLE bgColor=#000000 border=0 cellPadding=1 cellSpacing=0 width=150>
        <TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#f3e1af border=0 cellPadding=3 cellSpacing=0 
            width="100%">
              <TBODY>
              <TR>
                <TD align=left><FONT class=content 
                  color=#363636><B>Статистика</B></FONT> 
        </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <TABLE border=0 cellPadding=3 cellSpacing=0 width=150>
        <TBODY>
        <TR vAlign=top>
          <TD>
            <DIV align=center><!-- SpyLOG f:0211 -->
            <SCRIPT language=javascript><!--
Md=document;Mnv=navigator;Mp=1;
Mn=(Mnv.appName.substring(0,2)=="Mi")?0:1;Mrn=Math.random();
Mt=(new Date()).getTimezoneOffset();
Mz="p="+Mp+"&rn="+Mrn+"&t="+Mt;
Md.cookie="b=b";Mc=0;if(Md.cookie)Mc=1;Mz+='&c='+Mc;
Msl="1.0";
//--></SCRIPT>

            <SCRIPT language=javascript1.1><!--
Mpl="";Msl="1.1";Mj = (Mnv.javaEnabled()?"Y":"N");Mz+='&j='+Mj;
//--></SCRIPT>

            <SCRIPT language=javascript1.2><!--         
Msl="1.2";
//--></SCRIPT>

            <SCRIPT language=javascript1.3><!--
Msl="1.3";//--></SCRIPT>

            <SCRIPT language=javascript><!--
Mu="u6485.81.spylog.com";My="";
My+="<a href='http://"+Mu+"/cnt?cid=648581&f=3&p="+Mp+"&rn="+Mrn+"' target='_blank'>";
My+="<img src='http://"+Mu+"/cnt?cid=648581&"+Mz+"&sl="+Msl+"&r="+escape(Md.referrer)+"&pg="+escape(window.location.href)+"' border=0  width=88 height=31  alt='SpyLOG'>";
My+="</a>";Md.write(My);//--></SCRIPT>
            <NOSCRIPT><A 
            href="http://u6485.81.spylog.com/cnt?cid=648581&amp;f=3&amp;p=1" 
            target=_blank><IMG alt=SpyLOG border=0 height=31 
            src="http://u6485.81.spylog.com/cnt?cid=648581&amp;p=1" width=88> 
            </A></NOSCRIPT><!-- SpyLOG  -->
            <DIV></DIV></DIV></TD></TR></TBODY></TABLE><BR>
      <TABLE bgColor=#000000 border=0 cellPadding=1 cellSpacing=0 width=150>
        <TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#f3e1af border=0 cellPadding=3 cellSpacing=0 
            width="100%">
              <TBODY>
              <TR>
                <TD align=left><FONT class=content 
                  color=#363636><B>Экспорт</B></FONT> 
        </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <TABLE border=0 cellPadding=3 cellSpacing=0 width=150>
        <TBODY>
        <TR vAlign=top>
          <TD>
            <DIV align=center><A href="http://www.apachedev.ru/export.xml"><IMG 
            border=0 src="/images/rss.gif"></A></DIV></TD></TR></TBODY></TABLE><BR></TD>
    <TD><IMG alt="" border=0 height=1 src="themes/Karate/images/pixel.gif" 
      width=15></TD>
    <TD width="100%">
      <TABLE bgColor=#efce68 border=0 cellPadding=0 cellSpacing=1 
        width="100%"><TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#efefef border=0 cellPadding=8 cellSpacing=1 
            width="100%">
              <TBODY>
              <TR>
                <TD>
                  <CENTER>
                  <FORM name=gocat>
                  <TABLE>
                    <TBODY>
                    <TR>
                      <TD><SELECT name=cat 
                        onchange=location.href=gocat.cat.options[selectedIndex].value><OPTION 
                          selected value="">Выбор категории</OPTION><OPTION 
                          value=modules.php?name=Pages&amp;go=showcat&amp;cid=16>The 
                          Apache Modeling Project</OPTION><OPTION 
                          value=modules.php?name=Pages&amp;go=showcat&amp;cid=5>Архитектура 
                          Apache</OPTION><OPTION 
                          value=modules.php?name=Pages&amp;go=showcat&amp;cid=17>Безопасность</OPTION><OPTION 
                          value=modules.php?name=Pages&amp;go=showcat&amp;cid=6>Модули 
                          Apache</OPTION><OPTION 
                          value=modules.php?name=Pages&amp;go=showcat&amp;cid=14>Основы 
                          Apache</OPTION><OPTION 
                          value=modules.php?name=Pages>Начало 
                        раздела</OPTION></SELECT></TD></TR></TBODY></TABLE></FORM>
                  <HR>
                  <B>Основы Apache</B><BR>Установка. Настройка. Базовые 
                  принципы.</CENTER></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
      <TABLE bgColor=#efce68 border=0 cellPadding=0 cellSpacing=1 
        width="100%"><TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#efefef border=0 cellPadding=8 cellSpacing=1 
            width="100%">
              <TBODY>
              <TR>
                <TD>
                  <H2 align=center>Модули Apache. </H2>
                  <P align=left>Автор: Райн Блум (Ryan Bloom)<BR>Перевод: 
                  ApacheDev.ru <BR></P>
                  <DIV align=right><A 
                  href="http://www.apachedev.ru/%20http://www.onlamp.com/pub/a/apache/2001/09/27/apache_2.html">Оригинал 
                  статьи</A></DIV>
                  <P>В предыдущих статьях, я рассказал о некоторых новых 
                  возможностях Apache 2.0 и о том, как вы можете реализовать их 
                  в ваших веб-серверах. В этот раз, я расскажу об одной мало 
                  обсуждаемой особенности Apache 2.0. </P>
                  <P>Одной из самых больших достоинств сервера Apache над 
                  другими веб-серверами это то, с какой легкостью пишутся мощные 
                  модули для него. Apache, начиная с версии 1.0, использует 
                  модули для реализации всех своих функций, кроме отправки 
                  статических документов клиенту. Так как сам Apache для всего 
                  использует модули, то следовательно модулям необходим доступ к 
                  каждому этапу обработки запроса. Однако, несмотря на все 
                  достоинства модуля, у него есть один большой недостаток. </P>
                  <TABLE align=right border=1 cellPadding=1 cellSpacing=2 
                  style="BORDER-BOTTOM: rgb(204,204,204) 1px solid; BORDER-LEFT: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; BORDER-TOP: rgb(204,204,204) 1px solid; MARGIN: 8px" 
                  width=250>
                    <TBODY>
                    <TR>
                      <TD bgColor=#ffffff 
                      style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-RIGHT: medium none; BORDER-TOP: medium none" 
                      vAlign=top width=250>
                        <P class=smalltext><A 
                        href="http://bolero.ru//cgi-bin/basket.cgi?act_add=yes&amp;pid=27523686&amp;num=1&amp;partner=apachedev&amp;new=1"><IMG 
                        align=left 
                        alt="Perl. Сборник рецептов. Для профессионалов. 2-е издание" 
                        border=0 src="/images/books/5.gif"></A> <B><A 
                        href="http://bolero.ru//cgi-bin/basket.cgi?act_add=yes&amp;pid=27523686&amp;num=1&amp;partner=apachedev&amp;new=1">Perl. 
                        Сборник рецептов. Для профессионалов. 2-е издание 
                        </A></B><BR>Том Кристиансен, Натан Торкингтон<BR>Питер, 
                        928 стр.<BR>Цена: 462,00 руб. <BR><A 
                        href="http://bolero.ru//cgi-bin/dsc.cgi?27523686&amp;partner=apachedev&amp;new=1">Подробнее</A> 
                        <A 
                        href="http://bolero.ru//cgi-bin/basket.cgi?act_add=yes&amp;pid=27523686&amp;num=1&amp;partner=apachedev&amp;new=1">Купить</A> 
                        </P></TD></TR></TBODY></TABLE>
                  <P>Модули это всегда отдельные сущности. Так, например, если 
                  два модуля делают одинаковую операцию, то они оба нуждаются в 
                  ее реализации. Это делает поддержку модулей очень сложным, 
                  потому что, если вы измените поведение одного такого модуля, 
                  то вы должны также изменить это и в другом. Вероятно, лучший 
                  пример этого, это модули <FONT 
                  color=#9999ff><I>mod_include</I></FONT> и <FONT 
                  color=#9999ff><I>mod_cgi</I></FONT>. Модуль <FONT 
                  color=#9999ff><I>mod_include</I></FONT> выполняет обработку 
                  SSI, а модуль <FONT color=#9999ff><I>mod_cgi</I></FONT> 
                  выполняет CGI-скрипты. Тем не менее, модулю <FONT 
                  color=#9999ff><I>mod_include</I></FONT> также требуется 
                  обработка CGI-скриптов всякий раз, когда он сталкивается с 
                  кодом следующего вида: </P>
                  <P><I><FONT color=#9999ff>&lt;-- #exec cgi=/cgi-bin/printenv 
                  --&gt; </FONT></I></P>
                  <P>В Apache 1.3 оба модуля поступали так: создавали 
                  CGI-процесс и в нем выполняли корректный скрипт. На некоторых 
                  платформах данная логика была слишком сложная - особенно на 
                  тех платформах, которые не видели в строке <FONT 
                  color=#9999ff><I>#!</I></FONT> начало скрипта, и не вызывали 
                  для него интерпретатор. </P>
                  <P>В Apache 2.0 мы можем решить эту проблему взаимодействия, 
                  позволяя mod_include выполнять CGI-скрипты внутри 
                  модуля<I><FONT color=#9999ff> mod_cgi</FONT></I>. Такой подход 
                  также имеет свои недостатки. Основной недостаток это то, что 
                  mod_include не может использовать результат CGI-скриптов, если 
                  модуль <FONT color=#9999ff><I>mod_cgi</I></FONT> не загружен 
                  на сервер. </P>
                  <P>Разработчики Apache решили, что данная уступка будет 
                  обоснованная, потому что не включение модуля <FONT 
                  color=#9999ff><I>mod_cgi</I></FONT> администратором означает, 
                  что он запрещает выполнение CGI-скриптов. И мы не нашли 
                  обоснованной причины, позволяющей выполнять CGI-скрипты внутри 
                  SSI файлов, если они запрещены администратором. Эта 
                  возможность <FONT color=#9999ff><I>mod_include</I></FONT> 
                  позволила авторам других модулей расширять SSI-тэги в файлах, 
                  без необходимости изменять код модуля <FONT 
                  color=#9999ff><I>mod_include</I></FONT>. </P>
                  <P>Для демонстрации того, как легко расширять <FONT 
                  color=#9999ff><I>mod_include</I></FONT>, давайте посмотрим, 
                  как это делает модуль <FONT 
                  color=#9999ff><I>mod_cgi</I></FONT>. Первым шагом будет 
                  получение пары функций модуля <FONT 
                  color=#9999ff><I>mod_include</I></FONT>. Это делается с 
                  помощью необязательных функции, новой возможности Apache 2.0, 
                  позволяющая любому модулю регистрировать свои функции в ядре 
                  как необязательные. Когда другой модуль хочет использовать эти 
                  функции, он обращается к ядру сервера, спрашивая, 
                  зарегистрировал ли модуль эти функции. Ядро сервера использует 
                  имя функции как ключ для поиска указателя на 
                  зарегистрированную функцию. </P>
                  <P>Вот три важные функции для расширения mod_include: 
                  <BR><FONT 
                  color=#9999ff><I>ap_register_include_handler</I></FONT>, <FONT 
                  color=#9999ff><I>ap_ssi_get_tag_and_value</I></FONT>, и <FONT 
                  color=#9999ff><I>ap_ssi_parse_string</I></FONT>. Функция <FONT 
                  color=#9999ff><I>ap_register_include_handler</I></FONT> 
                  используется для определения тэга, который будет 
                  обрабатываться этим модулем. <FONT 
                  color=#9999ff><I>ap_ssi_get_tag_and_value</I></FONT> получает 
                  следующий атрибут и значение из SSI тэга, который был 
                  обработан. Функции, расширяющие SSI, будут вызываться этой 
                  функцией до тех пор, получая каждый атрибут, пока функция не 
                  вернет null-атрибут. Это покажет, что все атрибуты обработаны. 
                  Последняя функция - это <FONT 
                  color=#9999ff><I>ap_ssi_parse_string</I></FONT>. Эта функция 
                  используется для обработки вставок и преобразование их в 
                  строку. </P>
                  <P>Когда указатели на эти функции получены, ваш модуль должен 
                  зарегистрировать тэг в модуле mod_include. Это можно сделать, 
                  только если все предыдущие функции возвратили успешный 
                  результат. Для регистрации тега, вызовете регистрирующую 
                  функцию. Первый аргумент функции - это строка, которую <FONT 
                  color=#9999ff><I>mod_include</I></FONT> должен обнаружить при 
                  обработке SSI. Второй аргумент - это функция, которая 
                  вызывается, когда найдется данная строка. Следующая функция 
                  показывает, как <FONT color=#9999ff><I>mod_cgi</I></FONT> 
                  делает это. </P>
                  <P><I><FONT color=#9999ff>static void 
                  cgi_post_config(apr_pool_t *p, apr_pool_t *plog, apr_pool_t 
                  *ptemp, server_rec *s) </FONT></I></P>
                  <P><FONT color=#9999ff><I>{</I></FONT></P>
                  <P><FONT color=#9999ff><I>cgi_pfn_reg_with_ssi = 
                  APR_RETRIEVE_OPTIONAL_FN(ap_register_include_handler);<BR>cgi_pfn_gtv 
                  = APR_RETRIEVE_OPTIONAL_FN(ap_ssi_get_tag_and_value); 
                  <BR>cgi_pfn_ps = 
                  APR_RETRIEVE_OPTIONAL_FN(ap_ssi_parse_string);</I></FONT></P>
                  <P><FONT color=#9999ff><I>if ((cgi_pfn_reg_with_ssi) 
                  &amp;&amp; (cgi_pfn_gtv) &amp;&amp; (cgi_pfn_ps)) { 
                  <BR>cgi_pfn_reg_with_ssi("exec", handle_exec); <BR>} <BR>} 
                  </I></FONT></P>
                  <P>Вот еще одна важная деталь. Если вы посмотрите на имя 
                  предыдущей функции, то обратите внимание, что она вызывается в 
                  течение фазы <FONT color=#9999ff><I>post_config</I></FONT>. 
                  Проблема в том, что модуль <FONT 
                  color=#9999ff><I>mod_include</I></FONT> использует хэш-таблицу 
                  для хранения пар строка/функция, и он создает эту таблицу в 
                  своей <FONT color=#9999ff><I>post_config</I></FONT> функции. 
                  Если <FONT color=#9999ff><I>post_config</I></FONT> функция 
                  модуля <FONT color=#9999ff><I>mod_cgi</I></FONT> вызовется 
                  первой, тогда сервер выдаст ошибку при загрузке. Это может 
                  быть легко решено, используя новый механизм хуков (<I>hook 
                  mechanism</I>) в Apache 2.0. Ниже приведен пример этого. Это 
                  функция <FONT color=#9999ff><I>register_hooks</I></FONT> 
                  модуля <FONT color=#9999ff><I>mod_cgi</I></FONT>. Когда <FONT 
                  color=#9999ff><I>mod_cgi</I></FONT> регистрирует свою <FONT 
                  color=#9999ff><I>post_config</I></FONT> функцию, он должен 
                  определить, что <FONT color=#9999ff><I>mod_include</I></FONT> 
                  должен загружаться первым. </P>
                  <P><I><FONT color=#9999ff>static void 
                  register_hooks(apr_pool_t *p)<BR>{<BR>static const char * 
                  const aszPre[] = { "mod_include.c", NULL }; 
                  <BR>ap_hook_handler(cgi_handler, NULL, NULL, 
                  APR_HOOK_MIDDLE);<BR>ap_hook_post_config(cgi_post_config, 
                  aszPre, NULL, APR_HOOK_REALLY_FIRST); <BR>} </FONT></I></P>
                  <TABLE align=left border=1 cellPadding=1 cellSpacing=2 
                  style="BORDER-BOTTOM: rgb(204,204,204) 1px solid; BORDER-LEFT: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; BORDER-TOP: rgb(204,204,204) 1px solid; MARGIN: 8px" 
                  width=250>
                    <TBODY>
                    <TR>
                      <TD bgColor=#ffffff 
                      style="BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; BORDER-RIGHT: medium none; BORDER-TOP: medium none" 
                      vAlign=top width=250>
                        <P class=smalltext><A 
                        href="http://bolero.ru//cgi-bin/basket.cgi?act_add=yes&amp;pid=22212658&amp;num=1&amp;partner=apachedev&amp;new=1"><IMG 
                        align=left alt="Apache для профессионалов" border=0 
                        height=100 src="/images/books/1.jpg" width=72></A> <B><A 
                        href="http://bolero.ru//cgi-bin/basket.cgi?act_add=yes&amp;pid=22212658&amp;num=1&amp;partner=apachedev&amp;new=1">Apache 
                        для профессионалов</A></B><BR>П. Уэйнрайт<BR>ЛОРИ, 496 
                        стр. <BR>Цена: 282,00 руб. <BR><A 
                        href="http://bolero.ru//cgi-bin/dsc.cgi?22212658&amp;partner=apachedev&amp;new=1">Подробнее</A> 
                        <A 
                        href="http://bolero.ru//cgi-bin/basket.cgi?act_add=yes&amp;pid=22212658&amp;num=1&amp;partner=apachedev&amp;new=1">Купить</A> 
                        </P></TD></TR></TBODY></TABLE>
                  <P>Конечно, это только один пример, когда расширение модулей 
                  может быть полезным. Модуль <FONT 
                  color=#9999ff><I>mod_log_config</I></FONT> - это другой 
                  пример, где эта возможность реализована в сервере. В случае с 
                  <FONT color=#9999ff><I>mod_log_config</I></FONT>, мы можем 
                  позволить модулям расширять типы данных, доступных для записи 
                  в логи. Чем больше людей будут писать модули для Apache 2.0, 
                  тем больше ситуаций, наподобие этой, будут исследованы. А 
                  основное ядро команды продолжит создавать возможности для 
                  модулей, которые позволят им помогать друг другу при решении 
                  проблем. </P>
                  <P>Apache 2.0 имеет много возможностей, которые не были 
                  доступны в Apache 1.3. Эти возможности помогут сохранить 
                  Apache наиболее популярным веб-сервером в Internet. </P>
                  <CENTER></CENTER>
                  <HR>
                  Дата публикации: 09/04/2005<BR>Прочитано: 1862 
                  раз<BR><B>Дополнительно на данную тему:</B>
                  <HR>
                  <IMG border=0 height=14 
                  src="modules/Pages/images/page_pic.gif" width=10> <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=4" 
                  style="TEXT-DECORATION: none"><B>Установка Apache 
                  2.0</B></A><BR><IMG border=0 height=14 
                  src="modules/Pages/images/page_pic.gif" width=10> <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=5" 
                  style="TEXT-DECORATION: none"><B>Переход с сервера Apache 1.3 
                  на Apache 2.0</B></A><BR><IMG border=0 height=14 
                  src="modules/Pages/images/page_pic.gif" width=10> <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=6" 
                  style="TEXT-DECORATION: none"><B>Написание фильтров для Apache 
                  2.0</B></A><BR><IMG border=0 height=14 
                  src="modules/Pages/images/page_pic.gif" width=10> <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=7" 
                  style="TEXT-DECORATION: none"><B>Написание выходных фильтров 
                  Apache 2.0</B></A><BR><IMG border=0 height=14 
                  src="modules/Pages/images/page_pic.gif" width=10> <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=8" 
                  style="TEXT-DECORATION: none"><B>Написание входных фильтров 
                  Apache 2.0</B></A><BR><IMG border=0 height=14 
                  src="modules/Pages/images/page_pic.gif" width=10> <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=10" 
                  style="TEXT-DECORATION: none"><B>Основы управления ресурсами в 
                  Apache: APR Пулы 
        (pools)</B></A><BR></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
      <TABLE bgColor=#efce68 border=0 cellPadding=0 cellSpacing=1 
        width="100%"><TBODY>
        <TR>
          <TD>
            <TABLE bgColor=#efefef border=0 cellPadding=8 cellSpacing=1 
            width="100%">
              <TBODY>
              <TR>
                <TD>
                  <CENTER><A href="javascript:history.go(-1)">Назад</A> | <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages">Начало</A> 
                  | <A 
                  href="http://www.apachedev.ru/modules.php?name=Pages&amp;go=page&amp;pid=9#">Наверх</A></CENTER></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE align=center bgColor=#000000 border=0 cellPadding=0 cellSpacing=0 
width=750>
  <TBODY>
  <TR>
    <TD height=5 width=750><IMG alt="" border=0 height=5 
      src="themes/ApacheDev/images/bottombar.gif" width=750></TD></TR>
  <TR>
    <TD width="100%"><IMG alt="" border=0 height=1 
      src="themes/ApacheDev/images/pixel.gif" 
width=1></TD></TR></TBODY></TABLE><BR><BR>
<TABLE align=center border=0 cellPadding=0 cellSpacing=0 width=750>
  <TBODY>
  <TR align=middle>
    <TD colSpan=3 width="100%"><FONT class=footmsg>Web site engine code is 
      Copyright © 2003 by <A href="http://phpnuke.org/"><FONT 
      class=footmsg_l>PHP-Nuke</FONT></A>. All Rights Reserved. PHP-Nuke is Free 
      Software released under the <A href="http://www.gnu.org/"><FONT 
      class=footmsg_l>GNU/GPL license</FONT></A>.<BR>Открытие страницы: 0.02 
      секунды<BR></FONT></TR></TBODY></TABLE></BODY></HTML>
